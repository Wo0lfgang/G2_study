"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transition = void 0;
var tslib_1 = require("tslib");
var util_1 = require("@antv/util");
/**
 * execute transition animation on element
 * @description in the current stage, only support the following properties:
 * x, y, width, height, opacity, fill, stroke, lineWidth, radius
 * @param el element to be animated
 * @param target target properties
 * @param options transition options
 * @param animate whether to animate
 * @returns transition instance
 */
function transition(el, target, options) {
    var from = {};
    var to = {};
    Object.entries(target).forEach(function (_a) {
        var _b = tslib_1.__read(_a, 2), key = _b[0], tarStyle = _b[1];
        var currStyle = el.attr(key);
        if (!(0, util_1.isNil)(tarStyle) && !(0, util_1.isNil)(currStyle) && currStyle !== tarStyle) {
            from[key] = currStyle;
            to[key] = tarStyle;
        }
    });
    if (!options) {
        if ('update' in el)
            el.update(target);
        else
            el.attr(target);
        return null;
    }
    if (Object.keys(from).length > 0) {
        return el.animate([from, to], tslib_1.__assign({ fill: 'both' }, options));
    }
    return null;
}
exports.transition = transition;
//# sourceMappingURL=transition.js.map