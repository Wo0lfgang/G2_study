!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@antv/g")):"function"==typeof define&&define.amd?define(["@antv/g"],e):"object"==typeof exports?exports.GUI=e(require("@antv/g")):t.GUI=e(t.G)}(window,(function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=15)}([function(e,r){e.exports=t},,function(t,e,r){var n=r(11).parse;n.parseSVG=n,n.makeAbsolute=function(t){var e,r={x:0,y:0},n={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach((function(t){for(var o in"moveto"===t.command&&(e=t),t.x0=r.x,t.y0=r.y,n)o in t&&(t[o]+=t.relative?t[n[o]]:0);"x"in t||(t.x=r.x),"y"in t||(t.y=r.y),t.relative=!1,t.code=t.code.toUpperCase(),"closepath"==t.command&&(t.x=e.x,t.y=e.y),r=t})),t},t.exports=n},function(t,e,r){var n=r(12),o=r(13),i=Object.hasOwnProperty,a=Object.create(null);for(var u in n)i.call(n,u)&&(a[n[u]]=u);var l=t.exports={to:{},get:{}};function c(t,e,r){return Math.min(Math.max(e,t),r)}function f(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}l.get=function(t){var e,r;switch(t.substring(0,3).toLowerCase()){case"hsl":e=l.get.hsl(t),r="hsl";break;case"hwb":e=l.get.hwb(t),r="hwb";break;default:e=l.get.rgb(t),r="rgb"}return e?{model:r,value:e}:null},l.get.rgb=function(t){if(!t)return null;var e,r,o,a=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(o=e[2],e=e[1],r=0;r<3;r++){var u=2*r;a[r]=parseInt(e.slice(u,u+2),16)}o&&(a[3]=parseInt(o,16)/255)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(o=(e=e[1])[3],r=0;r<3;r++)a[r]=parseInt(e[r]+e[r],16);o&&(a[3]=parseInt(o+o,16)/255)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)a[r]=parseInt(e[r+1],0);e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(e=t.match(/^(\w+)$/))?"transparent"===e[1]?[0,0,0,0]:i.call(n,e[1])?((a=n[e[1]])[3]=1,a):null:null;for(r=0;r<3;r++)a[r]=Math.round(2.55*parseFloat(e[r+1]));e[4]&&(e[5]?a[3]=.01*parseFloat(e[4]):a[3]=parseFloat(e[4]))}for(r=0;r<3;r++)a[r]=c(a[r],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(e){var r=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,c(parseFloat(e[2]),0,100),c(parseFloat(e[3]),0,100),c(isNaN(r)?1:r,0,1)]}return null},l.to.hex=function(){var t=o(arguments);return"#"+f(t[0])+f(t[1])+f(t[2])+(t[3]<1?f(Math.round(255*t[3])):"")},l.to.rgb=function(){var t=o(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},l.to.rgb.percent=function(){var t=o(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"},l.to.hsl=function(){var t=o(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},l.to.hwb=function(){var t=o(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},l.to.keyword=function(t){return a[t.slice(0,3)]}},,,,,,,,function(t,e,r){"use strict";function n(t,e,r,o){this.message=t,this.expected=e,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(n,Error),n.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}return"Expected "+function(t){var e,n,o,i=new Array(t.length);for(e=0;e<t.length;e++)i[e]=(o=t[e],r[o.type](o));if(i.sort(),i.length>0){for(e=1,n=1;e<i.length;e++)i[e-1]!==i[e]&&(i[n]=i[e],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:n,parse:function(t,e){e=void 0!==e?e:{};var r,o={},i={svg_path:J},a=J,u=function(t,e){return function(t,e){if(!e)return[t];for(var r=[t],n=0,o=e.length;n<o;n++)r[n+1]=e[n][1];return r}(t,e)},l=/^[Mm]/,c=q(["M","m"],!1,!1),f=/^[Zz]/,s=q(["Z","z"],!1,!1),y=/^[Ll]/,p=q(["L","l"],!1,!1),h=function(t,e){return wt(t,e)},b=/^[Hh]/,d=q(["H","h"],!1,!1),v=/^[Vv]/,m=q(["V","v"],!1,!1),g=/^[Cc]/,w=q(["C","c"],!1,!1),O=/^[Ss]/,j=q(["S","s"],!1,!1),S=/^[Qq]/,P=q(["Q","q"],!1,!1),x=/^[Tt]/,k=q(["T","t"],!1,!1),A=/^[Aa]/,E=q(["A","a"],!1,!1),_=/^[01]/,T=q(["0","1"],!1,!1),M=$(",",!1),C=function(t){return t.join("")},R=$(".",!1),I=/^[eE]/,L=q(["e","E"],!1,!1),B=/^[+\-]/,D=q(["+","-"],!1,!1),N=/^[0-9]/,z=q([["0","9"]],!1,!1),G=/^[ \t\n\r]/,F=q([" ","\t","\n","\r"],!1,!1),H=0,V=[{line:1,column:1}],W=0,U=[];if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=i[e.startRule]}function $(t,e){return{type:"literal",text:t,ignoreCase:e}}function q(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Z(e){var r,n=V[e];if(n)return n;for(r=e-1;!V[r];)r--;for(n={line:(n=V[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return V[e]=n,n}function Y(t,e){var r=Z(t),n=Z(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function K(t){H<W||(H>W&&(W=H,U=[]),U.push(t))}function X(t,e,r){return new n(n.buildMessage(t,e),t,e,r)}function J(){var t,e,r,n,i;for(t=H,e=[],r=vt();r!==o;)e.push(r),r=vt();if(e!==o)if((r=function(){var t,e,r,n,i,a;if(t=H,(e=Q())!==o){for(r=[],n=H,i=[],a=vt();a!==o;)i.push(a),a=vt();for(i!==o&&(a=Q())!==o?n=i=[i,a]:(H=n,n=o);n!==o;){for(r.push(n),n=H,i=[],a=vt();a!==o;)i.push(a),a=vt();i!==o&&(a=Q())!==o?n=i=[i,a]:(H=n,n=o)}r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())===o&&(r=null),r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o?(t,t=e=function(t){if(!t)return[];for(var e=[],r=0;r<t.length;r++)e=e.concat.apply(e,t[r]);var n=e[0];return n&&"m"==n.code&&(delete n.relative,n.code="M"),e}(r)):(H=t,t=o)}else H=t,t=o;else H=t,t=o;return t}function Q(){var e,r,n,i,a,f;if(e=H,(r=function(){var e,r,n,i,a,u,f;e=H,l.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(c));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=ut())!==o?(a=H,(u=st())===o&&(u=null),u!==o&&(f=et())!==o?a=u=[u,f]:(H=a,a=o),a===o&&(a=null),a!==o?(e,y=a,p=wt(s=r,[i]),y&&(p=p.concat(wt("M"==s?"L":"l",y[1]))),e=r=p):(H=e,e=o)):(H=e,e=o)}else H=e,e=o;var s,y,p;return e}())!==o){for(n=[],i=H,a=[],f=vt();f!==o;)a.push(f),f=vt();for(a!==o&&(f=tt())!==o?i=a=[a,f]:(H=i,i=o);i!==o;){for(n.push(i),i=H,a=[],f=vt();f!==o;)a.push(f),f=vt();a!==o&&(f=tt())!==o?i=a=[a,f]:(H=i,i=o)}n!==o?(e,e=r=u(r,n)):(H=e,e=o)}else H=e,e=o;return e}function tt(){var e;return(e=function(){var e,r;e=H,f.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(s));r!==o&&(e,r=wt("Z"));return e=r}())===o&&(e=function(){var e,r,n,i;e=H,y.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(p));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=et())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,b.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(d));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=rt())!==o?(e,r=wt(r,i.map((function(t){return{x:t}}))),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,v.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(m));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=rt())!==o?(e,r=wt(r,i.map((function(t){return{y:t}}))),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,g.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(w));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=function(){var t,e,r,n,i,a;if(t=H,(e=nt())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=nt())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=nt())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,O.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(j));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=function(){var t,e,r,n,i,a;if(t=H,(e=ot())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=ot())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=ot())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,S.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(P));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=function(){var t,e,r,n,i,a;if(t=H,(e=it())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=it())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=it())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,x.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(k));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=function(){var t,e,r,n,i,a;if(t=H,(e=ut())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=ut())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=ut())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}())===o&&(e=function(){var e,r,n,i;e=H,A.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(E));if(r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o&&(i=function(){var t,e,r,n,i,a;if(t=H,(e=at())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=at())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=at())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,e=u(e,r),t=e):(H=t,t=o)}else H=t,t=o;return t}())!==o?(e,r=h(r,i),e=r):(H=e,e=o)}else H=e,e=o;return e}()),e}function et(){var t,e,r,n,i,a;if(t=H,(e=ut())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=ut())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=ut())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,t=e=u(e,r)):(H=t,t=o)}else H=t,t=o;return t}function rt(){var t,e,r,n,i,a;if(t=H,(e=ct())!==o){for(r=[],n=H,(i=st())===o&&(i=null),i!==o&&(a=ct())!==o?n=i=[i,a]:(H=n,n=o);n!==o;)r.push(n),n=H,(i=st())===o&&(i=null),i!==o&&(a=ct())!==o?n=i=[i,a]:(H=n,n=o);r!==o?(t,t=e=u(e,r)):(H=t,t=o)}else H=t,t=o;return t}function nt(){var t,e,r,n,i,a,u,l,c;return t=H,(e=ut())!==o?((r=st())===o&&(r=null),r!==o&&(n=ut())!==o?((i=st())===o&&(i=null),i!==o&&(a=ut())!==o?(t,l=n,c=a,t=e={x1:(u=e).x,y1:u.y,x2:l.x,y2:l.y,x:c.x,y:c.y}):(H=t,t=o)):(H=t,t=o)):(H=t,t=o),t}function ot(){var t,e,r,n,i,a;return t=H,(e=ut())!==o?((r=st())===o&&(r=null),r!==o&&(n=ut())!==o?(t,a=n,t=e={x2:(i=e).x,y2:i.y,x:a.x,y:a.y}):(H=t,t=o)):(H=t,t=o),t}function it(){var t,e,r,n,i,a;return t=H,(e=ut())!==o?((r=st())===o&&(r=null),r!==o&&(n=ut())!==o?(t,a=n,t=e={x1:(i=e).x,y1:i.y,x:a.x,y:a.y}):(H=t,t=o)):(H=t,t=o),t}function at(){var t,e,r,n,i,a,u,l,c,f,s,y;return t=H,(e=lt())!==o?((r=st())===o&&(r=null),r!==o&&(n=lt())!==o?((i=st())===o&&(i=null),i!==o&&(a=ct())!==o&&st()!==o&&(u=ft())!==o?((l=st())===o&&(l=null),l!==o&&(c=ft())!==o?((f=st())===o&&(f=null),f!==o&&(s=ut())!==o?(t,t=e={rx:e,ry:n,xAxisRotation:a,largeArc:u,sweep:c,x:(y=s).x,y:y.y}):(H=t,t=o)):(H=t,t=o)):(H=t,t=o)):(H=t,t=o)):(H=t,t=o),t}function ut(){var t,e,r,n;return t=H,(e=ct())!==o?((r=st())===o&&(r=null),r!==o&&(n=ct())!==o?(t,t=e={x:e,y:n}):(H=t,t=o)):(H=t,t=o),t}function lt(){var t,e;return t=H,(e=pt())===o&&(e=dt()),e!==o&&(t,e=1*e),t=e}function ct(){var t,e,r,n;return t=H,e=H,(r=bt())===o&&(r=null),r!==o&&(n=pt())!==o?e=r=[r,n]:(H=e,e=o),e===o&&(e=H,(r=bt())===o&&(r=null),r!==o&&(n=dt())!==o?e=r=[r,n]:(H=e,e=o)),e!==o&&(t,e=1*e.join("")),t=e}function ft(){var e,r;return e=H,_.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(T)),r!==o&&(e,r="1"==r),e=r}function st(){var t,e,r,n,i;if(t=H,e=[],(r=vt())!==o)for(;r!==o;)e.push(r),r=vt();else e=o;if(e!==o)if((r=yt())===o&&(r=null),r!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o?t=e=[e,r,n]:(H=t,t=o)}else H=t,t=o;else H=t,t=o;if(t===o){if(t=H,e=H,(r=yt())!==o){for(n=[],i=vt();i!==o;)n.push(i),i=vt();n!==o?e=r=[r,n]:(H=e,e=o)}else H=e,e=o;e!==o&&(t,e=""),t=e}return t}function yt(){var e;return 44===t.charCodeAt(H)?(e=",",H++):(e=o,K(M)),e}function pt(){var e,r,n,i;return e=H,r=H,(n=function(){var e,r,n,i,a;e=H,r=H,(n=dt())===o&&(n=null);n!==o?(46===t.charCodeAt(H)?(i=".",H++):(i=o,K(R)),i!==o&&(a=dt())!==o?r=n=[n,i,a]:(H=r,r=o)):(H=r,r=o);r===o&&(r=H,(n=dt())!==o?(46===t.charCodeAt(H)?(i=".",H++):(i=o,K(R)),i!==o?r=n=[n,i]:(H=r,r=o)):(H=r,r=o));r!==o&&(e,r=C(r));return e=r}())!==o?((i=ht())===o&&(i=null),i!==o?r=n=[n,i]:(H=r,r=o)):(H=r,r=o),r===o&&(r=H,(n=dt())!==o&&(i=ht())!==o?r=n=[n,i]:(H=r,r=o)),r!==o&&(e,r=C(r)),e=r}function ht(){var e,r,n,i,a;return e=H,r=H,I.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,K(L)),n!==o?((i=bt())===o&&(i=null),i!==o&&(a=dt())!==o?r=n=[n,i,a]:(H=r,r=o)):(H=r,r=o),r!==o&&(e,r=C(r)),e=r}function bt(){var e;return B.test(t.charAt(H))?(e=t.charAt(H),H++):(e=o,K(D)),e}function dt(){var e,r,n;if(e=H,r=[],N.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,K(z)),n!==o)for(;n!==o;)r.push(n),N.test(t.charAt(H))?(n=t.charAt(H),H++):(n=o,K(z));else r=o;return r!==o&&(e,r=r.join("")),e=r}function vt(){var e,r;return e=H,G.test(t.charAt(H))?(r=t.charAt(H),H++):(r=o,K(F)),r!==o&&(e,r=""),e=r}var mt={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var gt in mt)mt[gt.toUpperCase()]=mt[gt];function wt(t,e){e||(e=[{}]);for(var r=e.length;r--;){var n={code:t,command:mt[t]};for(var o in t==t.toLowerCase()&&(n.relative=!0),e[r])n[o]=e[r][o];e[r]=n}return e}if((r=a())!==o&&H===t.length)return r;throw r!==o&&H<t.length&&K({type:"end"}),X(U,W<t.length?t.charAt(W):null,W<t.length?Y(W,W+1):Y(W,W))}}},function(t,e,r){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";var n=r(14),o=Array.prototype.concat,i=Array.prototype.slice,a=t.exports=function(t){for(var e=[],r=0,a=t.length;r<a;r++){var u=t[r];n(u)?e=o.call(e,i.call(u)):e.push(u)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},function(t,e,r){"use strict";r.r(e),r.d(e,"Tag",(function(){return oo})),r.d(e,"Marker",(function(){return Un})),r.d(e,"Button",(function(){return So})),r.d(e,"Breadcrumb",(function(){return No})),r.d(e,"Arrow",(function(){return Ho})),r.d(e,"Sparkline",(function(){return mf})),r.d(e,"Slider",(function(){return es})),r.d(e,"Scrollbar",(function(){return bs})),r.d(e,"Axis",(function(){return ph})),r.d(e,"Helix",(function(){return vh})),r.d(e,"Sheet",(function(){return Oh})),r.d(e,"Timeline",(function(){return xh})),r.d(e,"Continuous",(function(){return mv})),r.d(e,"Category",(function(){return md})),r.d(e,"Tooltip",(function(){return nm})),r.d(e,"Switch",(function(){return vm})),r.d(e,"Navigator",(function(){return Jh})),r.d(e,"LineCrosshair",(function(){return Km})),r.d(e,"CircleCrosshair",(function(){return cg})),r.d(e,"PolygonCrosshair",(function(){return jg})),r.d(e,"Text",(function(){return qg})),r.d(e,"Checkbox",(function(){return bw})),r.d(e,"Poptip",(function(){return zw})),r.d(e,"Layout",(function(){return Qw})),r.d(e,"path2marker",(function(){return w})),r.d(e,"svg2marker",(function(){return O})),r.d(e,"measureTextWidth",(function(){return I})),r.d(e,"getEllipsisText",(function(){return L})),r.d(e,"parseLength",(function(){return B})),r.d(e,"getFont",(function(){return D})),r.d(e,"transform",(function(){return N})),r.d(e,"toPrecision",(function(){return z})),r.d(e,"toThousands",(function(){return G})),r.d(e,"toScientificNotation",(function(){return F})),r.d(e,"toKNotation",(function(){return H})),r.d(e,"ifNegative",(function(){return V})),r.d(e,"ifPositive",(function(){return W})),r.d(e,"multi",(function(){return U})),r.d(e,"mid",(function(){return $})),r.d(e,"normalSeriesAttr",(function(){return Z})),r.d(e,"TEXT_INHERITABLE_PROPS",(function(){return ct})),r.d(e,"getDefaultStyle",(function(){return ft})),r.d(e,"getStateStyle",(function(){return st})),r.d(e,"applyStyleSheet",(function(){return yt})),r.d(e,"subObject",(function(){return pt})),r.d(e,"subObjects",(function(){return ht})),r.d(e,"superObject",(function(){return bt})),r.d(e,"styleSeparator",(function(){return dt})),r.d(e,"getEventPos",(function(){return vt})),r.d(e,"getShapeSpace",(function(){return me})),r.d(e,"getLocalBBox",(function(){return ge})),r.d(e,"createTempText",(function(){return we})),r.d(e,"distance",(function(){return Oe})),r.d(e,"isHorizontal",(function(){return je})),r.d(e,"isVertical",(function(){return Se})),r.d(e,"stringToHTML",(function(){return Pe})),r.d(e,"parseHTML",(function(){return xe})),r.d(e,"scale",(function(){return Ee})),r.d(e,"parseDate",(function(){return Te})),r.d(e,"getMask",(function(){return Me})),r.d(e,"formatTime",(function(){return Ce})),r.d(e,"getTimeDiff",(function(){return Re})),r.d(e,"getTimeScale",(function(){return Ie})),r.d(e,"getTimeStart",(function(){return Le})),r.d(e,"deepAssign",(function(){return ze})),r.d(e,"intersection",(function(){return We})),r.d(e,"lineLen",(function(){return qe})),r.d(e,"throttle",(function(){return Ze})),r.d(e,"Selection",(function(){return le})),r.d(e,"select",(function(){return fe})),r.d(e,"maybeAppend",(function(){return se})),r.d(e,"defined",(function(){return Ye})),r.d(e,"timer",(function(){return Ke})),r.d(e,"renderExtDo",(function(){return Xe})),r.d(e,"sampling",(function(){return Je})),r.d(e,"degToRad",(function(){return Qe})),r.d(e,"radToDeg",(function(){return tr})),r.d(e,"getTransform",(function(){return nr})),r.d(e,"hasSetRotate",(function(){return or})),r.d(e,"getTranslate",(function(){return ir})),r.d(e,"translate",(function(){return ar})),r.d(e,"percentTransform",(function(){return ur})),r.d(e,"inRange",(function(){return lr})),r.d(e,"getCallbackValue",(function(){return sr})),r.d(e,"ifShow",(function(){return yr})),r.d(e,"GUI",(function(){return Pr})),r.d(e,"createComponent",(function(){return xr})),r.d(e,"classNames",(function(){return Er})),r.d(e,"filterTransform",(function(){return ot})),r.d(e,"groupBy",(function(){return _r})),r.d(e,"capitalize",(function(){return Tr})),r.d(e,"ellipsisIt",(function(){return Mr})),r.d(e,"flex",(function(){return Fr})),r.d(e,"grid",(function(){return Hr})),r.d(e,"calcLayout",(function(){return Vr})),r.d(e,"transpose",(function(){return Wr})),r.d(e,"scaleToPixel",(function(){return Ur})),r.d(e,"transition",(function(){return Xr})),r.d(e,"BBox",(function(){return Dr})),r.d(e,"numberInterpolate",(function(){return en})),r.d(e,"arrayInterpolate",(function(){return rn})),r.d(e,"objectInterpolate",(function(){return nn})),r.d(e,"interpolate",(function(){return on})),r.d(e,"keyframeInterpolate",(function(){return an})),r.d(e,"visibility",(function(){return ln})),r.d(e,"traverse",(function(){return un})),r.d(e,"createOffscreenGroup",(function(){return gn}));var n={};r.r(n),r.d(n,"create",(function(){return ml})),r.d(n,"fromMat4",(function(){return gl})),r.d(n,"clone",(function(){return wl})),r.d(n,"copy",(function(){return Ol})),r.d(n,"fromValues",(function(){return jl})),r.d(n,"set",(function(){return Sl})),r.d(n,"identity",(function(){return Pl})),r.d(n,"transpose",(function(){return xl})),r.d(n,"invert",(function(){return kl})),r.d(n,"adjoint",(function(){return Al})),r.d(n,"determinant",(function(){return El})),r.d(n,"multiply",(function(){return _l})),r.d(n,"translate",(function(){return Tl})),r.d(n,"rotate",(function(){return Ml})),r.d(n,"scale",(function(){return Cl})),r.d(n,"fromTranslation",(function(){return Rl})),r.d(n,"fromRotation",(function(){return Il})),r.d(n,"fromScaling",(function(){return Ll})),r.d(n,"fromMat2d",(function(){return Bl})),r.d(n,"fromQuat",(function(){return Dl})),r.d(n,"normalFromMat4",(function(){return Nl})),r.d(n,"projection",(function(){return zl})),r.d(n,"str",(function(){return Gl})),r.d(n,"frob",(function(){return Fl})),r.d(n,"add",(function(){return Hl})),r.d(n,"subtract",(function(){return Vl})),r.d(n,"multiplyScalar",(function(){return Wl})),r.d(n,"multiplyScalarAndAdd",(function(){return Ul})),r.d(n,"exactEquals",(function(){return $l})),r.d(n,"equals",(function(){return ql})),r.d(n,"mul",(function(){return Zl})),r.d(n,"sub",(function(){return Yl}));var o={};r.r(o),r.d(o,"create",(function(){return Kl})),r.d(o,"clone",(function(){return Xl})),r.d(o,"fromValues",(function(){return Jl})),r.d(o,"copy",(function(){return Ql})),r.d(o,"set",(function(){return tc})),r.d(o,"add",(function(){return ec})),r.d(o,"subtract",(function(){return rc})),r.d(o,"multiply",(function(){return nc})),r.d(o,"divide",(function(){return oc})),r.d(o,"ceil",(function(){return ic})),r.d(o,"floor",(function(){return ac})),r.d(o,"min",(function(){return uc})),r.d(o,"max",(function(){return lc})),r.d(o,"round",(function(){return cc})),r.d(o,"scale",(function(){return fc})),r.d(o,"scaleAndAdd",(function(){return sc})),r.d(o,"distance",(function(){return yc})),r.d(o,"squaredDistance",(function(){return pc})),r.d(o,"length",(function(){return hc})),r.d(o,"squaredLength",(function(){return bc})),r.d(o,"negate",(function(){return dc})),r.d(o,"inverse",(function(){return vc})),r.d(o,"normalize",(function(){return mc})),r.d(o,"dot",(function(){return gc})),r.d(o,"cross",(function(){return wc})),r.d(o,"lerp",(function(){return Oc})),r.d(o,"random",(function(){return jc})),r.d(o,"transformMat2",(function(){return Sc})),r.d(o,"transformMat2d",(function(){return Pc})),r.d(o,"transformMat3",(function(){return xc})),r.d(o,"transformMat4",(function(){return kc})),r.d(o,"rotate",(function(){return Ac})),r.d(o,"angle",(function(){return Ec})),r.d(o,"zero",(function(){return _c})),r.d(o,"str",(function(){return Tc})),r.d(o,"exactEquals",(function(){return Mc})),r.d(o,"equals",(function(){return Cc})),r.d(o,"len",(function(){return Ic})),r.d(o,"sub",(function(){return Lc})),r.d(o,"mul",(function(){return Bc})),r.d(o,"div",(function(){return Dc})),r.d(o,"dist",(function(){return Nc})),r.d(o,"sqrDist",(function(){return zc})),r.d(o,"sqrLen",(function(){return Gc})),r.d(o,"forEach",(function(){return Fc}));var i={};r.r(i),r.d(i,"leftTranslate",(function(){return Hc})),r.d(i,"leftRotate",(function(){return Vc})),r.d(i,"leftScale",(function(){return Wc})),r.d(i,"transform",(function(){return Uc})),r.d(i,"direction",(function(){return $c})),r.d(i,"angleTo",(function(){return qc})),r.d(i,"vertical",(function(){return Zc}));var a={}.toString,u=function(t,e){return a.call(t)==="[object "+e+"]"},l=function(t){return Array.isArray?Array.isArray(t):u(t,"Array")};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=function(t){return"object"===c(t)&&null!==t},s=function(t){if(!f(t)||!u(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};function y(t,e,r,n){for(var o in r=r||0,n=n||5,e)if(e.hasOwnProperty(o)){var i=e[o];null!==i&&s(i)?(s(t[o])||(t[o]={}),r<n?y(t[o],i,r+1,n):t[o]=e[o]):l(i)?(t[o]=[],t[o]=t[o].concat(i)):void 0!==i&&(t[o]=i)}}var p=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)y(t,e[n]);return t},h=function(t){return null==t},b=r(0),d=r(2),v=r.n(d);function m(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1014;return function(n,o,i){return v()(t).map((function(t){var a=[];return a.push(!0===t.relative?t.code.toLowerCase():t.code.toUpperCase()),[[t.x1,t.y1],[t.x2,t.y2],[t.x,t.y]].forEach((function(u){var l=m(u,2),c=l[0],f=l[1];void 0!==c&&a.push(!0===t.relative?c/e*2*i:n-i+2*i*(c/e)),void 0!==f&&a.push(!0===t.relative?f/r*2*i:o-i+2*i*(f/r))})),a}))}}function O(t){var e=/<path\s+d="(.*?)"/i.exec(t),r=/viewBox="\d+\s+\d+\s+(\d+)\s+(\d+)"/i.exec(t);if(null===e||e.length<2)return function(){return[]};var n=1024,o=1024;return null!==r&&r.length>=3&&(Number.isNaN(parseInt(r[1],10))||(n=parseInt(r[1],10)),Number.isNaN(parseInt(r[2],10))||(o=parseInt(r[2],10))),w(e[1],n,o)}var j=function(t){return"function"==typeof t},S=function(t,e){if(!j(t))throw new TypeError("Expected a function");var r=function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var u=t.apply(this,n);return a.set(i,u),u};return r.cache=new Map,r},P=function(t){return u(t,"String")};function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var k=function(t){var e=x(t);return null!==t&&"object"===e||"function"===e};var A,E=function(t,e){if(t)if(l(t))for(var r=0,n=t.length;r<n&&!1!==e(t[r],r);r++);else if(k(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break},_=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return E(t,(function(r,n){j(t)&&"prototype"===n||e.push(r)})),e},T=function(t){return h(t)?"":t.toString()};function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return R(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var I=S((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.fontSize,n=e.fontFamily,o=e.fontWeight,i=e.fontStyle,a=e.fontVariant;return A||(A=document.createElement("canvas").getContext("2d")),A.font=[i,a,o,"".concat(r,"px"),n].join(" "),A.measureText(P(t)?t:"").width}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[t].concat(C(_(e))).join("")})),L=function(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...",i=16,a=I(o,r);n=P(t)?t:T(t);var u,l,c=e,f=[];if(I(t,r)<=e)return t;for(;u=n.substr(0,i),!((l=I(u,r))+a>c);)if(f.push(u),c-=l,!(n=n.substr(i)))return f.join("");for(;u=n.substr(0,1),!((l=I(u,r))+a>c);)if(f.push(u),c-=l,!(n=n.substr(1)))return f.join("");return"".concat(f.join("")).concat(o)};function B(t,e){return"string"==typeof t?I(t,e):t}var D=function(t){var e=t.style.fontFamily||"sans-serif",r=t.style.fontWeight||"normal",n=t.style.fontStyle||"normal",o=t.style.fontVariant,i=t.style.fontSize;return{fontSize:i="object"===M(i)?i.value:i,fontFamily:e,fontWeight:r,fontStyle:n,fontVariant:o}};function N(t,e){return"capitalize"===e?t.toLowerCase().replace(/( |^)[a-z]/g,(function(t){return t.toUpperCase()})):"lowercase"===e?t.toLowerCase():"uppercase"===e?t.toUpperCase():t}function z(t,e){var r=Math.pow(10,e);return~~(t*r)/r}function G(t){return t.toLocaleString()}function F(t){return t.toExponential()}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(t)<1e3?String(t):"".concat(z(t/1e3,e).toLocaleString(),"K")}var V=function(t,e,r){return t<0&&Number.isFinite(t)?e:r},W=function(t,e,r){return t>0&&Number.isFinite(t)?e:r},U=function(t,e){return t*e},$=function(t,e){return t/2+(e||0)/2},q=function(t){return u(t,"Number")};function Z(t){if(q(t))return[t,t,t,t];if(l(t)){var e=t.length;if(1===e)return[t[0],t[0],t[0],t[0]];if(2===e)return[t[0],t[1],t[0],t[1]];if(3===e)return[t[0],t[1],t[2],t[1]];if(4===e)return t}return[0,0,0,0]}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var K=function t(e){if("object"!==Y(e)||null===e)return e;var r;if(l(e)){r=[];for(var n=0,o=e.length;n<o;n++)"object"===Y(e[n])&&null!=e[n]?r[n]=t(e[n]):r[n]=e[n]}else for(var i in r={},e)"object"===Y(e[i])&&null!=e[i]?r[i]=t(e[i]):r[i]=e[i];return r},X=function(t,e,r){for(var n=0,o=P(e)?e.split("."):e;t&&n<o.length;)t=t[o[n++]];return void 0===t||n<o.length?r:t},J=["default","active","selected","disabled","inactive"];function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return et(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Q(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ot(t){var e=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(r),!0).forEach((function(e){nt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t),r=new RegExp(/^(f|[\S]+F)(ilter|iltrate)$/),n={},o={iltrate:"ilter",ilter:"iltrate"};return Object.entries(t).forEach((function(t){var e=tt(t,2),o=e[0],i=e[1];r.test(o)&&(n[o]=i)})),Object.keys(n).forEach((function(t){delete e[t]})),Object.keys(n).forEach((function(t){if(t.endsWith("iltrate")&&"function"!=typeof n[t]||t.endsWith("ilter")&&"function"==typeof n[t]){var i=t.replace(r,(function(t,e,r){return"".concat(e).concat(o[r])}));Object.assign(e,nt({},i,n[t]))}})),e}function it(t){return function(t){if(Array.isArray(t))return lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ut(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ut(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(t,e){if(t){if("string"==typeof t)return lt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lt(t,e):void 0}}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ct={fontSize:"16px",fontFamily:"sans-serif",fontWeight:"normal",fontVariant:"normal",fontStyle:"normal",textAlign:"start",textBaseline:"alphabetic"};function ft(t){if(t)return null==t?void 0:t.default;var e=K(t)||{};return J.forEach((function(t){t in e&&delete e[t]})),e}function st(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e){var n=ft(t);return n||{}}var o=X(t,e);return r?p({},ft(t),o):o}function yt(t,e){Object.entries(e).forEach((function(e){var r=at(e,2),n=r[0],o=r[1];[t].concat(it(t.querySelectorAll(n))).filter((function(t){return t.matches(n)})).forEach((function(t){t&&(t.style.cssText+=Object.entries(o).reduce((function(t,e){return"".concat(t).concat(e.join(":"),";")}),""))}))}))}function pt(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=n?ot(t):t,i=function(t,e){return new RegExp("^".concat(e,"[A-Z].*")).test(t)},a=function(t){return t.charAt(0).toLowerCase()+t.slice(1)};return Object.keys(o).reduce((function(t,n){return i(n,e)!==r&&(r?t[n]=o[n]:t[a(n.slice(e.length))]=o[n]),t}),{})}function ht(t,e){var r=t,n=Object.keys(t).reduce((function(t,n,o){if(o>=e.length)return t;var i=e[o];return t.push(pt(r,i)),r=pt(r,i,!0),t}),[]);return n.push(r),n}function bt(t,e){return Object.keys(t).reduce((function(r,n){var o;return r["".concat(e).concat((o=n,o.charAt(0).toUpperCase()+o.slice(1)))]=t[n],r}),{})}function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["x","y","class"],r=["transform","transformOrigin","anchor","visibility","pointerEvents","zIndex","cursor","clipPath","clipPathTargets","offsetPath","offsetPathTargets","offsetDistance","draggable","droppable"],n={},o={};return Object.entries(t).forEach((function(t){var i=at(t,2),a=i[0],u=i[1];e.includes(a)||(-1!==r.indexOf(a)?o[a]=u:n[a]=u)})),[n,o]}function vt(t){var e=t.canvas,r=t.touches,n=t.offsetX,o=t.offsetY;if(e)return[e.x,e.y];if(r){var i=r[0];return[i.clientX,i.clientY]}return n&&o?[n,o]:[0,0]}function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ot(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ot(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Ot(t,e){if(t){if("string"==typeof t)return jt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jt(t,e):void 0}}function jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function St(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==mt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===mt(i)?i:String(i)),n)}var o,i}function xt(t,e,r){return e&&Pt(t.prototype,e),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kt(){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=At(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function At(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Bt(t)););return t}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}function _t(t){var e=It();return function(){var r,n=Bt(t);if(e){var o=Bt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Tt(this,r)}}function Tt(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t){var e="function"==typeof Map?new Map:void 0;return(Ct=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Rt(t,arguments,Bt(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lt(n,t)})(t)}function Rt(t,e,r){return(Rt=It()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Lt(o,r.prototype),o}).apply(null,arguments)}function It(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Lt(t,e){return(Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(t){Et(r,t);var e=_t(r);function r(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;if(St(this,r),n=e.call(this),Object.defineProperties(Mt(n),{_intern:{value:new Map},_key:{value:o}}),null!=t){var i,a=wt(t);try{for(a.s();!(i=a.n()).done;){var u=gt(i.value,2),l=u[0],c=u[1];n.set(l,c)}}catch(t){a.e(t)}finally{a.f()}}return n}return xt(r,[{key:"get",value:function(t){return kt(Bt(r.prototype),"get",this).call(this,Nt(this,t))}},{key:"has",value:function(t){return kt(Bt(r.prototype),"has",this).call(this,Nt(this,t))}},{key:"set",value:function(t,e){return kt(Bt(r.prototype),"set",this).call(this,zt(this,t),e)}},{key:"delete",value:function(t){return kt(Bt(r.prototype),"delete",this).call(this,Gt(this,t))}}]),r}(Ct(Map));Set;function Nt(t,e){var r=t._intern,n=(0,t._key)(e);return r.has(n)?r.get(n):e}function zt(t,e){var r=t._intern,n=(0,t._key)(e);return r.has(n)?r.get(n):(r.set(n,e),e)}function Gt(t,e){var r=t._intern,n=(0,t._key)(e);return r.has(n)&&(e=r.get(n),r.delete(n)),e}function Ft(t){return null!==t&&"object"===mt(t)?t.valueOf():t}function Ht(t){return t}function Vt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ut(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ut(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,e){if(t){if("string"==typeof t)return $t(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(t,e):void 0}}function $t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Zt(t,Ht,Ht,r)}function Zt(t,e,r,n){return function t(o,i){if(i>=n.length)return r(o);var a,u=new Dt,l=n[i++],c=-1,f=Vt(o);try{for(f.s();!(a=f.n()).done;){var s=a.value,y=l(s,++c,o),p=u.get(y);p?p.push(s):u.set(y,[s])}}catch(t){f.e(t)}finally{f.f()}var h,b=Vt(u);try{for(b.s();!(h=b.n()).done;){var d=Wt(h.value,2),v=d[0],m=d[1];u.set(v,t(m,i))}}catch(t){b.e(t)}finally{b.f()}return e(u)}(t,0)}function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t){return function(t){if(Array.isArray(t))return te(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Qt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Jt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Qt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qt(t,e){if(t){if("string"==typeof t)return te(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?te(t,e):void 0}}function te(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function re(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ie(n.key),n)}}function ne(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function oe(t,e,r){return(e=ie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ie(t){var e=function(t,e){if("object"!==Yt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yt(e)?e:String(e)}function ae(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var ue=new WeakSet,le=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[null,null,null,null,null],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];ee(this,t),ne(this,ue),oe(this,"_elements",void 0),oe(this,"_parent",void 0),oe(this,"_data",void 0),oe(this,"_enter",void 0),oe(this,"_exit",void 0),oe(this,"_update",void 0),oe(this,"_merge",void 0),oe(this,"_split",void 0),oe(this,"_document",void 0),oe(this,"_transitions",void 0),oe(this,"_facetElements",void 0),this._elements=Array.from(e),this._data=r,this._parent=n,this._document=o,this._enter=i[0],this._update=i[1],this._exit=i[2],this._merge=i[3],this._split=i[4],this._transitions=a,this._facetElements=u}var e,r,n;return e=t,(r=[{key:"selectAll",value:function(e){return new t("string"==typeof e?this._parent.querySelectorAll(e):e,null,this._elements[0],this._document)}},{key:"selectFacetAll",value:function(e){var r="string"==typeof e?this._parent.querySelectorAll(e):e;return new t(this._elements,null,this._parent,this._document,void 0,void 0,r)}},{key:"select",value:function(e){var r="string"==typeof e?this._parent.querySelectorAll(e)[0]||null:e;return new t([r],null,r,this._document)}},{key:"append",value:function(e){var r=this,n="function"==typeof e?e:function(){return r.createElement(e)},o=[];if(null!==this._data){for(var i=0;i<this._data.length;i++){var a=this._data[i],u=Jt(Array.isArray(a)?a:[a,null],2),l=u[0],c=u[1],f=n(l,i);f.__data__=l,null!==c&&(f.__fromElements__=c),this._parent.appendChild(f),o.push(f)}return new t(o,null,this._parent,this._document)}for(var s=0;s<this._elements.length;s++){var y=this._elements[s],p=n(y.__data__,s);y.appendChild(p),o.push(p)}return new t(o,null,o[0],this._document)}},{key:"maybeAppend",value:function(t,e){var r=ae(this,ue,ce).call(this,t.startsWith("#")?t:"#".concat(t),e);return r.attr("id",t),r}},{key:"maybeAppendByClassName",value:function(t,e){var r=t.toString(),n=ae(this,ue,ce).call(this,r.startsWith(".")?r:".".concat(r),e);return n.addClassName(r),n}},{key:"maybeAppendByName",value:function(t,e){var r=ae(this,ue,ce).call(this,'[name="'.concat(t,'"]'),e);return r.attr("name",t),r}},{key:"addClassName",value:function(t){var e,r=Xt(this._elements);try{var n=function(){var r=e.value,n=r.attr("class")||void 0,o=new Set((null==n?void 0:n.split(" "))||[]);t.split(" ").forEach((function(t){return o.add(t)})),r.attr("class",Array.from(o).join(" "))};for(r.s();!(e=r.n()).done;)n()}catch(t){r.e(t)}finally{r.f()}return this}},{key:"data",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},o=[],i=[],a=new Set(this._elements),u=[],l=new Set,c=new Map(this._elements.map((function(t,e){return[r(t.__data__,e),t]}))),f=new Map(this._facetElements.map((function(t,e){return[r(t.__data__,e),t]}))),s=qt(this._elements,(function(t){return n(t.__data__)})),y=0;y<e.length;y++){var p=e[y],h=r(p,y),b=n(p,y);if(c.has(h)){var d=c.get(h);d.__data__=p,d.__facet__=!1,i.push(d),a.delete(d),c.delete(h)}else if(f.has(h)){var v=f.get(h);v.__data__=p,v.__facet__=!0,i.push(v),f.delete(h)}else if(s.has(h)){var m=s.get(h);u.push([p,m]);var g,w=Xt(m);try{for(w.s();!(g=w.n()).done;){var O=g.value;a.delete(O)}}catch(t){w.e(t)}finally{w.f()}s.delete(h)}else if(c.has(b)){var j=c.get(b);j.__toData__?j.__toData__.push(p):j.__toData__=[p],l.add(j),a.delete(j)}else o.push(p)}var S=[new t([],o,this._parent,this._document),new t(i,null,this._parent,this._document),new t(a,null,this._parent,this._document),new t([],u,this._parent,this._document),new t(l,null,this._parent,this._document)];return new t(this._elements,null,this._parent,this._document,S)}},{key:"merge",value:function(e){var r=[].concat(Kt(this._elements),Kt(e._elements)),n=[].concat(Kt(this._transitions),Kt(e._transitions));return new t(r,null,this._parent,this._document,void 0,n)}},{key:"createElement",value:function(e){if(this._document)return this._document.createElement(e,{});var r=t.registry[e];return r?new r:function(t){throw new Error(t)}("Unknown node type: ".concat(e))}},{key:"join",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t.remove()},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(t){return t},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){return t.remove()},i=t(this._enter),a=e(this._update),u=r(this._exit),l=n(this._merge),c=o(this._split);return a.merge(i).merge(u).merge(l).merge(c)}},{key:"remove",value:function(){for(var e=this,r=function(){var t=e._elements[n],r=e._transitions[n];r?r.then((function(){return t.remove()})):t.remove()},n=0;n<this._elements.length;n++)r();return new t([],null,this._parent,this._document,void 0,this._transitions)}},{key:"each",value:function(t){for(var e=0;e<this._elements.length;e++){var r=this._elements[e],n=r.__data__;t.call(r,n,e)}return this}},{key:"attr",value:function(t,e){var r="function"!=typeof e?function(){return e}:e;return this.each((function(n,o){void 0!==e&&(this[t]=r.call(this,n,o))}))}},{key:"style",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n="function"==typeof e&&r?e:function(){return e};return this.each((function(r,o){void 0!==e&&(this.style[t]=n.call(this,r,o))}))}},{key:"styles",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.each((function(r,n){var o=this,i=Object.entries(t).reduce((function(t,i){var a=Jt(i,2),u=a[0],l=a[1],c="function"==typeof l&&e?l:function(){return l};return void 0!==l&&(t[u]=c.call(o,r,n)),t}),{});this.attr(i)}))}},{key:"update",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="function"==typeof t&&e?t:function(){return t};return this.each((function(e,n){t&&this.update&&this.update(r.call(this,e,n))}))}},{key:"transition",value:function(t){var e="function"!=typeof t?function(){return t}:t,r=this._transitions;return this.each((function(t,n){r[n]=e.call(this,t,n)}))}},{key:"on",value:function(t,e){return this.each((function(){this.addEventListener(t,e)})),this}},{key:"call",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.call.apply(t,[this._parent,this].concat(r)),this}},{key:"node",value:function(){return this._elements[0]}},{key:"nodes",value:function(){return this._elements}},{key:"transitions",value:function(){return this._transitions}},{key:"parent",value:function(){return this._parent}}])&&re(e.prototype,r),n&&re(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ce(t,e){var r=this._elements[0],n=r.querySelector(t);if(n)return new le([n],null,this._parent,this._document);var o="string"==typeof e?this.createElement(e):e();return r.appendChild(o),new le([o],null,this._parent,this._document)}function fe(t){return new le([t],null,t,t.ownerDocument)}function se(t,e,r){return t.querySelector(e)?fe(t).select(e):fe(t).append(r)}function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function he(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pe(Object(r),!0).forEach((function(e){be(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function be(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ye(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ye(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function de(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ve(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function me(t){var e=t&&t.getRenderBounds();if(!e)return{width:0,height:0};var r=e.getMax(),n=e.getMin();return{width:r[0]-n[0],height:r[1]-n[1]}}function ge(t){var e=t.getLocalBounds(),r=e.min,n=e.max,o=de(r,2),i=o[0],a=o[1],u=de(n,2),l=u[0],c=u[1];return{x:i,y:a,width:l-i,height:c-a,left:i,bottom:c,top:a,right:l}}function we(t,e){var r=fe(t).append("text").node();return r.attr(he(he({},e),{},{visibility:"hidden"})),r}function Oe(t,e){var r=de(t,2),n=r[0],o=r[1],i=de(e,2),a=i[0]-n,u=i[1]-o;return Math.sqrt(a*a+u*u)}function je(t,e){var r=de(t,2),n=r[0],o=r[1],i=de(e,2),a=i[0],u=i[1];return n!==a&&o===u}function Se(t,e){var r=de(t,2),n=r[0],o=r[1],i=de(e,2),a=i[0],u=i[1];return n===a&&o!==u}function Pe(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}function xe(t){return"string"==typeof t?Pe(t):t}function ke(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ae(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}oe(le,"registry",{g:b.Group,rect:b.Rect,circle:b.Circle,path:b.Path,text:b.Text,ellipse:b.Ellipse,image:b.Image,line:b.Line,polygon:b.Polygon,polyline:b.Polyline,html:b.HTML});var Ee=["year","month","day","hour","minute","second"],_e=["YYYY","MM","DD","hh","mm","ss"];function Te(t){return t instanceof Date?t:new Date(t)}function Me(t){for(var e=ke(t,2),r=e[0],n=e[1],o=Ee.indexOf(r),i=Ee.indexOf(n),a="",u=o;u<=i;u+=1)if(a+=_e[u],u<i){var l="-";2===u?l=" ":u>2&&(l=":"),a+=l}return a}function Ce(t,e){var r={YYYY:t.getFullYear(),MM:t.getMonth()+1,DD:t.getDate(),hh:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds()},n=e;return Object.keys(r).forEach((function(t){var e=r[t];n=n.replace(t,"YYYY"===t?"".concat(e):"0".concat(e).slice(-2))})),n}function Re(t,e){return Te(t).getTime()-Te(e).getTime()}function Ie(t,e){var r=[Te(t),Te(e)],n=r[0],o=r[1];return n.getFullYear()!==o.getFullYear()?"year":n.getMonth()!==o.getMonth()?"month":n.getDay()!==o.getDay()?"day":n.getHours()!==o.getHours()?"hour":n.getMinutes()!==o.getMinutes()?"minute":"second"}function Le(t,e){var r=new Date(t);return{year:function(t){t.setMonth(0),t.setHours(0,0,0,0)},month:function(t){t.setDate(1),t.setHours(0,0,0,0)},day:function(t){return t.setHours(0,0,0,0)},hour:function(t){return t.setMinutes(0,0,0)},minute:function(t){return t.setSeconds(0,0)},second:function(t){return t.setMilliseconds(0)}}[e](r),Ce(r,Me(["year",e]))}function Be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return De(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return De(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ne=function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;Object.entries(r).forEach((function(i){var a=Be(i,2),u=a[0],c=a[1],f=e;Object.prototype.hasOwnProperty.call(r,u)&&(c?s(c)?(s(e[u])||(f[u]={}),n<o?t(e[u],c,n+1,o):f[u]=r[u]):l(c)?(f[u]=[],f[u]=f[u].concat(c)):f[u]=c:f[u]=c)}))},ze=function(t){for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e+=1)Ne(t,e+1<1||arguments.length<=e+1?void 0:arguments[e+1]);return t};function Ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function He(t,e,r,n,o,i){return(t===e||Math.min(t,e)<=o&&o<=Math.max(t,e))&&(r===n||Math.min(r,n)<=i&&i<=Math.max(r,n))}function Ve(t,e,r){var n=t;(!t.length||e<t[0]||e===t[0]&&r<t[1])&&(n[0]=e,n[1]=r)}function We(t,e,r,n){var o=Ge(t,2),i=o[0],a=o[1],u=Ge(e,2),l=u[0],c=u[1],f=Ge(r,2),s=f[0],y=f[1],p=Ge(n,2),h=p[0],b=p[1],d=[];if((b-y)*(l-i)==(c-a)*(h-s))(c-a)*(s-i)==(y-a)*(l-i)&&(He(i,l,a,c,s,y)&&Ve(d,s,y),He(i,l,a,c,h,b)&&Ve(d,h,b),He(s,h,y,b,i,a)&&Ve(d,i,a),He(s,h,y,b,l,c)&&Ve(d,l,c));else{var v=(s*(b-y)+a*(h-s)-y*(h-s)-i*(b-y))/((l-i)*(b-y)-(h-s)*(c-a)),m=(i*(c-a)+y*(l-i)-a*(l-i)-s*(c-a))/((h-s)*(c-a)-(l-i)*(b-y));v>=0&&v<=1&&m>=0&&m<=1&&(d[0]=i+v*(l-i),d[1]=a+v*(c-a))}return d}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $e(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qe(t,e){var r=Ue(t,2),n=r[0],o=r[1],i=Ue(e,2),a=i[0],u=i[1];return Math.pow(Math.pow(n-a,2)+Math.pow(o-u,2),.5)}function Ze(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,n,o){var i,a=o.value;"function"==typeof a&&(o.value=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];if(!i){var u=this;e&&a.apply(u,n),i=window.setTimeout((function(){a.apply(u,n),i=null}),t)}})}}var Ye=function(t){return void 0!==t&&null!=t&&!Number.isNaN(t)};function Ke(t){var e=localStorage.getItem("__debug__");return function(r,n,o){var i="[".concat(n,"] ").concat(t),a=o.value;"function"==typeof a&&(o.value=function(){e&&console.time(i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];a.apply(this,r),e&&console.timeEnd(i)})}}function Xe(t){return P(t)||q(t)?new b.Text({style:{text:String(t)}}):t}function Je(t,e){if(t.length<=e)return t;for(var r=Math.floor(t.length/e),n=[],o=0;o<t.length;o+=r)n.push(t[o]);return n}function Qe(t){return t*Math.PI/180}function tr(t){return Number((180*t/Math.PI).toPrecision(5))}function er(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return rr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nr(t,e){var r,n=(t instanceof b.DisplayObject?t:t.node()).computedStyleMap().get("transform");if(n&&"unset"!==n.value)return null==n||null===(r=n.find((function(t){return t.t===e})))||void 0===r?void 0:r.d.map((function(t){return t.value}))}function or(t){return!!nr(t,"rotate")}function ir(t,e,r){var n=(t instanceof b.DisplayObject?t:t.node()).getBBox(),o=n.width,i=n.height,a=er([e,r].map((function(t,e){var r;return t.includes("%")?parseFloat((null===(r=t.match(/[+-]?([0-9]*[.])?[0-9]+/))||void 0===r?void 0:r[0])||"0")/100*(0===e?o:i):t})),2);return[a[0],a[1]]}function ar(t,e,r){var n=t instanceof b.DisplayObject?t:t.node(),o=er(ir(t,e,r),2),i=o[0],a=o[1];n.attr("transform","translate(".concat(i,", ").concat(a,")"))}function ur(t,e){if(e)try{var r=t instanceof b.DisplayObject?t:t.node(),n=e.replace(/translate\(([+-]*[\d]+[%]*),[ ]*([+-]*[\d]+[%]*)\)/g,(function(t,e,n){return"translate(".concat(ir(r,e,n),")")}));r.attr("transform",n)}catch(t){}}function lr(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;return!!(n&&t===e||o&&t===r)||t>e&&t<r}function cr(t){return function(t){if(Array.isArray(t))return fr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return fr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sr(t,e){return j(t)?t.apply(void 0,cr(e)):t}function yr(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(t){t instanceof le?t.node().removeChildren():t instanceof b.DisplayObject?t.removeChildren():t instanceof HTMLElement&&(t.innerHTML="")};return t?r(e):(n&&o(e),null)}function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dr(n.key),n)}}function br(t,e,r){return e&&hr(t.prototype,e),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dr(t){var e=function(t,e){if("object"!==pr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===pr(e)?e:String(e)}function vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gr(t,e)}function gr(t,e){return(gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sr(t);if(e){var o=Sr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Or(this,r)}}function Or(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jr(t)}function jr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pr=function(t){mr(r,t);var e=wr(r);function r(){return vr(this,r),e.apply(this,arguments)}return br(r)}(b.CustomElement);function xr(t,e){return function(r){mr(o,r);var n=wr(o);function o(r){var i,a,u,l;return vr(this,o),i=n.call(this,ze({},{style:e},r)),a=jr(i),l=void 0,(u=dr(u="descriptor"))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,i.descriptor=t,i}return br(o,[{key:"connectedCallback",value:function(){var t,e,r,n;null===(t=(e=this.descriptor).render)||void 0===t||t.call(e,this.attributes,this),null===(r=(n=this.descriptor).bindEvents)||void 0===r||r.call(n,this.attributes,this)}},{key:"update",value:function(){var t,e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.attr(p({},this.attributes,r)),null===(t=(e=this.descriptor).render)||void 0===t||t.call(e,this.attributes,this,n)}}]),o}(b.CustomElement)}function kr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ar(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ar(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Er=function(t,e){var r=function(t){return"".concat(e,"-").concat(t)},n=Object.fromEntries(Object.entries(t).map((function(t){var e=kr(t,2),n=e[0],o=e[1],i=r(o);return[n,{name:i,class:".".concat(i),id:"#".concat(i),toString:function(){return i}}]})));return Object.assign(n,{prefix:r}),n};function _r(t,e){return t.reduce((function(t,r){return(t[r[e]]=t[r[e]]||[]).push(r),t}),{})}function Tr(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Mr(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",n=t instanceof b.Text?t:t.node();if("text"===n.nodeName){var o={wordWrap:!0,wordWrapWidth:e,maxLines:1,textOverflow:r};n.attr(o)}}function Cr(t){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Br(n.key),n)}}function Lr(t,e,r){return(e=Br(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Br(t){var e=function(t,e){if("object"!==Cr(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Cr(e)?e:String(e)}var Dr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Rr(this,t),Lr(this,"x",0),Lr(this,"y",0),Lr(this,"width",0),Lr(this,"height",0),this.x=e,this.y=r,this.width=n,this.height=o}var e,r,n;return e=t,n=[{key:"fromRect",value:function(e){return new t(e.x,e.y,e.width,e.height)}}],(r=[{key:"bottom",get:function(){return this.y+this.height}},{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,right:this.right,bottom:this.bottom,left:this.left}}}])&&Ir(e.prototype,r),n&&Ir(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Nr(t){for(var e=1/0,r=1/0,n=-1/0,o=-1/0,i=0;i<t.length;i++){var a=t[i],u=a.x,l=a.y,c=u+a.width,f=l+a.height;u<e&&(e=u),l<r&&(r=l),c>n&&(n=c),f>o&&(o=f)}return new Dr(e,r,n-e,o-r)}function zr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Fr=function(t,e,r){var n=t.width,o=t.height,i=r.flexDirection,a=void 0===i?"row":i,u=(r.flexWrap,r.justifyContent),l=void 0===u?"flex-start":u,c=(r.alignContent,r.alignItems),f=void 0===c?"flex-start":c,s="row"===a,y="row"===a||"column"===a,p=s?y?[1,0]:[-1,0]:y?[0,1]:[0,-1],h=0,b=0,d=e.map((function(t){var e=t.width,r=t.height,n=h,o=b,i=[h+e*p[0],b+r*p[1]];return h=i[0],b=i[1],new Dr(n,o,e,r)})),v=Nr(d),m={"flex-start":0,"flex-end":s?n-v.width:o-v.height,center:s?(n-v.width)/2:(o-v.height)/2},g=d.map((function(t){var e=t.x,r=t.y,n=Dr.fromRect(t);return n.x=s?e+m[l]:e,n.y=s?r:r+m[l],n})),w=(Nr(g),function(t){var e=zr(s?["height",o]:["width",n],2),r=e[0],i=e[1];switch(f){case"flex-start":return 0;case"flex-end":return i-t[r];case"center":return i/2-t[r]/2;default:return 0}});return g.map((function(t){var e=t.x,r=t.y,n=Dr.fromRect(t);return n.x=s?e:e+w(n),n.y=s?r+w(n):r,n})).map((function(e){var r,n,o=Dr.fromRect(e);return o.x+=null!==(r=t.x)&&void 0!==r?r:0,o.y+=null!==(n=t.y)&&void 0!==n?n:0,o}))},Hr=function(t,e,r){return[]},Vr=function(t,e,r){if(0===e.length)return[];var n={flex:Fr,grid:Hr},o=r.display in n?n[r.display]:null;return(null==o?void 0:o.call(null,t,e,r))||[]};function Wr(t){var e;return(null===(e=t[0])||void 0===e?void 0:e.map((function(e,r){return t.map((function(t){return t[r]}))})))||[]}function Ur(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.getBBox(),o=n.width,i=n.height,a=e/Math.max(o,i);return r&&t.scale(a),a}function $r(t){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zr(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==$r(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Kr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xr(t,e,r){var n={},o={};return Object.entries(e).forEach((function(e){var r=Yr(e,2),i=r[0],a=r[1],u=t.attr(i);h(a)||h(u)||u===a||(n[i]=u,o[i]=a)})),r?Object.keys(n).length>0?t.animate([n,o],function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qr(Object(r),!0).forEach((function(e){Zr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({fill:"both"},r)):null:("update"in t?t.update(e):t.attr(e),null)}function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var en=function(t,e){return function(r){return t*(1-r)+e*r}};function rn(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0;return function(o){var i=new Array(n),a=new Array(r),u=0;for(u=0;u<n;++u)i[u]=on(t[u],e[u]);for(;u<r;++u)a[u]=e[u];for(u=0;u<n;++u)a[u]=i[u](o);return a}}function nn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},n={};return Object.entries(e).forEach((function(e){var o=Qr(e,2),i=o[0],a=o[1];i in t?r[i]=on(t[i],a):n[i]=a})),function(t){return Object.entries(r).forEach((function(e){var r=Qr(e,2),o=r[0],i=r[1];return n[o]=i(t)})),n}}function on(t,e){return"number"==typeof t&&"number"==typeof e?en(t,e):Array.isArray(t)&&Array.isArray(e)?rn(t,e):"object"===Jr(t)&&"object"===Jr(e)?nn(t,e):function(e){return t}}function an(t,e,r,n){if(!n)return t.attr("__keyframe_data__",e),null;var o=n.duration,i=void 0===o?0:o,a=on(e,r),u=Math.ceil(+i/16),l=new Array(u).fill(0).map((function(t,e,r){return{__keyframe_data__:a(e/(r.length-1))}}));return t.animate(l,n)}function un(t,e){e(t),t.children&&t.children.forEach((function(t){t instanceof b.DisplayObject&&un(t,e)}))}function ln(t,e){var r=e?"visibility":"hidden";un(t,(function(t){t.attr("visible",r)}))}function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==cn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===cn(i)?i:String(i)),n)}var o,i}function yn(){return(yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=pn(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function pn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vn(t)););return t}function hn(t,e){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vn(t);if(e){var o=vn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dn(this,r)}}function dn(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vn(t){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hn(t,e)}(i,t);var e,r,n,o=bn(i);function i(){return fn(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"appendChild",value:function(t,e){return this.destroyChildren(),ln(t,!1),yn(vn(i.prototype),"appendChild",this).call(this,t,e)}}])&&sn(e.prototype,r),n&&sn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.Group);function gn(t){var e=t.appendChild(new mn({style:{visibility:"hidden"}}));return ln(e,!1),e}function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function On(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==wn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===wn(i)?i:String(i)),n)}var o,i}function jn(t,e){return(jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Sn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=xn(t);if(e){var o=xn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Pn(this,r)}}function Pn(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xn(t){return(xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jn(t,e)}(i,t);var e,r,n,o=Sn(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(r=[{key:"connectedCallback",value:function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)}},{key:"update",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return this.attr(ze({},this.attributes,e)),null===(t=this.render)||void 0===t?void 0:t.call(this,this.attributes,this,r)}},{key:"clear",value:function(){this.removeChildren()}},{key:"destroy",value:function(){this.removeAllEventListeners(),this.removeChildren(),this.remove()}},{key:"attributeChangedCallback",value:function(){}},{key:"bindEvents",value:function(t,e){}}])&&On(e.prototype,r),n&&On(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.CustomElement),An=function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e],["Z"]]},En=An,_n=function(t,e,r){return[["M",t,e+r],["L",t,e-r]]},Tn=function(t,e,r){return[["M",t-r,e],["L",t+r,e]]},Mn=Tn;var Cn=["x","y","symbol","size","class"];function Rn(t){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ln(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vn(n.key),n)}}function Nn(t,e){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Fn(t);if(e){var o=Fn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gn(this,r)}}function Gn(t,e){if(e&&("object"===Rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t,e,r){return(e=Vn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vn(t){var e=function(t,e){if("object"!==Rn(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Rn(e)?e:String(e)}function Wn(t){var e=function(t){var e="default";if(k(t)&&t instanceof Image)e="image";else if(j(t))e="symbol";else if(P(t)){var r=new RegExp("data:(image|text)");e=t.match(r)?"base64":/^(https?:\/\/(([a-zA-Z0-9]+-?)+[a-zA-Z0-9]+\.)+[a-zA-Z]+)(:\d+)?(\/.*)?(\?.*)?(#.*)?$/.test(t)?"url":"symbol"}return e}(t);return["base64","url","image"].includes(e)?"image":t&&"symbol"===e?"path":null}var Un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nn(t,e)}(i,t);var e,r,n,o=zn(i);function i(){return Bn(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(t,e){var r=t.x,n=t.y,o=t.symbol,a=t.size,u=void 0===a?16:a,l=(t.class,Ln(t,Cn)),c=Wn(o);yr(!!c,fe(e),(function(t){t.maybeAppendByClassName("marker",c).addClassName("".concat(c,"-marker")).call((function(t){if("image"===c){var e=2*u;t.styles({img:o,width:e,height:e,x:-u,y:-u})}else{var a=u/2,f=j(o)?o:i.getSymbol(o);t.styles(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?In(Object(r),!0).forEach((function(e){Hn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({path:null==f?void 0:f(r,n,a)},l))}}))}))}}])&&Dn(e.prototype,r),n&&Dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(r),!0).forEach((function(e){ro(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Kn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,no(n.key),n)}}function Jn(t,e){return(Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=eo(t);if(e){var o=eo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return to(this,r)}}function to(t,e){if(e&&("object"===$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function eo(t){return(eo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ro(t,e,r){return(e=no(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function no(t){var e=function(t,e){if("object"!==$n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$n(e)?e:String(e)}Hn(Un,"MARKER_SYMBOL_MAP",new Map),Hn(Un,"registerSymbol",(function(t,e){Un.MARKER_SYMBOL_MAP.set(t,e)})),Hn(Un,"getSymbol",(function(t){return Un.MARKER_SYMBOL_MAP.get(t)})),Un.registerSymbol("cross",(function(t,e,r){return[["M",t-r,e-r],["L",t+r,e+r],["M",t+r,e-r],["L",t-r,e+r]]})),Un.registerSymbol("hyphen",(function(t,e,r){return[["M",t-r,e],["L",t+r,e]]})),Un.registerSymbol("line",_n),Un.registerSymbol("plus",(function(t,e,r){return[["M",t-r,e],["L",t+r,e],["M",t,e-r],["L",t,e+r]]})),Un.registerSymbol("tick",(function(t,e,r){return[["M",t-r/2,e-r],["L",t+r/2,e-r],["M",t,e-r],["L",t,e+r],["M",t-r/2,e+r],["L",t+r/2,e+r]]})),Un.registerSymbol("circle",An),Un.registerSymbol("point",En),Un.registerSymbol("bowtie",(function(t,e,r){var n=r-1.5;return[["M",t-r,e-n],["L",t+r,e+n],["L",t+r,e-n],["L",t-r,e+n],["Z"]]})),Un.registerSymbol("hexagon",(function(t,e,r){var n=r/2*Math.sqrt(3);return[["M",t,e-r],["L",t+n,e-r/2],["L",t+n,e+r/2],["L",t,e+r],["L",t-n,e+r/2],["L",t-n,e-r/2],["Z"]]})),Un.registerSymbol("square",(function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]})),Un.registerSymbol("diamond",(function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]})),Un.registerSymbol("triangle",(function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]})),Un.registerSymbol("triangle-down",(function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]})),Un.registerSymbol("line",_n),Un.registerSymbol("dot",Tn),Un.registerSymbol("dash",Mn),Un.registerSymbol("smooth",(function(t,e,r){return[["M",t-r,e],["A",r/2,r/2,0,1,1,t,e],["A",r/2,r/2,0,1,0,t+r,e]]})),Un.registerSymbol("hv",(function(t,e,r){return[["M",t-r-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+r+1,e+2.5]]})),Un.registerSymbol("vh",(function(t,e,r){return[["M",t-r-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+r+1,e-2.5]]})),Un.registerSymbol("hvh",(function(t,e,r){return[["M",t-(r+1),e+2.5],["L",t-r/2,e+2.5],["L",t-r/2,e-2.5],["L",t+r/2,e-2.5],["L",t+r/2,e+2.5],["L",t+r+1,e+2.5]]})),Un.registerSymbol("vhv",(function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}));var oo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(i,t);var e,r,n,o=Qn(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,p({},i.defaultOptions,t))}return e=i,(r=[{key:"render",value:function(t,e){var r=t.padding,n=void 0===r?0:r,o=t.marker,i=t.text,a=t.textStyle,u=t.radius,l=t.backgroundStyle,c=t.spacing,f=t.align,s=t.verticalAlign,y=Yn(Z(n),4),p=y[0],b=y[1],d=y[2],v=y[3],m=se(e,".tag-content","g").attr("className","tag-content").node(),g=function(t,e){var r=t.getLocalBounds();return{x:r.halfExtents[0]?r.max[0]+(e||0):t.style.x,y:r.halfExtents[1]?(r.min[1]+r.max[1])/2:t.style.y}}(se(m,".tag-marker",(function(){return new Un({})})).attr("className","tag-marker").call((function(t){t.node().clear(),t.node().update(o||{symbol:"triangle",size:0,x:0})})).node(),c),w=g.x,O=g.y;fe(m).maybeAppendByClassName("tag-text","text").styles(Zn(Zn({fontFamily:"sans-serif",fontSize:12,text:h(i)?"":"".concat(i),x:w,y:O},a),{},{textBaseline:"middle"})).call((function(t){i||t.remove()})),function(t,e,r,n,o){var i=t.getLocalBounds(),a=0,u=0;"start"===n&&(a=e),"center"===n&&(a=-i.halfExtents[0]),"end"===n&&(a=-e-2*i.halfExtents[0]),"top"===o&&(u=r+i.halfExtents[1]),"middle"===o&&(u=0),"bottom"===o&&(u=r-2*i.halfExtents[1]),t.setLocalPosition([a,u])}(m,v,p,f||"start",s||"top");var j=m.getLocalBounds();fe(e).maybeAppendByClassName("tag-background","rect").styles(Zn({zIndex:(m.style.zIndex||0)-1,y:j.min[1]-p,x:j.min[0]-v,width:null!==l?v+b+2*j.halfExtents[0]:0,height:null!==l?p+d+2*j.halfExtents[1]:0,radius:null!=u?u:2,fill:"#fafafa",stroke:"#d9d9d9",lineWidth:1},l))}}])&&Xn(e.prototype,r),n&&Xn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);ro(oo,"tag","tag"),ro(oo,"defaultOptions",{style:{padding:4,spacing:4}});var io=function(t){return void 0===t},ao={small:{textStyle:{fontSize:10},buttonStyle:{width:40,height:20},markerStyle:{size:8}},middle:{textStyle:{fontSize:12},buttonStyle:{width:60,height:30},markerStyle:{size:12}},large:{textStyle:{fontSize:16},buttonStyle:{width:80,height:40},markerStyle:{size:16}}},uo={primary:{textStyle:{default:{fill:"#fff"},active:{}},buttonStyle:{default:{fill:"#1890ff",lineWidth:0},active:{fill:"#40a9ff"}},markerStyle:{default:{fill:"#1890ff"},active:{fill:"#40a9ff"}}},dashed:{textStyle:{default:{},active:{}},buttonStyle:{default:{fill:"transparent",stroke:"#bbb",lineDash:[5,5]},active:{}},markerStyle:{}},link:{textStyle:{default:{fill:"#1890ff"},active:{}},buttonStyle:{default:{fill:"transparent",lineWidth:0},active:{}},markerStyle:{default:{fill:"#1890ff"}}},text:{textStyle:{default:{fill:"#000"},active:{}},buttonStyle:{default:{fill:"transparent",lineWidth:0},active:{}},markerStyle:{default:{stroke:"#000"}}},default:{textStyle:{default:{fill:"#000"},active:{fill:"#1890ff"}},buttonStyle:{default:{fill:"transparent",stroke:"#bbb"},active:{stroke:"#1890ff"}},markerStyle:{default:{stroke:"#bbb",lineWidth:1},active:{stroke:"#1890ff"}}}},lo={strict:{textStyle:{fill:"#b8b8b8"},buttonStyle:{},markerStyle:{}},textStyle:{},buttonStyle:{stroke:"#d9d9d9",fill:"#f5f5f5"},markerStyle:{stroke:"#d9d9d9"}};function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function so(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fo(Object(r),!0).forEach((function(e){Oo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return po(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return po(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ho(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jo(n.key),n)}}function bo(t,e){return(bo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wo(t);if(e){var o=wo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mo(this,r)}}function mo(t,e){if(e&&("object"===co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return go(t)}function go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wo(t){return(wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Oo(t,e,r){return(e=jo(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jo(t){var e=function(t,e){if("object"!==co(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===co(e)?e:String(e)}var So=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bo(t,e)}(i,t);var e,r,n,o=vo(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Oo(go(e=o.call(this,ze({},i.defaultOptions,t))),"textShape",void 0),Oo(go(e),"state","default"),Oo(go(e),"clickEvents",(function(){var t=e.attributes,r=t.onClick;"disabled"!==t.state&&(null==r||r.call(go(e),go(e)))})),Oo(go(e),"mouseenterEvent",(function(){"disabled"!==e.attributes.state&&(e.state="active",e.render(e.attributes,go(e)))})),Oo(go(e),"mouseleaveEvent",(function(){var t=e.attributes.state,r=void 0===t?"default":t;e.state=r,e.render(e.attributes,go(e))})),e}return e=i,(r=[{key:"markerSize",get:function(){var t=this.attributes.marker,e=this.getStyle("markerStyle");return t?(null==e?void 0:e.size)||2:0}},{key:"textAvailableWidth",get:function(){var t=this.attributes,e=t.marker,r=t.padding,n=t.ellipsis,o=t.width,i=t.markerSpacing;if(!n)return 1/0;var a=io(o)?this.getStyle("buttonStyle").width:o;return e?a-2*r-i-this.markerSize:a-2*r}},{key:"buttonHeight",get:function(){var t=this.attributes.height;return t||this.getStyle("buttonStyle").height}},{key:"getStyle",value:function(t){var e=this.attributes,r=e.size,n=e.type,o=this.state,i=p({},X(ao,[r,t]),st(X(uo,[n,t]),o),st(X(this.attributes,t),o,!0));return"disabled"===o&&(Object.keys(i).forEach((function(e){e in lo[t]&&(i[e]=X(lo,[t,e]))})),Object.keys(lo.strict[t]).forEach((function(e){i[e]=X(lo,["strict",t,e])})),p(i,st(X(this.attributes,t),"disabled"))),i}},{key:"render",value:function(t,e){var r=t.text,n=void 0===r?"":r,o=t.padding,i=void 0===o?0:o,a=t.marker,u=t.markerSpacing,l=void 0===u?0:u;e.attr("cursor","disabled"===this.state?"not-allowed":"pointer");var c=yo(Z(i),4),f=(c[0],c[1]),s=(c[2],c[3]),y=this.buttonHeight,p=this.getStyle("markerStyle"),h=this.markerSize,b=se(e,".marker",(function(){return new Un({className:"marker",style:{symbol:"circle"}})})).call((function(t){t.node().update(so(so({},p),{},{symbol:a,x:s+h/2,y:y/2,size:h}))})).node().getLocalBounds(),d=this.getStyle("textStyle");this.textShape=se(e,".text","text").attr("className","text").styles(so(so({x:h?b.max[0]+l:s,y:y/2},d),{},{text:n,textAlign:"left",textBaseline:"middle",wordWrap:!0,wordWrapWidth:this.textAvailableWidth,maxLines:1,textOverflow:"..."})).node();var v=this.textShape.getLocalBounds(),m=this.getStyle("buttonStyle");fe(e).maybeAppendByClassName(".background","rect").styles(so(so({zIndex:-1},m),{},{height:y,width:s+(h?h+l:0)+2*v.halfExtents[0]+f}))}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.attr(p({},this.attributes,t));var e=this.attributes.state,r=void 0===e?"default":e;this.state=r,this.render(this.attributes,this)}},{key:"setState",value:function(t){this.update({state:t})}},{key:"hide",value:function(){this.style.visibility="hidden"}},{key:"show",value:function(){this.style.visibility="visible"}},{key:"bindEvents",value:function(){this.addEventListener("click",this.clickEvents),this.addEventListener("mouseenter",this.mouseenterEvent),this.addEventListener("mouseleave",this.mouseleaveEvent)}}])&&ho(e.prototype,r),n&&ho(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);Oo(So,"tag","button"),Oo(So,"defaultOptions",{style:{cursor:"pointer",padding:10,size:"middle",type:"default",text:"",markerAlign:"left",markerSpacing:5,textStyle:{default:{},active:{}},buttonStyle:{default:{lineWidth:1,radius:5},active:{}},markerStyle:{default:{}}}});var Po=Object.prototype.hasOwnProperty,xo=function(t,e){if(null===t||!s(t))return{};var r={};return E(e,(function(e){Po.call(t,e)&&(r[e]=t[e])})),r};function ko(t){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Eo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ao(Object(r),!0).forEach((function(e){Bo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return To(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return To(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Do(n.key),n)}}function Co(t,e){return(Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lo(t);if(e){var o=Lo(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Io(this,r)}}function Io(t,e){if(e&&("object"===ko(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e,r){return(e=Do(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Do(t){var e=function(t,e){if("object"!==ko(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ko(e)?e:String(e)}var No=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Co(t,e)}(i,t);var e,r,n,o=Ro(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,p({},i.defaultOptions,t))}return e=i,(r=[{key:"render",value:function(t,e){var r=this,n=t.x,o=t.y,a=t.items,u=t.textStyle,l=t.padding,c=void 0===l?0:l,f=t.width,s=t.separator,y=_o(Z(c),3),p=y[0],d=y[1],v=y[2],m=se(e,".container","g").styles({className:"container",x:n+v,y:o+p}),g=0,w=0;m.node().removeChildren();for(var O=function(){var t=a[j],e=new oo({className:"breadcrumb-item",style:Eo(Eo({x:g,y:w,text:h(t.text)?t.id:t.text,textStyle:u},xo(t,["marker"])),{},{padding:0,backgroundStyle:null})});m.append((function(){return e}));var n=e.getLocalBounds(),o=2*n.halfExtents[0],l=2*n.halfExtents[1];g+=o,h(f)||g>f-d&&(e.attr({x:0,y:w+l}),g=o,w+=l),r.bindInnerEvents(e,t);var c=s||{},y=c.spacing,p=void 0===y?0:y,v=c.text,O=void 0===v?"/":v,S=c.style;if(j!==a.length-1){var P=new b.Text({className:"".concat(i.tag,"-separator"),id:"".concat(i.tag,"-separator-").concat(j),style:Eo(Eo(Eo({},ct),{},{x:g+p,y:w+l/2},S),{},{text:O,textAlign:"end",textBaseline:"middle"})});m.append((function(){return P}));var x=P.getLocalBounds();g+=2*x.halfExtents[0]+p}},j=0;j<a.length;j++)O()}},{key:"update",value:function(t){this.attr(p({},this.attributes,t)),this.render(this.attributes,this)}},{key:"bindInnerEvents",value:function(t,e){var r=this.attributes,n=r.items,o=r.onClick;o&&t.addEventListener("click",(function(){o.call(t,e.id,e,n)}))}}])&&Mo(e.prototype,r),n&&Mo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function zo(t){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Go(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==zo(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==zo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===zo(i)?i:String(i)),n)}var o,i}function Fo(t,e,r){return e&&Go(t.prototype,e),r&&Go(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Bo(No,"tag","breadcrumb"),Bo(No,"defaultOptions",{style:{separator:{text:"/",style:{fontSize:14,fill:"rgba(0, 0, 0, 0.45)"},spacing:8},textStyle:{default:Eo(Eo({},ct),{},{fontSize:14,fill:"rgba(0, 0, 0, 0.45)"}),active:{fill:"#5468ff",cursor:"pointer"}},padding:[8,8,8,8]}});var Ho=Fo((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function Vo(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((function(t,e){return function(r){return t(e(r))}}),t)}function Wo(t,e){return e-t?function(r){return(r-t)/(e-t)}:function(t){return.5}}function Uo(t,e,r,n,o){for(var i=r||0,a=n||t.length,u=o||function(t){return t};i<a;){var l=Math.floor((i+a)/2);u(t[l])>e?a=l:i=l+1}return i}var $o=Math.sqrt(50),qo=Math.sqrt(10),Zo=Math.sqrt(2);function Yo(t,e,r){var n=(e-t)/Math.max(0,r),o=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,o);return o>=0?(i>=$o?10:i>=qo?5:i>=Zo?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=$o?10:i>=qo?5:i>=Zo?2:1)}var Ko=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,o=[t,e],i=0,a=o.length-1,u=o[i],l=o[a];if(l<u){var c=[l,u];u=c[0],l=c[1];var f=[a,i];i=f[0],a=f[1]}return(r=Yo(u,l,n))>0?r=Yo(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=Yo(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,n)),r>0?(o[i]=Math.floor(u/r)*r,o[a]=Math.ceil(l/r)*r):r<0&&(o[i]=Math.ceil(u*r)/r,o[a]=Math.floor(l*r)/r),o};function Xo(t,e,r,n){var o=function(t,o){o&&function(t,e){for(var o=function(t){return n(t)%e==0},i=e;i&&!o(t);)r(t,-1),i-=1}(t,o),e(t)},i=function(t,e){var n=new Date(+t-1);return o(n,e),r(n,e),o(n),n};return{ceil:i,floor:function(t,e){var r=new Date(+t);return o(r,e),r},range:function(t,e,n,a){for(var u=[],l=Math.floor(n),c=a?i(t,n):i(t);+c<+e;r(c,l),o(c))u.push(new Date(+c));return u},duration:t}}Xo(1,(function(t){return t}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+e)}),(function(t){return t.getTime()})),Xo(1e3,(function(t){t.setMilliseconds(0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+1e3*e)}),(function(t){return t.getSeconds()})),Xo(6e4,(function(t){t.setSeconds(0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+6e4*e)}),(function(t){return t.getMinutes()})),Xo(36e5,(function(t){t.setMinutes(0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+36e5*e)}),(function(t){return t.getHours()})),Xo(864e5,(function(t){t.setHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+864e5*e)}),(function(t){return t.getDate()-1}));var Jo=Xo(2592e6,(function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.getMonth();t.setMonth(r+e)}),(function(t){return t.getMonth()})),Qo=(Xo(6048e5,(function(t){t.setDate(t.getDate()-t.getDay()%7),t.setHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+6048e5*e)}),(function(t){var e=Jo.floor(t),r=new Date(+t);return Math.floor((+r-+e)/6048e5)})),Xo(31536e6,(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.getFullYear();t.setFullYear(r+e)}),(function(t){return t.getFullYear()})),Xo(1,(function(t){return t}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+e)}),(function(t){return t.getTime()})),Xo(1e3,(function(t){t.setUTCMilliseconds(0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+1e3*e)}),(function(t){return t.getUTCSeconds()})),Xo(6e4,(function(t){t.setUTCSeconds(0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+6e4*e)}),(function(t){return t.getUTCMinutes()})),Xo(36e5,(function(t){t.setUTCMinutes(0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+36e5*e)}),(function(t){return t.getUTCHours()})),Xo(864e5,(function(t){t.setUTCHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+864e5*e)}),(function(t){return t.getUTCDate()-1})),Xo(2592e6,(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.getUTCMonth();t.setUTCMonth(r+e)}),(function(t){return t.getUTCMonth()})));Xo(6048e5,(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7)%7),t.setUTCHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.setTime(+t+6048e5*e)}),(function(t){var e=Qo.floor(t),r=new Date(+t);return Math.floor((+r-+e)/6048e5)})),Xo(31536e6,(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=t.getUTCFullYear();t.setUTCFullYear(r+e)}),(function(t){return t.getUTCFullYear()}));var ti={}.toString,ei=function(t,e){return ti.call(t)==="[object "+e+"]"},ri=function(t){return ei(t,"Function")},ni=function(t){return Array.isArray?Array.isArray(t):ei(t,"Array")};function oi(t){return(oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ii=function(t){var e=oi(t);return null!==t&&"object"===e||"function"===e};var ai=function(t,e){if(t)if(ni(t))for(var r=0,n=t.length;r<n&&!1!==e(t[r],r);r++);else if(ii(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break};Object.keys;function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var li=function(t){return"object"===ui(t)&&null!==t},ci=function(t){if(!li(t)||!ei(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var fi=Array.prototype,si=(fi.splice,fi.indexOf,Array.prototype.splice,function(t){return ei(t,"String")});Object.prototype.hasOwnProperty;var yi=function(t){return ei(t,"Number")};Number.isInteger&&Number.isInteger;Math.PI,parseInt,Math.PI;var pi=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return ai(t,(function(r,n){ri(t)&&"prototype"===n||e.push(r)})),e};var hi=function(t){return null===t},bi=(Object.prototype,function(t){return void 0===t});function di(t,e,r,n){for(var o in r=r||0,n=n||5,e)if(e.hasOwnProperty(o)){var i=e[o];null!==i&&ci(i)?(ci(t[o])||(t[o]={}),r<n?di(t[o],i,r+1,n):t[o]=e[o]):ni(i)?(t[o]=[],t[o]=t[o].concat(i)):void 0!==i&&(t[o]=i)}}var vi=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n+=1)di(t,e[n]);return t};Object.prototype.hasOwnProperty;Object.prototype.hasOwnProperty;var mi=function(t){return t};function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wi(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":gi(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}Object.create;var Oi;Object.create;(function(t,e){if(!ri(t))throw new TypeError("Expected a function");var r=function r(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var u=t.apply(this,n);return a.set(i,u),u};r.cache=new Map})((function(t,e){void 0===e&&(e={});var r=e.fontSize,n=e.fontFamily,o=e.fontWeight,i=e.fontStyle,a=e.fontVariant;return Oi||(Oi=document.createElement("canvas").getContext("2d")),Oi.font=[i,a,o,r+"px",n].join(" "),Oi.measureText(si(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)n[o]=i[a];return n}([t],pi(e)).join("")})),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var r=this.map[t];return void 0===r?e:r},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}();function ji(t){return!bi(t)&&!hi(t)&&!Number.isNaN(t)}function Si(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Pi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pi(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xi(t,e){return function(r){r.prototype.rescale=function(){this.initRange(),this.nice();var t=Si(this.chooseTransforms(),1)[0];this.composeOutput(t,this.chooseClamp(t))},r.prototype.initRange=function(){var e=this.options.interpolator;this.options.range=t(e)},r.prototype.composeOutput=function(t,r){var n=this.getOptions(),o=n.domain,i=n.interpolator,a=n.round,u=e(o.map(t)),l=a?function(t){return function(e){var r=t(e);return yi(r)?Math.round(r):r}}(i):i;this.output=Vo(l,u,r,t)},r.prototype.invert=void 0}}var ki=r(3),Ai=r.n(ki);function Ei(t,e,r){var n=r;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _i(t){var e=Ai.a.get(t);if(!e)return null;var r=e.model,n=e.value;return"rgb"===r?n:"hsl"===r?function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,o=t[3];if(0===r)return[255*n,255*n,255*n,o];var i=n<.5?n*(1+r):n+r-n*r,a=2*n-i;return[255*Ei(a,i,e+1/3),255*Ei(a,i,e),255*Ei(a,i,e-1/3),o]}(n):null}var Ti=function(t,e){return function(r){return t*(1-r)+e*r}},Mi=function(t,e){return"number"==typeof t&&"number"==typeof e?Ti(t,e):"string"==typeof t&&"string"==typeof e?function(t,e){var r=_i(t),n=_i(e);return null===r||null===n?r?function(){return t}:function(){return e}:function(t){for(var e=new Array(4),o=0;o<4;o+=1){var i=r[o],a=n[o];e[o]=i*(1-t)+a*t}var u=e[0],l=e[1],c=e[2],f=e[3];return"rgba(".concat(Math.round(u),", ").concat(Math.round(l),", ").concat(Math.round(c),", ").concat(f,")")}}(t,e):function(){return t}},Ci=function(t,e){var r=Ti(t,e);return function(t){return Math.round(r(t))}};function Ri(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ii(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(t,e){if(t){if("string"==typeof t)return Li(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Li(t,e):void 0}}function Li(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Ui(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ui(i)?i:String(i)),n)}var o,i}function Di(){return(Di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Ni(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Ni(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wi(t)););return t}function zi(t,e){if(e&&("object"===Ui(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gi(t){var e="function"==typeof Map?new Map:void 0;return(Gi=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return Fi(t,arguments,Wi(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Vi(n,t)})(t)}function Fi(t,e,r){return(Fi=Hi()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&Vi(o,r.prototype),o}).apply(null,arguments)}function Hi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vi(t,e){return(Vi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wi(t){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ui(t){return(Ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,e){var r=t.map,n=(0,t.initKey)(e);return r.has(n)?r.get(n):e}function qi(t){return"object"===Ui(t)?t.valueOf():t}var Zi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vi(t,e)}(u,t);var e,r,n,o,i,a=(e=u,r=Hi(),function(){var t,n=Wi(e);if(r){var o=Wi(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return zi(this,t)});function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this)).map=new Map,e.initKey=qi,null!==t){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Ii(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(t);try{for(n.s();!(r=n.n()).done;){var o=Ri(r.value,2),i=o[0],l=o[1];e.set(i,l)}}catch(t){n.e(t)}finally{n.f()}}return e}return n=u,(o=[{key:"get",value:function(t){return Di(Wi(u.prototype),"get",this).call(this,$i({map:this.map,initKey:this.initKey},t))}},{key:"has",value:function(t){return Di(Wi(u.prototype),"has",this).call(this,$i({map:this.map,initKey:this.initKey},t))}},{key:"set",value:function(t,e){return Di(Wi(u.prototype),"set",this).call(this,function(t,e){var r=t.map,n=(0,t.initKey)(e);return r.has(n)?r.get(n):(r.set(n,e),e)}({map:this.map,initKey:this.initKey},t),e)}},{key:"delete",value:function(t){return Di(Wi(u.prototype),"delete",this).call(this,function(t,e){var r=t.map,n=(0,t.initKey)(e);return r.has(n)&&(e=r.get(n),r.delete(n)),e}({map:this.map,initKey:this.initKey},t))}}])&&Bi(n.prototype,o),i&&Bi(n,i),Object.defineProperty(n,"prototype",{writable:!1}),u}(Gi(Map));function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ki(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Yi(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Yi(i)?i:String(i)),n)}var o,i}var Xi=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=vi({},this.getDefaultOptions()),this.update(e)}var e,r,n;return e=t,(r=[{key:"getOptions",value:function(){return this.options}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=vi({},this.options,t),this.rescale(t)}},{key:"rescale",value:function(t){}}])&&Ki(e.prototype,r),n&&Ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ji(t){return function(t){if(Array.isArray(t))return ea(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ta(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ta(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ta(t,e){if(t){if("string"==typeof t)return ea(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ea(t,e):void 0}}function ea(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ua(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ua(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ua(i)?i:String(i)),n)}var o,i}function na(t,e){return(na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function oa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=aa(t);if(e){var o=aa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ia(this,r)}}function ia(t,e){if(e&&("object"===ua(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ua(t){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var la=Symbol("defaultUnknown");function ca(t,e,r){for(var n=0;n<e.length;n+=1)t.has(e[n])||t.set(r(e[n]),n)}function fa(t){var e=t.value,r=t.from,n=t.to,o=t.mapper,i=t.notFoundReturn,a=o.get(e);if(void 0===a){if(i!==la)return i;a=r.push(e)-1,o.set(e,a)}return n[a%n.length]}function sa(t){return t instanceof Date?function(t){return"".concat(t)}:"object"===ua(t)?function(t){return JSON.stringify(t)}:function(t){return t}}function ya(t){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==ya(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ya(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===ya(i)?i:String(i)),n)}var o,i}function ha(){return(ha="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=ba(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function ba(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ga(t)););return t}function da(t,e){return(da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function va(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ga(t);if(e){var o=ga(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ma(this,r)}}function ma(t,e){if(e&&("object"===ya(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ga(t){return(ga=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ja(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oa(t){return function(t){if(Array.isArray(t))return Sa(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ja(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(t,e){if(t){if("string"==typeof t)return Sa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sa(t,e):void 0}}function Sa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pa(t){return Math.round(1e12*t)/1e12}function xa(t){for(var e,r,n=t.domain,o=t.range,i=t.paddingOuter,a=t.paddingInner,u=t.flex,l=t.round,c=t.align,f=n.length,s=function(t,e){var r=e-t.length;return r>0?[].concat(Oa(t),Oa(new Array(r).fill(1))):r<0?t.slice(0,e):t}(u,f),y=wa(o,2),p=y[0],h=y[1]-p,b=h/(2/f*i+1-1/f*a),d=b*a/f,v=b-f*d,m=(e=s,r=Math.min.apply(Math,Oa(e)),e.map((function(t){return t/r}))),g=v/m.reduce((function(t,e){return t+e})),w=new Zi(n.map((function(t,e){var r=m[e]*g;return[t,l?Math.floor(r):r]}))),O=new Zi(n.map((function(t,e){var r=m[e]*g+d;return[t,l?Math.floor(r):r]}))),j=Array.from(O.values()).reduce((function(t,e){return t+e})),S=p+(h-(j-j/f*a))*c,P=l?Math.round(S):S,x=new Array(f),k=0;k<f;k+=1){x[k]=Pa(P);var A=n[k];P+=O.get(A)}return{valueBandWidth:w,valueStep:O,adjustedRange:x}}var ka=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&da(t,e)}(i,t);var e,r,n,o=va(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[],range:[0,1],align:.5,round:!1,paddingInner:0,paddingOuter:0,padding:0,unknown:la,flex:[]}}},{key:"clone",value:function(){return new i(this.options)}},{key:"getStep",value:function(t){return void 0===this.valueStep?1:"number"==typeof this.valueStep?this.valueStep:void 0===t?Array.from(this.valueStep.values())[0]:this.valueStep.get(t)}},{key:"getBandWidth",value:function(t){return void 0===this.valueBandWidth?1:"number"==typeof this.valueBandWidth?this.valueBandWidth:void 0===t?Array.from(this.valueBandWidth.values())[0]:this.valueBandWidth.get(t)}},{key:"getRange",value:function(){return this.adjustedRange}},{key:"getPaddingInner",value:function(){var t=this.options,e=t.padding,r=t.paddingInner;return e>0?e:r}},{key:"getPaddingOuter",value:function(){var t=this.options,e=t.padding,r=t.paddingOuter;return e>0?e:r}},{key:"rescale",value:function(){ha(ga(i.prototype),"rescale",this).call(this);var t=this.options,e=t.align,r=t.domain,n=function(t){var e,r=t.domain.length;if(0===r)return{valueBandWidth:void 0,valueStep:void 0,adjustedRange:[]};if(null===(e=t.flex)||void 0===e?void 0:e.length)return xa(t);var n,o,i=t.range,a=t.paddingOuter,u=t.paddingInner,l=t.round,c=t.align,f=i[0],s=i[1]-f,y=2*a,p=r-u;n=s/Math.max(1,y+p),l&&(n=Math.floor(n)),f+=(s-n*(r-u))*c,o=n*(1-u),l&&(f=Math.round(f),o=Math.round(o));var h=new Array(r).fill(0).map((function(t,e){return f+e*n}));return{valueStep:n,valueBandWidth:o,adjustedRange:h}}({align:e,range:t.range,round:t.round,flex:t.flex,paddingInner:this.getPaddingInner(),paddingOuter:this.getPaddingOuter(),domain:r}),o=n.adjustedRange,a=n.valueBandWidth,u=n.valueStep;this.valueStep=u,this.valueBandWidth=a,this.adjustedRange=o}}])&&pa(e.prototype,r),n&&pa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(i,t);var e,r,n,o=oa(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[],range:[],unknown:la}}},{key:"map",value:function(t){return 0===this.domainIndexMap.size&&ca(this.domainIndexMap,this.getDomain(),this.domainKey),fa({value:this.domainKey(t),mapper:this.domainIndexMap,from:this.getDomain(),to:this.getRange(),notFoundReturn:this.options.unknown})}},{key:"invert",value:function(t){return 0===this.rangeIndexMap.size&&ca(this.rangeIndexMap,this.getRange(),this.rangeKey),fa({value:this.rangeKey(t),mapper:this.rangeIndexMap,from:this.getRange(),to:this.getDomain(),notFoundReturn:this.options.unknown})}},{key:"rescale",value:function(t){var e=Qi(this.options.domain,1)[0],r=Qi(this.options.range,1)[0];if(this.domainKey=sa(e),this.rangeKey=sa(r),!this.rangeIndexMap)return this.rangeIndexMap=new Map,void(this.domainIndexMap=new Map);t&&!t.range||this.rangeIndexMap.clear(),(!t||t.domain||t.compare)&&(this.domainIndexMap.clear(),this.sortedDomain=void 0)}},{key:"clone",value:function(){return new i(this.options)}},{key:"getRange",value:function(){return this.options.range}},{key:"getDomain",value:function(){if(this.sortedDomain)return this.sortedDomain;var t=this.options,e=t.domain,r=t.compare;return this.sortedDomain=r?Ji(e).sort(r):e,this.sortedDomain}}])&&ra(e.prototype,r),n&&ra(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Xi)),Aa=function(t,e,r){var n,o,i=t,a=e;if(i===a&&r>0)return[i];var u=Yo(i,a,r);if(0===u||!Number.isFinite(u))return[];if(u>0){i=Math.ceil(i/u),a=Math.floor(a/u),o=new Array(n=Math.ceil(a-i+1));for(var l=0;l<n;l+=1)o[l]=(i+l)*u}else{u=-u,i=Math.ceil(i*u),a=Math.floor(a*u),o=new Array(n=Math.ceil(a-i+1));for(var c=0;c<n;c+=1)o[c]=(i+c)/u}return o};Number.EPSILON;function Ea(t){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _a(t){return Ha(t)||Da(t)||Ga(t)||za()}function Ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ma(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Ea(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ea(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ea(i)?i:String(i)),n)}var o,i}function Ca(t,e){return(Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=La(t);if(e){var o=La(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ia(this,r)}}function Ia(t,e){if(e&&("object"===Ea(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function La(t){return(La=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ba(t){return function(t){if(Array.isArray(t))return Fa(t)}(t)||Da(t)||Ga(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Na(t,e){return Ha(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ga(t,e)||za()}function za(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ga(t,e){if(t){if("string"==typeof t)return Fa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fa(t,e):void 0}}function Fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ha(t){if(Array.isArray(t))return t}var Va=function(t,e,r){var n,o,i=Na(t,2),a=i[0],u=i[1],l=Na(e,2),c=l[0],f=l[1];return a<u?(n=Wo(a,u),o=r(c,f)):(n=Wo(u,a),o=r(f,c)),Vo(o,n)},Wa=function(t,e,r){for(var n=Math.min(t.length,e.length)-1,o=new Array(n),i=new Array(n),a=t[0]>t[n],u=a?Ba(t).reverse():t,l=a?Ba(e).reverse():e,c=0;c<n;c+=1)o[c]=Wo(u[c],u[c+1]),i[c]=r(l[c],l[c+1]);return function(e){var r=Uo(t,e,1,n)-1,a=o[r];return Vo(i[r],a)(e)}},Ua=function(t,e,r,n){return(Math.min(t.length,e.length)>2?Wa:Va)(t,e,n?Ci:r)},$a=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ca(t,e)}(i,t);var e,r,n,o=Ra(i);function i(){return Ta(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[0,1],range:[0,1],nice:!1,clamp:!1,round:!1,interpolate:Ti,tickCount:5}}},{key:"map",value:function(t){return ji(t)?this.output(t):this.options.unknown}},{key:"invert",value:function(t){return ji(t)?this.input(t):this.options.unknown}},{key:"nice",value:function(){if(this.options.nice){var t=_a(this.getTickMethodOptions()),e=t[0],r=t[1],n=t[2],o=t.slice(3);this.options.domain=this.chooseNice().apply(void 0,[e,r,n].concat(Ba(o)))}}},{key:"getTicks",value:function(){var t=this.options.tickMethod,e=_a(this.getTickMethodOptions()),r=e[0],n=e[1],o=e[2],i=e.slice(3);return t.apply(void 0,[r,n,o].concat(Ba(i)))}},{key:"getTickMethodOptions",value:function(){var t=this.options,e=t.domain,r=t.tickCount;return[e[0],e[e.length-1],r]}},{key:"chooseNice",value:function(){return Ko}},{key:"rescale",value:function(){this.nice();var t=Na(this.chooseTransforms(),2),e=t[0],r=t[1];this.composeOutput(e,this.chooseClamp(e)),this.composeInput(e,r,this.chooseClamp(r))}},{key:"chooseClamp",value:function(t){var e,r,n,o,i=this.options,a=i.clamp,u=i.range,l=this.options.domain.map(t),c=Math.min(l.length,u.length);return a?(e=l[0],r=l[c-1],n=r<e?r:e,o=e>r?e:r,function(t){return Math.min(Math.max(n,t),o)}):mi}},{key:"composeOutput",value:function(t,e){var r=this.options,n=r.domain,o=r.range,i=r.round,a=r.interpolate,u=Ua(n.map(t),o,a,i);this.output=Vo(u,e,t)}},{key:"composeInput",value:function(t,e,r){var n=this.options,o=n.domain,i=n.range,a=Ua(i,o.map(t),Ti);this.input=Vo(e,r,a)}}])&&Ma(e.prototype,r),n&&Ma(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Xi);function qa(t){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Za(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ya(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==qa(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==qa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===qa(i)?i:String(i)),n)}var o,i}function Ka(t,e){return(Ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xa(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Qa(t);if(e){var o=Qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ja(this,r)}}function Ja(t,e){if(e&&("object"===qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qa(t){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ka(t,e)}(i,t);var e,r,n,o=Xa(i);function i(){return Za(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[0,1],range:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolate:Mi,tickMethod:Aa,tickCount:5}}},{key:"chooseTransforms",value:function(){return[mi,mi]}},{key:"clone",value:function(){return new i(this.options)}}])&&Ya(e.prototype,r),n&&Ya(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}($a);function eu(t,e){for(var r=[],n=0,o=t.length;n<o;n++)r.push(t[n].substr(0,e));return r}var ru=function(t){return function(e,r){var n=r[t].map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase());return n>-1?n:null}};function nu(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0,o=e;n<o.length;n++){var i=o[n];for(var a in i)t[a]=i[a]}return t}var ou=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],iu=["January","February","March","April","May","June","July","August","September","October","November","December"],au=eu(iu,3),uu={dayNamesShort:eu(ou,3),dayNames:ou,monthNamesShort:au,monthNames:iu,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10?1:0)*t%10]}},lu=(nu({},uu),function(t){return+t-1}),cu=[null,"\\d\\d?"],fu=[null,"[^\\s]+"],su=["isPm","[^\\s]+",function(t,e){var r=t.toLowerCase();return r===e.amPm[0]?0:r===e.amPm[1]?1:null}],yu=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var r=60*+e[1]+parseInt(e[2],10);return"+"===e[0]?r:-r}return 0}];ru("monthNamesShort"),ru("monthNames");function pu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==wu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===wu(i)?i:String(i)),n)}var o,i}function hu(t,e){return(hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function bu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vu(t);if(e){var o=vu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return du(this,r)}}function du(t,e){if(e&&("object"===wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return gu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wu(t){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ou,ju=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":wu(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};var Su=Ou=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hu(t,e)}(i,t);var e,r,n,o=bu(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[0,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:mi,tickMethod:Aa,tickCount:5}}},{key:"clone",value:function(){return new Ou(this.options)}}])&&pu(e.prototype,r),n&&pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(tu);function Pu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Mu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Mu(i)?i:String(i)),n)}var o,i}function xu(t,e){return(xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ku(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Eu(t);if(e){var o=Eu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Au(this,r)}}function Au(t,e){if(e&&("object"===Mu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Eu(t){return(Eu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Tu(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tu(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tu(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mu(t){return(Mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Su=Ou=ju([xi((function(t){return[t(0),t(1)]}),(function(t){var e=mu(t,2),r=e[0],n=e[1];return Vo(Ti(0,1),Wo(r,n))}))],Su);var Cu,Ru=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":Mu(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};var Iu=Cu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xu(t,e)}(i,t);var e,r,n,o=ku(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,t)}return e=i,(r=[{key:"getDefaultOptions",value:function(){return{domain:[0,.5,1],unknown:void 0,nice:!1,clamp:!1,round:!1,interpolator:mi,tickMethod:Aa,tickCount:5}}},{key:"clone",value:function(){return new Cu(this.options)}}])&&Pu(e.prototype,r),n&&Pu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(tu);Iu=Cu=Ru([xi((function(t){return[t(0),t(.5),t(1)]}),(function(t){var e=_u(t,3),r=e[0],n=e[1],o=e[2],i=Vo(Ti(0,.5),Wo(r,n)),a=Vo(Ti(.5,1),Wo(n,o));return function(t){return r>o?t<n?a(t):i(t):t<n?i(t):a(t)}}))],Iu);var Lu=["style"];function Bu(t){return(Bu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Du(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nu(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function zu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$u(n.key),n)}}function Gu(t,e){return(Gu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wu(t);if(e){var o=Wu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hu(this,r)}}function Hu(t,e){if(e&&("object"===Bu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vu(t)}function Vu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wu(t){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uu(t,e,r){return(e=$u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $u(t){var e=function(t,e){if("object"!==Bu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Bu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bu(e)?e:String(e)}var qu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gu(t,e)}(i,t);var e,r,n,o=Fu(i);function i(t){var e,r=t.style,n=Nu(t,Lu);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,p({},{type:"lines",style:{width:0,height:0}},function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Du(Object(r),!0).forEach((function(e){Uu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Du(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({style:r},n))),Uu(Vu(e),"linesGroup",void 0),Uu(Vu(e),"areasGroup",void 0),e.linesGroup=e.appendChild(new b.Group({name:"lines"})),e.areasGroup=e.appendChild(new b.Group({name:"areas"})),e.render(),e}return e=i,(r=[{key:"render",value:function(){var t=this.attributes,e=t.lines,r=t.areas;e&&this.createLines(e),r&&this.createAreas(r)}},{key:"clear",value:function(){this.linesGroup.removeChildren(),this.areasGroup.removeChildren()}},{key:"update",value:function(t){var e=t.lines,r=t.areas;this.clear(),e&&this.setAttribute("lines",e),r&&this.setAttribute("areas",r),this.render()}},{key:"createLines",value:function(t){fe(this.linesGroup).selectAll("line").data(t).join((function(t){return t.append("path").each((function(t){fe(this).styles(t)}))}),(function(t){return t.each((function(t){fe(this).styles(t)}))}),(function(t){return t.remove()}))}},{key:"createAreas",value:function(t){fe(this.linesGroup).selectAll("area").data(t).join((function(t){return t.append("path").each((function(t){fe(this).styles(t)}))}),(function(t){return t.each((function(t){fe(this).styles(t)}))}),(function(t){return t.remove()}))}}])&&zu(e.prototype,r),n&&zu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.DisplayObject),Zu=["style"];function Yu(t){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ku(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xu(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ju(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,il(n.key),n)}}function Qu(t,e){return(Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function tl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=nl(t);if(e){var o=nl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return el(this,r)}}function el(t,e){if(e&&("object"===Yu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rl(t)}function rl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nl(t){return(nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ol(t,e,r){return(e=il(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function il(t){var e=function(t,e){if("object"!==Yu(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Yu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Yu(e)?e:String(e)}var al=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qu(t,e)}(i,t);var e,r,n,o=tl(i);function i(t){var e,r=t.style,n=Xu(t,Zu);return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,p({},{type:"column",style:{width:0,height:0}},function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ku(Object(r),!0).forEach((function(e){ol(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({style:r},n))),ol(rl(e),"columnsGroup",void 0),e.columnsGroup=new b.Group({name:"columns"}),e.appendChild(e.columnsGroup),e.render(),e}return e=i,(r=[{key:"render",value:function(){var t=this.attributes.columns;fe(this.columnsGroup).selectAll("column-group").data(t.flat()).join((function(t){return t.append("rect").each((function(t){fe(this).styles(t)}))}),(function(t){return t.each((function(t){fe(this).styles(t)}))}),(function(t){return t.remove()}))}},{key:"update",value:function(t){this.attr(p({},this.attributes,t)),t.columns&&(this.clear(),this.render())}},{key:"clear",value:function(){this.removeChildren()}}])&&Ju(e.prototype,r),n&&Ju(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.DisplayObject),ul=function(t){if(l(t))return t.reduce((function(t,e){return Math.min(t,e)}),t[0])},ll=function(t,e){if(l(t)){for(var r,n=1/0,o=0;o<t.length;o++){var i=t[o],a=j(e)?e(i):i[e];a<n&&(r=i,n=a)}return r}},cl=function(t){if(l(t))return t.reduce((function(t,e){return Math.max(t,e)}),t[0])},fl=function(t,e){if(l(t)){for(var r,n=-1/0,o=0;o<t.length;o++){var i=t[o],a=j(e)?e(i):i[e];a>n&&(r=i,n=a)}return r}};function sl(t){return 0===t.length?[0,0]:[ul(ll(t,(function(t){return ul(t)||0}))),cl(fl(t,(function(t){return cl(t)||0})))]}function yl(t){for(var e=K(t),r=e[0].length,n=[Array(r).fill(0),Array(r).fill(0)],o=n[0],i=n[1],a=0;a<e.length;a+=1)for(var u=e[a],l=0;l<r;l+=1)u[l]>=0?(u[l]+=o[l],o[l]=u[l]):(u[l]+=i[l],i[l]=u[l]);return e}var pl=function(t,e,r){return t<e?e:t>r?r:t},hl=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},bl=function t(e,r){if(e===r)return!0;if(!e||!r)return!1;if(P(e)||P(r))return!1;if(hl(e)||hl(r)){if(e.length!==r.length)return!1;for(var n=!0,o=0;o<e.length&&(n=t(e[o],r[o]));o++);return n}if(f(e)||f(r)){var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;for(n=!0,o=0;o<i.length&&(n=t(e[i[o]],r[i[o]]));o++);return n}return!1};var dl="undefined"!=typeof Float32Array?Float32Array:Array,vl=Math.random;Math.PI;function ml(){var t=new dl(9);return dl!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function gl(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function wl(t){var e=new dl(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function Ol(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function jl(t,e,r,n,o,i,a,u,l){var c=new dl(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=o,c[5]=i,c[6]=a,c[7]=u,c[8]=l,c}function Sl(t,e,r,n,o,i,a,u,l,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=l,t[8]=c,t}function Pl(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xl(t,e){if(t===e){var r=e[1],n=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function kl(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],l=e[6],c=e[7],f=e[8],s=f*a-u*c,y=-f*i+u*l,p=c*i-a*l,h=r*s+n*y+o*p;return h?(h=1/h,t[0]=s*h,t[1]=(-f*n+o*c)*h,t[2]=(u*n-o*a)*h,t[3]=y*h,t[4]=(f*r-o*l)*h,t[5]=(-u*r+o*i)*h,t[6]=p*h,t[7]=(-c*r+n*l)*h,t[8]=(a*r-n*i)*h,t):null}function Al(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],l=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=o*c-n*f,t[2]=n*u-o*a,t[3]=u*l-i*f,t[4]=r*f-o*l,t[5]=o*i-r*u,t[6]=i*c-a*l,t[7]=n*l-r*c,t[8]=r*a-n*i,t}function El(t){var e=t[0],r=t[1],n=t[2],o=t[3],i=t[4],a=t[5],u=t[6],l=t[7],c=t[8];return e*(c*i-a*l)+r*(-c*o+a*u)+n*(l*o-i*u)}function _l(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],l=e[5],c=e[6],f=e[7],s=e[8],y=r[0],p=r[1],h=r[2],b=r[3],d=r[4],v=r[5],m=r[6],g=r[7],w=r[8];return t[0]=y*n+p*a+h*c,t[1]=y*o+p*u+h*f,t[2]=y*i+p*l+h*s,t[3]=b*n+d*a+v*c,t[4]=b*o+d*u+v*f,t[5]=b*i+d*l+v*s,t[6]=m*n+g*a+w*c,t[7]=m*o+g*u+w*f,t[8]=m*i+g*l+w*s,t}function Tl(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],l=e[5],c=e[6],f=e[7],s=e[8],y=r[0],p=r[1];return t[0]=n,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=l,t[6]=y*n+p*a+c,t[7]=y*o+p*u+f,t[8]=y*i+p*l+s,t}function Ml(t,e,r){var n=e[0],o=e[1],i=e[2],a=e[3],u=e[4],l=e[5],c=e[6],f=e[7],s=e[8],y=Math.sin(r),p=Math.cos(r);return t[0]=p*n+y*a,t[1]=p*o+y*u,t[2]=p*i+y*l,t[3]=p*a-y*n,t[4]=p*u-y*o,t[5]=p*l-y*i,t[6]=c,t[7]=f,t[8]=s,t}function Cl(t,e,r){var n=r[0],o=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Rl(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Il(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ll(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Bl(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Dl(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=r+r,u=n+n,l=o+o,c=r*a,f=n*a,s=n*u,y=o*a,p=o*u,h=o*l,b=i*a,d=i*u,v=i*l;return t[0]=1-s-h,t[3]=f-v,t[6]=y+d,t[1]=f+v,t[4]=1-c-h,t[7]=p-b,t[2]=y-d,t[5]=p+b,t[8]=1-c-s,t}function Nl(t,e){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],u=e[5],l=e[6],c=e[7],f=e[8],s=e[9],y=e[10],p=e[11],h=e[12],b=e[13],d=e[14],v=e[15],m=r*u-n*a,g=r*l-o*a,w=r*c-i*a,O=n*l-o*u,j=n*c-i*u,S=o*c-i*l,P=f*b-s*h,x=f*d-y*h,k=f*v-p*h,A=s*d-y*b,E=s*v-p*b,_=y*v-p*d,T=m*_-g*E+w*A+O*k-j*x+S*P;return T?(T=1/T,t[0]=(u*_-l*E+c*A)*T,t[1]=(l*k-a*_-c*x)*T,t[2]=(a*E-u*k+c*P)*T,t[3]=(o*E-n*_-i*A)*T,t[4]=(r*_-o*k+i*x)*T,t[5]=(n*k-r*E-i*P)*T,t[6]=(b*S-d*j+v*O)*T,t[7]=(d*w-h*S-v*g)*T,t[8]=(h*j-b*w+v*m)*T,t):null}function zl(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Gl(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Fl(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Hl(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function Vl(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Wl(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Ul(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function $l(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function ql(t,e){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],u=t[5],l=t[6],c=t[7],f=t[8],s=e[0],y=e[1],p=e[2],h=e[3],b=e[4],d=e[5],v=e[6],m=e[7],g=e[8];return Math.abs(r-s)<=1e-6*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-y)<=1e-6*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(o-p)<=1e-6*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-h)<=1e-6*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-b)<=1e-6*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(u-d)<=1e-6*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(l-v)<=1e-6*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-m)<=1e-6*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(f-g)<=1e-6*Math.max(1,Math.abs(f),Math.abs(g))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Zl=_l,Yl=Vl;function Kl(){var t=new dl(2);return dl!=Float32Array&&(t[0]=0,t[1]=0),t}function Xl(t){var e=new dl(2);return e[0]=t[0],e[1]=t[1],e}function Jl(t,e){var r=new dl(2);return r[0]=t,r[1]=e,r}function Ql(t,e){return t[0]=e[0],t[1]=e[1],t}function tc(t,e,r){return t[0]=e,t[1]=r,t}function ec(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function rc(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function nc(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function oc(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function ic(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function ac(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function uc(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function lc(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function cc(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function fc(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function sc(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function yc(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function pc(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function hc(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function bc(t){var e=t[0],r=t[1];return e*e+r*r}function dc(t,e){return t[0]=-e[0],t[1]=-e[1],t}function vc(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function mc(t,e){var r=e[0],n=e[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t}function gc(t,e){return t[0]*e[0]+t[1]*e[1]}function wc(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Oc(t,e,r,n){var o=e[0],i=e[1];return t[0]=o+n*(r[0]-o),t[1]=i+n*(r[1]-i),t}function jc(t,e){e=e||1;var r=2*vl()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function Sc(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o,t[1]=r[1]*n+r[3]*o,t}function Pc(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[2]*o+r[4],t[1]=r[1]*n+r[3]*o+r[5],t}function xc(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[3]*o+r[6],t[1]=r[1]*n+r[4]*o+r[7],t}function kc(t,e,r){var n=e[0],o=e[1];return t[0]=r[0]*n+r[4]*o+r[12],t[1]=r[1]*n+r[5]*o+r[13],t}function Ac(t,e,r,n){var o=e[0]-r[0],i=e[1]-r[1],a=Math.sin(n),u=Math.cos(n);return t[0]=o*u-i*a+r[0],t[1]=o*a+i*u+r[1],t}function Ec(t,e){var r=t[0],n=t[1],o=e[0],i=e[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(o*o+i*i),u=a&&(r*o+n*i)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function _c(t){return t[0]=0,t[1]=0,t}function Tc(t){return"vec2("+t[0]+", "+t[1]+")"}function Mc(t,e){return t[0]===e[0]&&t[1]===e[1]}function Cc(t,e){var r=t[0],n=t[1],o=e[0],i=e[1];return Math.abs(r-o)<=1e-6*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=1e-6*Math.max(1,Math.abs(n),Math.abs(i))}var Rc,Ic=hc,Lc=rc,Bc=nc,Dc=oc,Nc=yc,zc=pc,Gc=bc,Fc=(Rc=Kl(),function(t,e,r,n,o,i){var a,u;for(e||(e=2),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,a=r;a<u;a+=e)Rc[0]=t[a],Rc[1]=t[a+1],o(Rc,Rc,i),t[a]=Rc[0],t[a+1]=Rc[1];return t});function Hc(t,e,r){var o=[0,0,0,0,0,0,0,0,0];return n.fromTranslation(o,r),n.multiply(t,o,e)}function Vc(t,e,r){var o=[0,0,0,0,0,0,0,0,0];return n.fromRotation(o,r),n.multiply(t,o,e)}function Wc(t,e,r){var o=[0,0,0,0,0,0,0,0,0];return n.fromScaling(o,r),n.multiply(t,o,e)}function Uc(t,e){for(var r,o,i,a=t?[].concat(t):[1,0,0,0,1,0,0,0,1],u=0,l=e.length;u<l;u++){var c=e[u];switch(c[0]){case"t":Hc(a,a,[c[1],c[2]]);break;case"s":Wc(a,a,[c[1],c[2]]);break;case"r":Vc(a,a,c[1]);break;case"m":r=a,o=a,i=c[1],n.multiply(r,i,o)}}return a}function $c(t,e){return t[0]*e[1]-e[0]*t[1]}function qc(t,e,r){var n=o.angle(t,e),i=$c(t,e)>=0;return r?i?2*Math.PI-n:n:i?n:2*Math.PI-n}function Zc(t,e,r){return r?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}var Yc=function(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=[[0,0],[1,1]]);for(var n=!!e,i=[],a=0,u=t.length;a<u;a+=2)i.push([t[a],t[a+1]]);var l,c,f,s=function(t,e,r,n){var i,a,u,l,c,f,s,y=[],p=!!n;if(p){u=n[0],l=n[1];for(var h=0,b=t.length;h<b;h+=1){var d=t[h];u=o.min([0,0],u,d),l=o.max([0,0],l,d)}}h=0;for(var v=t.length;h<v;h+=1){d=t[h];if(0!==h||r)if(h!==v-1||r){i=t[[h?h-1:v-1,h-1][r?0:1]],a=t[r?(h+1)%v:h+1];var m=[0,0];m=o.sub(m,a,i),m=o.scale(m,m,e);var g=o.distance(d,i),w=o.distance(d,a),O=g+w;0!==O&&(g/=O,w/=O);var j=o.scale([0,0],m,-g),S=o.scale([0,0],m,w);f=o.add([0,0],d,j),c=o.add([0,0],d,S),c=o.min([0,0],c,o.max([0,0],a,d)),c=o.max([0,0],c,o.min([0,0],a,d)),j=o.sub([0,0],c,d),j=o.scale([0,0],j,-g/w),f=o.add([0,0],d,j),f=o.min([0,0],f,o.max([0,0],i,d)),f=o.max([0,0],f,o.min([0,0],i,d)),S=o.sub([0,0],d,f),S=o.scale([0,0],S,w/g),c=o.add([0,0],d,S),p&&(f=o.max([0,0],f,u),f=o.min([0,0],f,l),c=o.max([0,0],c,u),c=o.min([0,0],c,l)),y.push(s),y.push(f),s=c}else f=d,y.push(s),y.push(f);else s=d}return r&&y.push(y.shift()),y}(i,.4,n,r),y=i.length,p=[];for(a=0;a<y-1;a+=1)l=s[2*a],c=s[2*a+1],f=i[a+1],p.push(["C",l[0],l[1],c[0],c[1],f[0],f[1]]);return n&&(l=s[y],c=s[y+1],f=i[0],p.push(["C",l[0],l[1],c[0],c[1],f[0],f[1]])),p};var Kc="\t\n\v\f\r \u2028\u2029";new RegExp("([a-z])["+Kc+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Kc+"]*,?["+Kc+"]*)+)","ig"),new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Kc+"]*,?["+Kc+"]*","ig");Math.PI;function Xc(t){return function(t){if(Array.isArray(t))return tf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Qc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qc(t,e){if(t){if("string"==typeof t)return tf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tf(t,e):void 0}}function tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ef(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e?t.length-1:0,n=t.map((function(t,e){return[e===r?"M":"L"].concat(Xc(t))}));return e?n.reverse():n}function rf(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.length<=2)return ef(t);for(var r=[],n=t.length,o=0;o<n;o+=1){var i=e?t[n-o-1]:t[o];bl(i,r.slice(-2))||r.push.apply(r,Xc(i))}var a=Yc(r,!1);return e?a.unshift(["M"].concat(Xc(t[n-1]))):a.unshift(["M"].concat(Xc(t[0]))),a}function nf(t,e,r){var n=K(t);return n.push(["L",e,r],["L",0,r],["Z"]),n}function of(t){return(of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function af(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function uf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?af(Object(r),!0).forEach((function(e){df(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return cf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ff(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vf(n.key),n)}}function sf(t,e){return(sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=bf(t);if(e){var o=bf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pf(this,r)}}function pf(t,e){if(e&&("object"===of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hf(t)}function hf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bf(t){return(bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function df(t,e,r){return(e=vf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vf(t){var e=function(t,e){if("object"!==of(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==of(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===of(e)?e:String(e)}var mf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sf(t,e)}(i,t);var e,r,n,o=yf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),df(hf(e=o.call(this,p({},i.defaultOptions,t))),"containerShape",void 0),df(hf(e),"sparkShape",void 0),e}return e=i,(r=[{key:"rawData",get:function(){var t=this.attributes.data;if(!t||0===(null==t?void 0:t.length))return[[]];var e=K(t);return q(e[0])?[e]:e}},{key:"data",get:function(){return this.attributes.isStack?yl(this.rawData):this.rawData}},{key:"scales",get:function(){return this.createScales(this.data)}},{key:"baseline",get:function(){var t=this.scales.y,e=lf(t.getOptions().domain||[0,0],2),r=e[0],n=e[1];return n<0?t.map(n):t.map(r<0?0:r)}},{key:"containerCfg",get:function(){var t=this.attributes;return{width:t.width,height:t.height}}},{key:"linesCfg",get:function(){var t=this;if("line"!==this.attributes.type)throw new Error("linesCfg can only be used in line type");var e=this.attributes,r=e.isStack,n=e.smooth,o=pt(this.attributes,"area"),i=pt(this.attributes,"line"),a=this.containerCfg.width,u=this.data;if(0===u[0].length)return{lines:[],areas:[]};var l=this.scales,c=function(t,e){var r=e.x,n=e.y,o=Jc(n.getOptions().range||[0,0],2),i=o[0],a=o[1];if(a>i){var u=[i,a];a=u[0],i=u[1]}return t.map((function(t){return t.map((function(t,e){return[r.map(e),pl(n.map(t),a,i)]}))}))}(u,{type:"line",x:l.x,y:l.y}),f=[];if(o){var s=this.baseline;f=r?n?function(t,e,r){for(var n=[],o=t.length-1;o>=0;o-=1){var i=t[o],a=rf(i),u=void 0;if(0===o)u=nf(a,e,r);else{var l=rf(t[o-1],!0),c=i[0];l[0][0]="L",u=[].concat(Xc(a),Xc(l),[["M"].concat(Xc(c)),["Z"]])}n.push(u)}return n}(c,a,s):function(t,e,r){for(var n=[],o=t.length-1;o>=0;o-=1){var i=ef(t[o]),a=void 0;if(0===o)a=nf(i,e,r);else{var u=ef(t[o-1],!0);u[0][0]="L",a=[].concat(Xc(i),Xc(u),[["Z"]])}n.push(a)}return n}(c,a,s):function(t,e,r,n){return t.map((function(t){return nf(e?rf(t):ef(t),r,n)}))}(c,n,a,s)}return{lines:c.map((function(e,r){return uf({stroke:t.getColor(r),path:n?rf(e):ef(e)},i)})),areas:f.map((function(e,r){return uf({path:e,fill:t.getColor(r)},o)}))}}},{key:"columnsCfg",get:function(){var t=this;if("column"!==this.attributes.type)throw new Error("columnsCfg can only be used in column type");var e=pt(this.attributes,"column"),r=this.attributes.isStack,n=this.containerCfg.height,o=this.rawData;if(!o)return{columns:[]};r&&(o=yl(o));var i=this.createScales(o),a=i.x,u=i.y,l=lf(sl(o),2),c=l[0],f=l[1],s=new tu({domain:[0,f-(c>0?0:c)],range:[0,n]}),y=a.getBandWidth(),p=this.rawData;return{columns:o.map((function(n,i){return n.map((function(n,l){var c=y/o.length;return uf(uf({fill:t.getColor(i)},e),r?{x:a.map(l),y:u.map(n),width:y,height:s.map(p[i][l])}:{x:a.map(l)+c*i,y:n>=0?u.map(n):u.map(0),width:c,height:s.map(Math.abs(n))})}))}))}}},{key:"render",value:function(t,e){this.containerShape=se(e,".container","rect").attr("className","container").node();var r=t.type,n="spark".concat(r),o="line"===r?this.linesCfg:this.columnsCfg;this.sparkShape=se(e,".".concat(n),(function(){return"line"===r?new qu({className:n,style:o}):new al({className:n,style:o})})).styles(o).node()}},{key:"update",value:function(t){this.attr(p({},this.attributes,t)),this.render(this.attributes,this)}},{key:"clear",value:function(){this.removeChild(this.sparkShape),this.sparkShape.clear(),this.sparkShape.destroy()}},{key:"getColor",value:function(t){var e=this.attributes.color;return l(e)?e[t%e.length]:j(e)?e.call(null,t):e}},{key:"createScales",value:function(t){var e,r,n=this.attributes,o=n.type,i=n.range,a=void 0===i?[]:i,u=this.containerCfg,l=u.width,c=u.height,f=lf(sl(t),2),s=f[0],y=f[1],p=new tu({domain:[null!==(e=a[0])&&void 0!==e?e:s,null!==(r=a[1])&&void 0!==r?r:y],range:[c,0]});if("line"===o)return{type:o,x:new tu({domain:[0,t[0].length-1],range:[0,l]}),y:p};var h=this.attributes,b=h.isGroup,d=h.spacing;return{type:o,x:new ka({domain:t[0].map((function(t,e){return e})),range:[0,l],paddingInner:b?d:0}),y:p}}}])&&ff(e.prototype,r),n&&ff(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);df(mf,"tag","sparkline"),df(mf,"defaultOptions",{style:{type:"line",width:200,height:20,isStack:!1,nice:!0,color:["#83daad","#edbf45","#d2cef9","#e290b3","#6f63f4"],smooth:!0,lineLineWidth:1,areaOpacity:0,isGroup:!1,columnLineWidth:1,columnStroke:"#fff",columnPadding:.1}});var gf={fill:"#fff",stroke:"#bfbfbf",lineWidth:1,size:10,radius:2,strokeOpacity:1},wf={fontSize:12,fill:"#000",fillOpacity:.45,textAlign:"center",textBaseline:"middle"},Of={orient:"horizontal",type:"start",showLabel:!0};function jf(t){return(jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Sf=["size","radius","orient","class"];function Pf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lf(n.key),n)}}function Af(t,e){return(Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ef(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Mf(t);if(e){var o=Mf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _f(this,r)}}function _f(t,e){if(e&&("object"===jf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tf(t)}function Tf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mf(t){return(Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cf(Object(r),!0).forEach((function(e){If(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function If(t,e,r){return(e=Lf(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lf(t){var e=function(t,e){if("object"!==jf(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jf(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===jf(e)?e:String(e)}function Bf(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var Df=Er({labelGroup:"label-group",label:"label",icon:"icon",iconRect:"icon-rect",iconLine:"icon-line"},"handle"),Nf=xr({render:function(t,e){var r=t.size,n=void 0===r?10:r,o=t.radius,i=void 0===o?n/4:o,a=t.orient,u=(t.class,Bf(t,Sf)),l=n,c=2.4*l,f=fe(e).maybeAppendByClassName(Df.iconRect,"rect").styles(Rf(Rf({},u),{},{width:l,height:c,radius:i,x:-l/2,y:-c/2})),s=1/3*l,y=2/3*l,p=1/4*c,h=3/4*c;f.maybeAppendByClassName("".concat(Df.iconLine,"-1"),"line").styles(Rf({x1:s,x2:s,y1:p,y2:h},u)),f.maybeAppendByClassName("".concat(Df.iconLine,"-2"),"line").styles(Rf({x1:y,x2:y,y1:p,y2:h},u)),f.node().setOrigin(l/2,c/2),"vertical"===a?e.setLocalEulerAngles(90):e.setLocalEulerAngles(0)}}),zf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Af(t,e)}(i,t);var e,r,n,o=Ef(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),If(Tf(e=o.call(this,ze({},{style:Of},t))),"label",void 0),If(Tf(e),"icon",void 0),e}return e=i,(r=[{key:"renderLabel",value:function(t){var e=this,r=this.attributes.showLabel,n=Pf(dt(pt(this.attributes,"label"),[]),2),o=n[0],i=n[1];yr(!!r,fe(t).maybeAppendByClassName(Df.labelGroup,"g").styles(i),(function(t){e.label=t.maybeAppendByClassName(Df.label,"text").styles(Rf(Rf({},wf),o)),e.label.on("mousedown",(function(t){t.stopPropagation()})),e.label.on("touchstart",(function(t){t.stopPropagation()}))}))}},{key:"renderIcon",value:function(t){var e=this.attributes,r=e.iconShape,n=void 0===r?function(){return new Nf({style:o})}:r,o=Rf(Rf({orient:e.orient},gf),pt(this.attributes,"icon"));this.icon=fe(t).maybeAppendByClassName(Df.icon,n).update(o)}},{key:"render",value:function(t,e){this.renderIcon(e),this.renderLabel(e)}}])&&kf(e.prototype,r),n&&kf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn),Gf=["padding"];function Ff(t){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hf(Object(r),!0).forEach((function(e){Qf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Uf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $f(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function qf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ts(n.key),n)}}function Zf(t,e){return(Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Yf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jf(t);if(e){var o=Jf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Kf(this,r)}}function Kf(t,e){if(e&&("object"===Ff(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Xf(t)}function Xf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jf(t){return(Jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qf(t,e,r){return(e=ts(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ts(t){var e=function(t,e){if("object"!==Ff(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ff(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ff(e)?e:String(e)}var es=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zf(t,e)}(i,t);var e,r,n,o=Yf(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Qf(Xf(e=o.call(this,p({},i.defaultOptions,t))),"range",[0,1]),Qf(Xf(e),"trackShape",void 0),Qf(Xf(e),"sparklineShape",void 0),Qf(Xf(e),"foregroundGroup",void 0),Qf(Xf(e),"selectionShape",void 0),Qf(Xf(e),"startHandle",void 0),Qf(Xf(e),"endHandle",void 0),Qf(Xf(e),"selectionStartPos",void 0),Qf(Xf(e),"selectionWidth",void 0),Qf(Xf(e),"prevPos",void 0),Qf(Xf(e),"target",void 0),Qf(Xf(e),"animation",{duration:100,fill:"both"}),Qf(Xf(e),"onDragStart",(function(t){return function(r){r.stopPropagation(),e.target=t,e.prevPos=e.getOrientVal(vt(r));var n=e.availableSpace,o=n.x,i=n.y,a=e.attributes,u=a.x,l=a.y;e.selectionStartPos=e.getRatio(e.prevPos-e.getOrientVal([o,i])-e.getOrientVal([+u,+l])),e.selectionWidth=0,document.addEventListener("mousemove",e.onDragging),document.addEventListener("touchmove",e.onDragging),document.addEventListener("mouseup",e.onDragEnd),document.addEventListener("touchend",e.onDragEnd)}})),Qf(Xf(e),"onDragging",(function(t){var r=e.attributes,n=r.slidable,o=r.brushable;t.stopPropagation();var i=e.getOrientVal(vt(t)),a=i-e.prevPos;if(a){var u=e.getRatio(a);switch(e.target){case"start":n&&e.setValuesOffset(u);break;case"end":n&&e.setValuesOffset(0,u);break;case"selection":n&&e.setValuesOffset(u,u);break;case"track":if(!o)return;e.selectionWidth+=u,e.innerSetValues([e.selectionStartPos,e.selectionStartPos+e.selectionWidth].sort(),!0)}e.prevPos=i}})),Qf(Xf(e),"onDragEnd",(function(){document.removeEventListener("mousemove",e.onDragging),document.removeEventListener("mousemove",e.onDragging),document.removeEventListener("mouseup",e.onDragEnd),document.removeEventListener("touchend",e.onDragEnd)})),Qf(Xf(e),"onValueChange",(function(t){var r=new b.CustomEvent("valuechange",{detail:{oldValue:t,value:e.getValues()}});e.dispatchEvent(r)})),e.selectionStartPos=0,e.selectionWidth=0,e.prevPos=0,e.target="",e}return e=i,(r=[{key:"values",get:function(){return this.getAttribute("values")},set:function(t){this.setAttribute("values",this.clampValues(t))}},{key:"sparklineShapeCfg",get:function(){if("horizontal"!==this.attributes.orient)return null;var t=pt(this.attributes,"sparkline"),e=t.padding,r=$f(t,Gf),n=Wf(Z(e),4),o=n[0],i=n[1],a=n[2],u=n[3],l=this.availableSpace,c=l.width,f=l.height,s=this.attributes.trackLineWidth,y=+(void 0===s?0:s);return Vf(Vf({x:y/2+u,y:y/2+o},r),{},{zIndex:0,width:c-y-u-i,height:f-y-o-a})}},{key:"shape",get:function(){var t=this.attributes,e=t.trackLength,r=t.trackSize,n=Wf(this.getOrientVal([[e,r],[r,e]]),2);return{width:n[0],height:n[1]}}},{key:"availableSpace",get:function(){var t=Wf(Z(this.attributes.padding),4),e=t[0],r=t[1],n=t[2],o=t[3],i=this.shape;return{x:o,y:e,width:i.width-(o+r),height:i.height-(e+n)}}},{key:"getValues",value:function(){return this.values}},{key:"setValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.attr("values",t);var r=!1!==e&&this.animation;Xr(this.selectionShape.node(),this.selectionCfg,r),Xr(this.startHandle.node(),this.getHandleShapeCfg("start"),r),Xr(this.endHandle.node(),this.getHandleShapeCfg("end"),r)}},{key:"innerSetValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.values,n=this.clampValues(t);this.update({values:n}),e&&this.onValueChange(r)}},{key:"renderTrack",value:function(t){var e=this.attributes.brushable,r=pt(this.attributes,"track");this.trackShape=fe(t).maybeAppendByClassName("slider-track","rect").styles(Vf(Vf(Vf({},this.shape),r),{},{cursor:e?"crosshair":"default"}))}},{key:"renderSparkline",value:function(t){var e=this;yr("horizontal"===this.attributes.orient,fe(t).maybeAppendByClassName("slider-sparkline-group","g"),(function(t){var r=e.sparklineShapeCfg;t.maybeAppendByClassName("slider-sparkline",(function(){return new mf({style:r})})).call((function(t){t.node().update(r)}))}))}},{key:"selectionCfg",get:function(){return Vf(Vf({},pt(this.attributes,"selection")),this.calcMask())}},{key:"renderSelection",value:function(t){var e=this;this.foregroundGroup=fe(t).maybeAppendByClassName("slider-foreground","g"),this.selectionShape=this.foregroundGroup.maybeAppendByClassName("slider-selection","rect").styles(this.selectionCfg);var r=function(t){var r="".concat(t,"-handle"),n=e.getHandleShapeCfg(t);return e.foregroundGroup.maybeAppendByClassName(r,(function(){return new zf({style:n})})).style("type",t).update(n)};this.startHandle=r("start"),this.endHandle=r("end")}},{key:"render",value:function(t,e){this.renderTrack(e),this.renderSparkline(e),this.renderSelection(e)}},{key:"clampValues",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=Wf(this.range,2),n=r[0],o=r[1],i=this.getValues().map((function(t){return z(t,e)})),a=Wf(i,2),u=a[0],l=a[1],c=(t||[u,l]).map((function(t){return z(t,e)})),f=Wf(c,2),s=f[0],y=f[1];if(s>y){var p=[y,s];s=p[0],y=p[1]}var h=y-s;return h>o-n?[n,o]:s<n?u===n&&l===y?[n,y]:[n,h+n]:y>o?l===o&&u===s?[s,o]:[o-h,o]:[s,y]}},{key:"calcMask",value:function(t){var e=Wf(this.clampValues(t),2),r=e[0],n=e[1],o=this.availableSpace,i=o.x,a=o.y,u=o.width,l=o.height;return this.getOrientVal([{y:a,height:l,x:r*u+i,width:(n-r)*u},{x:i,width:u,y:r*l+a,height:(n-r)*l}])}},{key:"calcHandlePosition",value:function(t){var e=this.availableSpace,r=e.width,n=e.height,o=Wf(this.clampValues(),2),i=o[0],a=o[1],u=("start"===t?i:a)*this.getOrientVal([r,n]);return{x:this.getOrientVal([u,r/2]),y:this.getOrientVal([n/2,u])}}},{key:"calcHandleText",value:function(t){var e=this.attributes,r=e.orient,n=e.formatter,o=pt(this.attributes,"handle"),i=pt(o,"label"),a=o.spacing,u=this.getHandleSize(),l=this.clampValues(),c=this.availableSpace,f=c.width,s=c.height,y=this.calcMask(),p=y.x,h=y.y,d=y.width,v=y.height,m=n("start"===t?l[0]:l[1]),g=this.appendChild(new b.Text({style:Vf(Vf(Vf({visibility:"hidden"},ct),i),{},{text:m})})),w=g.getBBox(),O=w.width,j=w.height;g.destroy();var S=0,P=0;if("horizontal"===r){var x=a+u,k=x+O/2;S="start"===t?p-x-O>0?-k:k:f-p-d-x>O?k:-k}else{var A=a+u;P="start"===t?h-u>j?-A:A:s-h-v-u>j?A:-A}return{x:S,y:P,text:m}}},{key:"getHandleLabelShapeCfg",value:function(t){return this.attributes.showLabel?Vf(Vf({},pt(this.attributes,"handleLabel")),this.calcHandleText(t)):{}}},{key:"getHandleIconShapeCfg",value:function(){var t=this.attributes,e=t.orient,r=t.handleIconShape,n=pt(this.attributes,"handleIcon"),o=this.getOrientVal(["ew-resize","ns-resize"]),i=this.getHandleSize();return Vf(Vf({},n),{},{shape:r,orient:e,cursor:o,size:i})}},{key:"getHandleShapeCfg",value:function(t){var e=this.attributes,r=e.showHandle,n=e.showLabel,o=this.calcHandlePosition(t),i=o.x,a=o.y,u=this.calcHandleText(t);return Vf(Vf(Vf({zIndex:3,showLabel:n,visibility:r?"visible":"hidden"},bt(this.getHandleIconShapeCfg(),"icon")),bt(Vf(Vf({},this.getHandleLabelShapeCfg(t)),u),"label")),{},{x:i,y:a})}},{key:"getHandleSize",value:function(){var t=this.attributes.handleIconSize;if(t)return t;var e=this.attributes,r=e.width,n=e.height;return Math.floor((this.getOrientVal([+n,+r])+4)/2.4)}},{key:"getOrientVal",value:function(t){var e=Wf(t,2),r=e[0],n=e[1];return"horizontal"===this.attributes.orient?r:n}},{key:"setValuesOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.getValues(),o=Wf(n,2),i=o[0],a=o[1],u=[i+t,a+e].sort();r?this.setValues(u):this.innerSetValues(u,!0)}},{key:"getRatio",value:function(t){var e=this.availableSpace,r=e.width,n=e.height;return t/this.getOrientVal([r,n])}},{key:"dispatchCustomEvent",value:function(t,e,r){var n=this;t.on(e,(function(t){t.stopPropagation(),n.dispatchEvent(new b.CustomEvent(r,{detail:t}))}))}},{key:"bindEvents",value:function(){var t=this,e=this.selectionShape;this.addEventListener("wheel",this.onScroll),e.on("mousedown",this.onDragStart("selection")),e.on("touchstart",this.onDragStart("selection")),this.dispatchCustomEvent(e,"mouseenter","selectionMouseenter"),this.dispatchCustomEvent(e,"mouseleave","selectionMouseleave"),this.dispatchCustomEvent(e,"click","selectionClick"),[this.startHandle,this.endHandle].forEach((function(e){var r=e.node().attr("type");e.on("mousedown",(function(e){t.onDragStart(r)(e)})),e.on("touchstart",(function(e){t.onDragStart(r)(e)}))}));var r=this.trackShape;this.dispatchCustomEvent(r,"click","trackClick"),this.dispatchCustomEvent(r,"mouseenter","trackMouseenter"),this.dispatchCustomEvent(r,"mouseleave","trackMouseleave"),r.on("mousedown",this.onDragStart("track")),r.on("touchstart",this.onDragStart("track"))}},{key:"onScroll",value:function(t){if(this.attributes.scrollable){var e=t.deltaX,r=t.deltaY||e,n=this.getRatio(r);this.setValuesOffset(n,n,!0)}}}])&&qf(e.prototype,r),n&&qf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function rs(t){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ns(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function os(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ns(Object(r),!0).forEach((function(e){ps(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function is(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return as(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return as(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hs(n.key),n)}}function ls(t,e){return(ls=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ys(t);if(e){var o=ys(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fs(this,r)}}function fs(t,e){if(e&&("object"===rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ss(t)}function ss(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ys(t){return(ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ps(t,e,r){return(e=hs(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hs(t){var e=function(t,e){if("object"!==rs(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rs(e)?e:String(e)}Qf(es,"tag","slider"),Qf(es,"defaultOptions",{style:Vf(Vf(Vf({values:[0,1],trackLength:200,trackSize:20,slidable:!0,brushable:!0,scrollable:!0,orient:"horizontal",trackZIndex:-1,trackFill:"#416180",trackOpacity:.05,selectionCursor:"move",selectionZIndex:2,selectionFill:"#5B8FF9",selectionFillOpacity:.45,sparklinePadding:1,padding:0,showHandle:!0,showLabel:!0,handleSpacing:2,formatter:function(t){return t}},bt(Of,"handle")),bt(gf,"handleIcon")),bt(wf,"handleLabel"))});var bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ls(t,e)}(i,t);var e,r,n,o=cs(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ps(ss(e=o.call(this,p({},i.defaultOptions,t))),"slider",void 0),ps(ss(e),"range",[0,1]),ps(ss(e),"onValueChange",(function(t){var r=e.style.value;if(t!==r){var n={detail:{oldValue:t,value:r}};e.dispatchEvent(new b.CustomEvent("scroll",n)),e.dispatchEvent(new b.CustomEvent("valuechange",n))}})),ps(ss(e),"onTrackClick",(function(t){if(e.attributes.slidable){var r=is(e.getLocalPosition(),2),n=r[0],o=r[1],i=is(e.padding,4),a=i[0],u=i[3],l=e.getOrientVal([n+u,o+a]),c=(e.getOrientVal(vt(t))-l)/e.trackLength;e.setValue(c,!0)}})),ps(ss(e),"onThumbMouseenter",(function(t){e.dispatchEvent(new b.CustomEvent("thumbMouseenter",{detail:t.detail}))})),ps(ss(e),"onTrackMouseenter",(function(t){e.dispatchEvent(new b.CustomEvent("trackMouseenter",{detail:t.detail}))})),ps(ss(e),"onThumbMouseleave",(function(t){e.dispatchEvent(new b.CustomEvent("thumbMouseleave",{detail:t.detail}))})),ps(ss(e),"onTrackMouseleave",(function(t){e.dispatchEvent(new b.CustomEvent("trackMouseleave",{detail:t.detail}))})),e}return e=i,(r=[{key:"padding",get:function(){return Z(this.attributes.padding)}},{key:"value",get:function(){var t=this.attributes.value,e=is(this.range,2),r=e[0],n=e[1];return pl(t,r,n)}},{key:"trackLength",get:function(){var t=this.attributes,e=t.viewportLength,r=t.trackLength;return void 0===r?e:r}},{key:"availableSpace",get:function(){var t=this.attributes.trackSize,e=this.trackLength,r=is(this.padding,4),n=r[0],o=r[1],i=r[2],a=r[3],u=is(this.getOrientVal([[e,t],[t,e]]),2);return{x:a,y:n,width:+u[0]-(a+o),height:+u[1]-(n+i)}}},{key:"trackRadius",get:function(){var t=this.attributes,e=t.isRound,r=t.trackSize;return e?r/2:0}},{key:"thumbRadius",get:function(){if(!this.attributes.isRound)return 0;var t=this.availableSpace,e=t.width,r=t.height;return this.attributes.thumbRadius||this.getOrientVal([r,e])/2}},{key:"getValues",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,e=this.attributes,r=e.viewportLength,n=e.contentLength,o=r/n,i=is(this.range,2),a=i[0],u=i[1],l=t*(u-a-o);return[l,l+o]}},{key:"getValue",value:function(){return this.value}},{key:"renderSlider",value:function(t){var e=this.attributes,r=e.orient,n=e.trackSize,o=e.padding,i=e.slidable,a=is(ht(this.attributes,["track","thumb"]),2),u=a[0],l=a[1],c=os(os({orient:r,padding:o,slidable:i,trackSize:n,brushable:!1,showHandle:!1,values:this.getValues(),trackLength:this.trackLength,trackRadius:this.trackRadius,selectionRadius:this.thumbRadius},bt(u,"track")),bt(l,"selection"));this.slider=fe(t).maybeAppendByClassName("scrollbar",(function(){return new es({style:c})})).update(c).node()}},{key:"render",value:function(t,e){this.renderSlider(e)}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.style.value,n=is(this.range,2),o=n[0],i=n[1];this.slider.setValues(this.getValues(pl(t,o,i)),e),this.onValueChange(r)}},{key:"bindEvents",value:function(){var t=this;this.slider.addEventListener("trackClick",(function(e){e.stopPropagation(),t.onTrackClick(e.detail)})),this.onHover()}},{key:"getOrientVal",value:function(t){return"horizontal"===this.attributes.orient?t[0]:t[1]}},{key:"onHover",value:function(){this.slider.addEventListener("selectionMouseenter",this.onThumbMouseenter),this.slider.addEventListener("trackMouseenter",this.onTrackMouseenter),this.slider.addEventListener("selectionMouseleave",this.onThumbMouseleave),this.slider.addEventListener("trackMouseleave",this.onTrackMouseleave)}}])&&us(e.prototype,r),n&&us(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);ps(bs,"tag","scrollbar"),ps(bs,"defaultOptions",{style:{value:0,trackSize:10,isRound:!0,slidable:!0,scrollable:!0,orient:"vertical",padding:[2,2,2,2]}});var ds=function(t,e){return Xr(t,{opacity:0},e)};function vs(t,e){t?t.finished.then(e):e()}var ms={style:{data:[],animate:{duration:100,easing:"ease-in-out-sine",fill:"both"},dataThreshold:100,showTitle:!0,titlePosition:"lb",titleFill:"black",titleFontSize:12,titleTextAlign:"center",titleSpacing:0,titleTextBaseline:"middle",showLine:!0,lineLineWidth:1,lineStroke:"black",showArrow:!0,lineArrow:new b.Path({style:{path:"M 10,10 L -10,0 L 10,-10 L0,0 L10,10Z",anchor:"0.5 0.5",fill:"black",transformOrigin:"center"}}),lineArrowOffset:15,lineArrowSize:10,showTick:!0,tickDirection:"positive",tickStroke:"black",tickLength:5,tickLineWidth:1,tickStrokeOpacity:.65,showLabel:!0,labelSpacing:0,labelDirection:"positive",labelAlign:"parallel",labelTransforms:[],showGrid:!0,gridType:"segment",gridConnect:"line",gridDirection:"positive",gridLength:0,gridControlAngles:[]}},gs=(p({},ms,{style:{type:"arc"}}),p({},ms,{style:{}}),Er({mainGroup:"main-group",gridGroup:"grid-group",grid:"grid",lineGroup:"line-group",line:"line",tickGroup:"tick-group",tick:"tick",tickItem:"tick-item",labelGroup:"label-group",label:"label",labelItem:"label-item",titleGroup:"title-group",title:"title",lineFirst:"line-first",lineSecond:"line-second"},"axis"));function ws(t){return(ws="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Os=["class","items","animate","type","center","areaFill","closed"];function js(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ps(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ds(n.key),n)}}function xs(t,e){return(xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Es(t);if(e){var o=Es(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return As(this,r)}}function As(t,e){if(e&&("object"===ws(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Es(t){return(Es=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _s(t){return function(t){if(Array.isArray(t))return Fs(t)}(t)||Ts(t)||Gs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ts(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function Ms(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ms=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function c(t,e,r,o){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),u=new x(o||[]);return n(a,"_invoke",{value:O(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var s={};function y(){}function p(){}function h(){}var b={};l(b,i,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(k([])));v&&v!==e&&r.call(v,i)&&(b=v);var m=h.prototype=y.prototype=Object.create(b);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var o;n(this,"_invoke",{value:function(n,i){function a(){return new e((function(o,a){!function n(o,i,a,u){var l=f(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==ws(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}(n,i,o,a)}))}return o=o?o.then(a,a):a()}})}function O(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return A()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=j(a,r);if(u){if(u===s)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function j(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),s;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,s;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=h,n(m,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:p,configurable:!0}),p.displayName=l(h,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,l(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(w.prototype),l(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,u,"Generator"),l(m,i,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function Cs(t,e,r,n,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(n,o)}function Rs(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Cs(i,n,o,a,u,"next",t)}function u(t){Cs(i,n,o,a,u,"throw",t)}a(void 0)}))}}function Is(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(r),!0).forEach((function(e){Bs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bs(t,e,r){return(e=Ds(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ds(t){var e=function(t,e){if("object"!==ws(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ws(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ws(e)?e:String(e)}function Ns(t,e){return Hs(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Gs(t,e)||zs()}function zs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Gs(t,e){if(t){if("string"==typeof t)return Fs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fs(t,e):void 0}}function Fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hs(t){if(Array.isArray(t))return t}var Vs=Er({lineGroup:"line-group",line:"line",regionGroup:"region-group",region:"region"},"grid");function Ws(t){return t.reduce((function(t,e,r){return"".concat(t).concat(0===r?"M":" L").concat(e[0],",").concat(e[1])}),"")}function Us(t,e,r){return"surround"===e.type?function(t,e,r){var n=e.connect,o=void 0===n?"line":n,i=e.center;if("line"===o)return Ws(t);if(!i)return"";var a=Oe(t[0],i),u=r?0:1;return t.reduce((function(t,e,r){var n=Ns(e,2),o=n[0],i=n[1];return 0===r?"M".concat(o,",").concat(i):"".concat(t,"A").concat(a,",").concat(a,",0,0,").concat(u,",").concat(o,",").concat(i)}),"")}(t,e,r):Ws(t)}function $s(t,e,r){var n=r.type,o=r.connect,i=r.center,a=r.closed?" Z":"",u=[Us(t,r),Us(e.slice().reverse(),r,!0)],l=u[0],c=u[1],f=[t[0],e.slice(-1)[0]],s=f[0],y=f[1],p=function(t,e){return"".concat(l," ").concat(t," ").concat(c," ").concat(e," ").concat(a)};if("line"===o||"surround"===n)return p("L".concat(y.join()),"L".concat(s.join()));if(!i)throw new Error("Arc grid need to specified center");var h=[Oe(y,i),Oe(s,i)],b=h[0],d=h[1];return p("A".concat(b,",").concat(b,",0,0,1,").concat(y.join(" ")," L").concat(y.join()),"A".concat(d,",").concat(d,",0,0,0,").concat(s.join(" ")))}function qs(t,e){return e.closed?t.map((function(t){var e,r=t.points,n=Hs(e=r)||Ts(e)||Gs(e)||zs(),o=n[0];n.slice(1);return Ls(Ls({},t),{},{points:[].concat(_s(r),[o])})})):t}var Zs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xs(t,e)}(i,t);var e,r,n,o=ks(i);function i(){return Ss(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(t,e){t.class;var r=t.items,n=void 0===r?[]:r,o=(t.animate,t.type,t.center,t.areaFill,t.closed,js(t,Os)),i=qs(n,t),a=fe(e).maybeAppendByClassName(Vs.lineGroup,"g"),u=fe(e).maybeAppendByClassName(Vs.regionGroup,"g");!function(t,e,r,n){var o=r.animate,i=e.map((function(t,e){return{id:t.id||"grid-line-".concat(e),path:Us(t.points,r)}}));t.selectAll(Vs.line.class).data(i,(function(t){return t.id})).join((function(t){return t.append("path").attr("className",Vs.line.name).styles({stroke:"#D9D9D9",lineWidth:1,lineDash:[4,4]}).each((function(t,e){var r=sr(Ls({path:t.path},n),[t,e,i]);this.attr(r)}))}),(function(t){return t.each((function(t,e){Xr(this,sr(Ls({path:t.path},n),[t,e,i]),o.update)}))}),(function(t){return t.each(Rs(Ms().mark((function t(){var e;return Ms().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=ds(this,o.exit))||void 0===e?void 0:e.finished;case 2:this.remove();case 3:case"end":return t.stop()}}),t,this)}))))}))}(a,i,t,o),function(t,e,r){var n=r.animate,o=(r.type,r.center,r.connect),i=r.areaFill;if(r.closed,!(e.length<2)&&i&&o){for(var a=Array.isArray(i)?i:[i,"transparent"],u=function(t){return a[t%a.length]},l=[],c=0;c<e.length-1;c++){var f=[e[c].points,e[c+1].points],s=$s(f[0],f[1],r);l.push({path:s,fill:u(c)})}t.selectAll(Vs.region.class).data(l,(function(t,e){return e})).join((function(t){return t.append("path").each((function(t,e){var r=sr(t,[t,e,l]);this.attr(r)})).attr("className",Vs.region.name)}),(function(t){return t.each((function(t,e){Xr(this,sr(t,[t,e,l]),n.update)}))}),(function(t){return t.each(Rs(Ms().mark((function t(){return Ms().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ds(this,n.exit);case 2:this.remove();case 3:case"end":return t.stop()}}),t,this)}))))}))}}(u,i,t)}}])&&Ps(e.prototype,r),n&&Ps(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Ys(t){return function(t){if(Array.isArray(t))return Js(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ks(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Xs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xs(t,e){if(t){if("string"==typeof t)return Js(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Js(t,e):void 0}}function Js(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qs(t,e){return Object.fromEntries(Object.entries(t).map((function(t){var r=Ks(t,2);return[r[0],sr(r[1],e)]})))}function ty(t,e){return e&&j(e)?t.filter(e):t}function ey(t){return(ey="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ry(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ny(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==ey(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ey(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ey(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oy(t){return function(t){if(Array.isArray(t))return uy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ay(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ay(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ay(t,e){if(t){if("string"==typeof t)return uy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uy(t,e):void 0}}function uy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ly=S((function(t,e){var r=iy(e.angleRange,2),n=r[0];return(r[1]-n)*t+n}),(function(t,e){return[t].concat(oy(e.angleRange)).join()})),cy=S((function(t,e){if("linear"===e.type){var r=iy(e.startPos,2),n=r[0],i=r[1],a=iy(e.endPos,2),u=a[0]-n,l=a[1]-i;return o.normalize([0,0],[u,l])}var c=Qe(ly(t,e));return[-Math.sin(c),Math.cos(c)]}),(function(t,e){var r=function(t){return"linear"===t.type?[].concat(Ys(t.startPos),Ys(t.endPos)):[].concat(Ys(t.angleRange),Ys(t.center),[t.radius])}(e);return"arc"===e.type&&r.push(t),r.join()}));function fy(t,e,r){var n=cy(t,r);return i.vertical([],n,"positive"!==e)}var sy=S((function(t,e){var r=iy(e.startPos,2),n=r[0],o=r[1],i=iy(e.endPos,2);return[n+(i[0]-n)*t,o+(i[1]-o)*t]}),(function(t,e){return[t].concat(oy(e.startPos),oy(e.endPos)).join()})),yy=S((function(t,e){var r=e.radius,n=iy(e.center,2),o=n[0],i=n[1],a=Qe(ly(t,e));return[o+r*Math.cos(a),i+r*Math.sin(a)]}),(function(t,e){return[t].concat(oy(e.angleRange),[e.radius],oy(e.center)).join()}));function py(t,e){return"linear"===e.type?sy(t,e):yy(t,e)}function hy(t,e){return e-t==360}function by(t,e,r,n,o){var i=e-t,a=o,u=o,l=[Qe(t),Qe(e)],c=l[0],f=l[1],s=function(t){return[r+o*Math.cos(t),n+o*Math.sin(t)]},y=iy(s(c),2),p=y[0],h=y[1],b=iy(s(f),2),d=b[0],v=b[1];if(hy(t,e)){var m=iy(s((f+c)/2),2),g=m[0],w=m[1];return"M".concat(p,",").concat(h," A ").concat(a,",").concat(u," 0 1,0 ").concat(g,", ").concat(w," A ").concat(a,",").concat(u," 0 1,0 ").concat(d,", ").concat(v)}var O=i>180?1:0,j=t>e?0:1;return"M".concat(p,",").concat(h,",A").concat(a,",").concat(u,",0,").concat(O,",").concat(j,",").concat(d,",").concat(v)}function dy(t,e,r,n){var o=e.angleRange,i=e.center,a=e.radius;return t.selectAll(gs.line.class).data([{path:by.apply(void 0,oy(o).concat(oy(i),[a]))}],(function(t,e){return e})).join((function(t){return t.append("path").attr("className",gs.line.name).styles(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ry(Object(r),!0).forEach((function(e){ny(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ry(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({angleRange:o,center:i,radius:a},r)).style("path",(function(t){return t.path}))}),(function(t){return t.styles(r).transition((function(){var t=this,e=an(this,function(t){var e=t.attributes,r=e.angleRange,n=e.center,o=e.radius;return[].concat(oy(r),oy(n),[o])}(this),[].concat(oy(o),oy(i),[a]),n.update);if(e){var r=function(){var e=X(t.style,"__keyframe_data__");t.style.path=by.apply(void 0,oy(e))};e.onframe=r,e.onfinish=r}return e})).styles({angleRange:o,center:i,radius:a})}),(function(t){return t.remove()})).styles(r).transitions()}function vy(t){var e=iy(t,2),r=iy(e[0],2),n=r[0],o=r[1],i=iy(e[1],2);return{x1:n,y1:o,x2:i[0],y2:i[1]}}function my(t,e,r,n){var o=e.startPos,i=e.endPos,a=e.truncRange,u=e.lineExtension,l=iy(o,2),c=l[0],f=l[1],s=iy(i,2),y=s[0],p=s[1],h=u?function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=iy(t,2),o=n[0],i=n[1],a=iy(e,2),u=a[0],l=a[1],c=iy(r,2),f=c[0],s=c[1],y=u-o,p=l-i,h=Math.sqrt(Math.pow(y,2)+Math.pow(p,2)),b=-f/h,d=s/h;return[b*y,b*p,d*y,d*p]}(o,i,u):new Array(4).fill(0),b=iy(h,4),d=b[0],v=b[1],m=b[2],g=b[3],w=function(e){return t.selectAll(gs.line.class).data(e,(function(t,e){return e})).join((function(t){return t.append("line").attr("className",(function(t){return"".concat(gs.line.name," ").concat(t.className)})).styles(r).transition((function(t){return Xr(this,vy(t.line),!1)}))}),(function(t){return t.styles(r).transition((function(t){return Xr(this,vy(t.line),n.update)}))}),(function(t){return t.remove()})).transitions()};if(!a)return w([{line:[[c+d,f+v],[y+m,p+g]],className:gs.line.name}]);var O,j=iy(a,2),S=j[0],P=j[1],x=c+(y-c)*P,k=f+(p-f)*P,A=w([{line:[[c+d,f+v],[c+(y-c)*S,f+(p-f)*S]],className:gs.lineFirst.name},{line:[[x,k],[y+m,p+g]],className:gs.lineSecond.name}]);return(O=e).truncRange,O.truncShape,O.lineExtension,A}function gy(t,e,r,n){var o,i=e.type;return o="linear"===i?my(t,e,r,n):dy(t,e,r,n),function(t,e,r,n){var o,i=r.showArrow,a=r.lineArrow,u=r.truncRange,l=r.lineArrowOffset,c=void 0===l?0:l,f=r.lineArrowSize;if(o="arc"===e?t.select(gs.line.class):u?t.select(gs.lineSecond.class):t.select(gs.line.class),!i||!a||"arc"===r.type&&hy.apply(void 0,oy(r.angleRange)))o.style("markerEnd",null);else{var s=Xe(a);s.attr(n),Ur(s,f,!0),o.style("markerEnd",s).style("markerEndOffset",-c)}}(t,i,e,r),o}function wy(t){return(wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Oy(Object(r),!0).forEach((function(e){Sy(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sy(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==wy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wy(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Py(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return xy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ky(t){var e=t.type,r=t.gridCenter;return"linear"===e?r:r||t.center}function Ay(t,e){var r=e.gridLength,n=void 0===r?0:r;return t.map((function(t){var r=t.value,i=Py(py(r,e),2),a=i[0],u=i[1],l=Py(o.scale([0,0],function(t,e){return fy(t,e.gridDirection,e)}(r,e),n),2);return{points:[[a,u],[a+l[0],u+l[1]]]}}))}function Ey(t,e,r,n,o){var i=n.type,a=n.closed,u=n.areaFill,l=n.connect,c=ky(r),f=ty(e,r.gridFilter),s="segment"===i?Ay(f,r):function(t,e,r){var n=r.controlAngles,o=ky(e);if(!o)throw new Error("grid center is not provide");if(t.length<2)throw new Error("Invalid grid data");if(!n||0===n.length)throw new Error("Invalid gridControlAngles");var i=Py(o,2),a=i[0],u=i[1];return t.map((function(t){var r=Py(py(t.value,e),2),o=r[0],i=r[1],l=o-a,c=i-u,f=[];return n.forEach((function(t){var e=Qe(t),r=[Math.cos(e),Math.sin(e)],n=r[0],o=r[1],i=l*n-c*o+a,s=l*o+c*n+u;f.push([i,s])})),{points:f}}))}(f,r,n);t.maybeAppendByClassName(gs.grid,(function(){return new Zs({})})).update(jy(jy({type:i,animate:o,connect:l,closed:a,center:c},n),{},{items:s,areaFill:j(u)?f.map((function(t,e){return sr(u,[t,e,f])})):u}))}function _y(t){return(_y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ty(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cy(n.key),n)}}function My(t,e,r){return(e=Cy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cy(t){var e=function(t,e){if("object"!==_y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_y(e)?e:String(e)}var Ry=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),My(this,"x1",void 0),My(this,"y1",void 0),My(this,"x2",void 0),My(this,"y2",void 0);var r=e||{},n=r.left,o=r.top,i=r.right,a=r.bottom;this.x1=null!=n?n:+Number.MAX_VALUE,this.x2=null!=i?i:-Number.MAX_VALUE,this.y1=null!=o?o:+Number.MAX_VALUE,this.y2=null!=a?a:-Number.MAX_VALUE}var e,r,n;return e=t,(r=[{key:"left",get:function(){return this.x1}},{key:"top",get:function(){return this.y1}},{key:"right",get:function(){return this.x2}},{key:"bottom",get:function(){return this.y2}},{key:"width",get:function(){return this.defined("x2")&&this.defined("x1")?this.x2-this.x1:void 0}},{key:"height",get:function(){return this.defined("y2")&&this.defined("y1")?this.y2-this.y1:void 0}},{key:"clear",value:function(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}},{key:"empty",value:function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}},{key:"add",value:function(t,e){return t<this.x1&&(this.x1=t),e<this.y1&&(this.y1=e),t>this.x2&&(this.x2=t),e>this.y2&&(this.y2=e),this}},{key:"rotate",value:function(t,e,r){var n=this.rotatedPoints(t,e,r);return this.clear().add(n[0],n[1]).add(n[2],n[3]).add(n[4],n[5]).add(n[6],n[7])}},{key:"rotatedPoints",value:function(t,e,r){var n=this.x1,o=this.y1,i=this.x2,a=this.y2,u=Math.cos(t),l=Math.sin(t),c=e-e*u+r*l,f=r-e*l-r*u;return[[u*n-l*o+c,l*n+u*o+f],[u*n-l*a+c,l*n+u*a+f],[u*i-l*a+c,l*i+u*a+f],[u*i-l*o+c,l*i+u*o+f]].flat(1)}},{key:"set",value:function(t,e,r,n){return r<t?(this.x2=t,this.x1=r):(this.x1=t,this.x2=r),n<e?(this.y2=e,this.y1=n):(this.y1=e,this.y2=n),this}},{key:"intersects",value:function(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)}},{key:"defined",value:function(t){return this[t]!==Number.MAX_VALUE&&this[t]!==-Number.MAX_VALUE}}])&&Ty(e.prototype,r),n&&Ty(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Iy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ly(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ly(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ly(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function By(t,e){var r=Iy(t,4),n=r[0],o=r[1],i=r[2],a=r[3],u=Iy(e,4),l=u[0],c=u[1],f=i-n,s=a-o,y=u[2]-l,p=u[3]-c,h=f*p-y*s;if(0===h)return!1;var b=h>0,d=n-l,v=o-c,m=f*v-s*d;if(m<0===b)return!1;var g=y*v-p*d;return g<0!==b&&(m>h!==b&&g>h!==b)}function Dy(t,e){return[[t[0],t[1],t[2],t[3]],[t[2],t[3],t[4],t[5]],[t[4],t[5],t[6],t[7]],[t[6],t[7],t[0],t[1]]].some((function(t){return By(e,t)}))}function Ny(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,0],n=e.getEulerAngles()||0;e.setEulerAngles(0);var o=e.getLocalBounds(),i=o.min,a=o.max,u=o.halfExtents,l=i[0],c=2*u[0],f=2*u[1],s=l,y=i[1],p=a[0],h=a[1],b=f,d=0,v=0,m=s,g=y;if("text"===e.tagName){b-=1.5;var w=e.style.textAlign,O=e.style.textBaseline;d=+e.style.dx,v=+e.style.dy,"center"===w?m=(s+p)/2:"right"!==w&&"end"!==w||(m=p),"middle"===O?g=(y+h)/2:"bottom"!==O&&"baseline"!==O||(g=h)}var j=Iy(r,4),S=j[0],P=void 0===S?0:S,x=j[1],k=void 0===x?0:x,A=j[2],E=void 0===A?P:A,_=j[3],T=void 0===_?k:_;return t.set((d+=s)-T,(v+=y)-P,d+c+k,v+b+E),e.setEulerAngles(n),t.rotatedPoints(Qe(n),m,g)}function zy(t,e,r){var n=Ny(new Ry,t,r),o=Ny(new Ry,e,r);return Dy(o,[n[0],n[1],n[2],n[3]])||Dy(o,[n[0],n[1],n[4],n[5]])||Dy(o,[n[4],n[5],n[6],n[7]])||Dy(o,[n[2],n[3],n[6],n[7]])}function Gy(t){return function(t){if(Array.isArray(t))return Hy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Fy(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fy(t,e){if(t){if("string"==typeof t)return Hy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hy(t,e):void 0}}function Hy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vy(t,e){var r;return Gy(t.reduce((function(t,n,o){return o&&r&&zy(r,n,e)?(t.add(r),t.add(n),t):(r=n,t)}),new Set))}function Wy(t){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qy(t){return function(t){if(Array.isArray(t))return Zy(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Zy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zy(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Yy=function(t,e){var r=e.seq,n=void 0===r?2:r;return t.filter((function(t,e){return!(e%n)||(t.style.visibility="hidden",!1)}))};var Ky=new Map([["hide",function(t,e,r,n){var o=t.length,i=e.keepHeader,a=e.keepTail;if(!(o<=1||2===o&&i&&a)){var u,l,c,f,s=Yy,y=2,p=t.slice(),h=t.slice(),b=Date.now(),d=Math.min.apply(Math,[1].concat(qy(t.map((function(t){return t.getBBox().width})))));if("linear"===r.type&&(function(t){return 0===cy(0,t)[1]}(r)||function(t){return 0===cy(0,t)[0]}(r))){var v=ge(t[0]).left,m=ge(t[o-1]).right,g=Math.abs(m-v)||1;y=Math.max(Math.floor(o*d/g),y)}for(i&&(u=p.splice(0,1)[0]),a&&(l=p.splice(-1,1)[0],p.reverse());Vy((f=l?[l].concat(qy(h),[u]):[u].concat(qy(h)),f.filter((function(t){return Ye(t)}))),null==e?void 0:e.margin).length;){if(l&&!u&&y%2==0)p.splice(0,1).forEach(n.hide);else if(l&&u){p.splice(0,1).forEach(n.hide)}if(h=s(((c=p).forEach(n.show),c),{seq:y}),y++,Date.now()-b>200)return}}}],["rotate",function(t,e,r,n){var o=e.optionalAngles,i=void 0===o?[0,45,90]:o,a=e.margin,u=e.recoverWhenFailed,c=void 0===u||u,f=t.map((function(t){return+(nr(t,"rotate")||0)})),s=function(){return Vy(t,a).length<1},y=function(e){return t.forEach((function(t,r){var o=l(e)?e[r]:e;!h(o)&&n.rotate(t,o)}))};if(!s()){for(var p=0;p<i.length;p++)if(y(i[p]),s())return;c&&y(f)}}],["ellipsis",function(t,e,r,n){if(!(t.length<=1)){var o=e.suffix,i=void 0===o?"...":o,a=e.minLength,u=e.maxLength,l=e.step,c=e.margin,f=void 0===c?[0,0,0,0]:c,s=D(n.getTextShape(t[0])),y=B(l,s)||1,p=B(a,s)||1,b=B(u,s);(h(b)||b===1/0)&&(b=Math.max.apply(null,t.map((function(t){return t.getBBox().width}))));for(var d=Date.now(),v=t.slice(),m=Uy(f,4),g=(m[0],m[1],m[2],m[3],function(e){return v.forEach((function(t){n.ellipsis(n.getTextShape(t),e,i)})),(v=Vy(t,f)).length<1||Date.now()-d>300?{v:void 0}:void 0}),w=b;w>p+y;w-=y){var O=g(w);if("object"===Wy(O))return O.v}}}]]);function Xy(){for(var t=function(t){return"positive"===t?-1:1},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce((function(e,r){return e*t(r)}),1)}function Jy(t){return(Jy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qy=["transform"];function tp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tp(Object(r),!0).forEach((function(e){rp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function rp(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Jy(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Jy(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Jy(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function np(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function op(t){return function(t){if(Array.isArray(t))return up(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ap(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ip(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ap(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ap(t,e){if(t){if("string"==typeof t)return up(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?up(t,e):void 0}}function up(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lp=function(t){for(var e=t;e<0;)e+=360;return e%360},cp=S((function(t,e){var r=ip(t,2),n=r[0],o=r[1],i=ip(e,2),a=i[0],u=i[1],l=n*a+o*u,c=n*u-o*a;return Math.atan2(c,l)}),(function(t,e){return[].concat(op(t),op(e)).join()}));function fp(t,e){return fy(t,e.labelDirection,e)}function sp(t,e,r){var n=r.labelAlign,o=nr(e,"rotate");if(o)return+o%180;var i=fp(t.value,r),a=cy(t.value,r);return"horizontal"===n?0:function(t){var e=(t+360)%180;return lr(e,-90,90)||(e+=180),e}(tr("perpendicular"===n?cp([1,0],i):cp([a[0]<0?-1:1,0],a)))}function yp(t,e,r){e.setLocalEulerAngles(+t);var n=function(t,e,r){var n=r.type,o=r.labelAlign,i=fp(t,r),a=lp(e),u=lp(tr(cp([1,0],i)));if([90,270].includes(u)&&!a)return"middle";if(!(u%180)&&[90,270].includes(a))return"middle";if("linear"!==n)return"parallel"===o?"middle":lr(a,90,270)?lr(u,90,270)?"start":"end":lr(u,90,270)?"end":"start";if(0===u){if(lr(a,0,90,!1,!0))return"start";if(lr(a,0,90)||lr(a,270,360))return"start"}if(90===u){if(lr(a,0,90,!1,!0))return"start";if(lr(a,90,180)||lr(a,270,360))return"end"}if(270===u){if(lr(a,0,90,!1,!0))return"end";if(lr(a,90,180)||lr(a,270,360))return"start"}if(180===u){if(90===a)return"start";if(lr(a,0,90)||lr(a,270,360))return"end"}return"start"}(e.__data__.value,t,r),o=e.querySelector(gs.labelItem.class);"text"===(null==o?void 0:o.nodeName)&&fe(o).style("textAlign",n)}function pp(t,e,r,n){var o=n.labelFormatter;return j(o)?function(){return Xe(sr(o,[t,e,r,fp(t.value,n)]))}:function(){return Xe(t.label||"")}}function hp(t){!function(t,e,r){var n=e.labelTransforms,o=void 0===n?[]:n;o.length&&o.forEach((function(n){var o=n.type,i=Ky.get(o);(function(t,e,r){return!!e.labelTransforms&&("ellipsis"!==r||t.map((function(t){return t.querySelector("text")})).length>1)})(t,e,o)&&(null==i||i(t,n,e,r))}))}(this.node().childNodes,t,{hide:function(t){t.style.visibility="hidden"},show:function(t){t.style.visibility="visible"},rotate:function(e,r){yp(+r,e,t)},ellipsis:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,r=arguments.length>2?arguments[2]:void 0;t&&Mr(t,e,r)},getTextShape:function(t){return t.querySelector("text")}})}function bp(t,e,r,n,i,a){var u=this,l=fe(this).append(t.element).attr("className",gs.labelItem.name).node(),c=ip(dt(Qs(i,[t,e,r])),2),f=c[0],s=c[1],y=s.transform,p=np(s,Qy);"text"===(null==l?void 0:l.nodeName)&&l.attr(ep({fontSize:12,fontFamily:"sans-serif",fontWeight:"normal",textAlign:"center",textBaseline:"middle"},f)),this.attr(p);var h=Xr(this,function(t,e,r,n){var i=n.showTick,a=n.tickLength,u=n.tickDirection,l=n.labelDirection,c=sr(n.labelSpacing,[t,e,r]),f=[fp(t.value,n),Xy(l,u)],s=f[0],y=1===f[1]?sr(i?a:0,[t,e,r]):0,p=ip(o.add([0,0],o.scale([0,0],s,c+y),py(t.value,n)),2);return{x:p[0],y:p[1]}}(t,e,r,n),a);return vs(h,(function(){ur(u,y),yp(sp(t,u,n),u,n)})),h}function dp(t,e,r,n,o,i){var a=X(e,"_elements");if(0===a.length)return null;var u=X(e,"_transitions"),l=a.map((function(t){return bp.call(t,t.__data__,0,r,n,o,i)}));return l.forEach((function(t,e){return u[e]=t})),0===l.filter((function(t){return!!t})).length?hp.call(t,n):Promise.all(l).then((function(){hp.call(t,n)})),l}function vp(t){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gp(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==vp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==vp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===vp(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wp(t){return function(t){if(Array.isArray(t))return Sp(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||jp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Op(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||jp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jp(t,e){if(t){if("string"==typeof t)return Sp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sp(t,e):void 0}}function Sp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pp(t,e){return fy(t,e.tickDirection,e)}var xp=S((function(t,e){var r=Op(t,2);return[[0,0],[r[0]*e,r[1]*e]]}),(function(t,e){return[].concat(wp(t),[e]).join()}));function kp(t,e,r,n,o,i,a){var u=function(t,e,r,n,o){var i=o.tickLength,a=Op(xp(n,sr(i,[t,e,r])),2),u=Op(a[0],2),l=u[0],c=u[1],f=Op(a[1],2);return{x1:l,x2:f[0],y1:c,y2:f[1]}}(t,e,r,Pp(t.value,i),i),l=u.x1,c=u.x2,f=u.y1,s=u.y2,y=Op(dt(Qs(a,[t,e,r])),2),p=y[0],h=y[1];"line"===n.node().nodeName&&n.styles(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mp(Object(r),!0).forEach((function(e){gp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({x1:l,x2:c,y1:f,y2:s},p)),o.attr(h),n.styles(p)}function Ap(t,e,r,n,o,i){kp(t,e,r,function(t,e,r,n,o){var i=o.tickFormatter,a=Pp(e.value,o),u="line";return i instanceof b.DisplayObject?u=function(){return i}:j(i)&&(u=function(){return sr(i,[e,r,n,a])}),t.append(u).attr("className",gs.tickItem.name)}(fe(this),t,e,r,n),this,n,o);var a=Op(py(t.value,n),2);return Xr(this,{x:a[0],y:a[1]},i)}function Ep(t){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var _p=["width","height","position","spacing","class"];function Tp(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zp(n.key),n)}}function Rp(t,e){return(Rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ip(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dp(t);if(e){var o=Dp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Lp(this,r)}}function Lp(t,e){if(e&&("object"===Ep(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bp(t)}function Bp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dp(t){return(Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Np(t,e,r){return(e=zp(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zp(t){var e=function(t,e){if("object"!==Ep(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Ep(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Ep(e)?e:String(e)}function Gp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Fp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hp={text:"",width:0,height:0,fill:"#4a505a",fontWeight:"bold",fontSize:12,fontFamily:"sans-serif",inset:0,spacing:0,position:"top-left"},Vp=Er({text:"text"},"title");function Wp(t){return/\S+-\S+/g.test(t)?t.split("-").map((function(t){return t[0]})):t.length>2?[t[0]]:t.split("")}function Up(t,e){var r=Object.entries(e).reduce((function(e,r){var n=Gp(r,2),o=n[0],i=n[1];return t.node().attr(o)||(e[o]=i),e}),{});t.styles(r)}var $p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rp(t,e)}(i,t);var e,r,n,o=Ip(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mp(this,i),Np(Bp(t=o.call(this,ze({},{style:Hp},e))),"title",void 0),t}return e=i,(r=[{key:"getAvailableSpace",value:function(){var t=this.attributes,e=t.width,r=t.height,n=t.position,o=t.spacing,i=t.inset,a=this.querySelector(Vp.text.class);if(!a)return new Dr(0,0,+e,+r);var u=a.getBBox(),l=u.width,c=u.height,f=Gp(Z(o),4),s=f[0],y=f[1],p=f[2],h=f[3],b=0,d=0,v=+e,m=+r,g=Wp(n);if(g.includes("i"))return new Dr(b,d,v,m);g.forEach((function(t,n){if("t"===t){var o=Gp(0===n?[c+p,+r-c-p]:[0,+r],2);d=o[0],m=o[1]}if("r"===t&&(v=+e-l-h),"b"===t&&(m=+r-c-s),"l"===t){var i=Gp(0===n?[l+y,+e-l-y]:[0,+e],2);b=i[0],v=i[1]}}));var w=Gp(Z(i),4),O=w[0],j=w[1],S=w[2],P=w[3];return new Dr(b+P,d+O,v-(P+j),m-(O+S))}},{key:"getBBox",value:function(){return this.title?this.title.getBBox():new Dr(0,0,0,0)}},{key:"render",value:function(t,e){var r=this,n=(t.width,t.height,t.position,t.spacing,t.class,Tp(t,_p)),o=Gp(dt(n),1)[0],i=function(t){var e=t.width,r=t.height,n=+ +e/2,o=+ +r/2,i="center",a="middle",u=Wp(t.position);return u.includes("l")&&(n=0,i="start"),u.includes("r")&&(n=+e,i="end"),u.includes("t")&&(o=0,a="top"),u.includes("b")&&(o=+r,a="bottom"),{x:n,y:o,textAlign:i,textBaseline:a}}(t),a=i.x,u=i.y,l=i.textAlign,c=i.textBaseline;yr(!!n.text,e,(function(t){r.title=fe(t).maybeAppendByClassName(Vp.text,"text").styles(o).call(Up,{x:a,y:u,textAlign:l,textBaseline:c}).node()}))}}])&&Cp(e.prototype,r),n&&Cp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn),qp=["transform"];function Zp(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Yp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Kp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xp(t,e,r){return function(t,e,r){var n=r.titlePosition,i=void 0===n?"lb":n,a=r.titleSpacing,u=void 0===a?0:a,l=Wp(i),c=t.node().getBBox(),f=c.x,s=c.y,y=Yp(t.node().getBounds().halfExtents,2),p=y[0],h=y[1],b=Yp(e.node().getBounds().halfExtents,2),d=b[0],v=b[1],m=f+p,g=s+h;if(["start","end"].includes(i)&&"linear"===r.type){var w=r.startPos,O=r.endPos,j=Yp("start"===i?[w,O]:[O,w],2),S=j[0],P=j[1],x=o.normalize([0,0],[-P[0]+S[0],-P[1]+S[1]]),k=Yp(o.scale([0,0],x,u),2),A=k[0],E=k[1];return{x:S[0]+A,y:S[1]+E}}return l.includes("l")&&(m-=p+d+u),l.includes("r")&&(m+=p+d+u),l.includes("t")&&(g-=h+v+u),l.includes("b")&&(g+=h+v+u),{x:m,y:g}}(t.select(gs.mainGroup.class),e,r)}function Jp(t,e,r,n,o){if(!r.title)return null;var i=Yp(function(t,e){var r=e.title,n=t.maybeAppendByClassName(gs.title,(function(){return Xe(r)}));return[t,n]}(t,r),2),a=i[0],u=i[1],l=function(){return function(t,e,r,n,o){var i=Yp(dt(o),2),a=i[0],u=i[1],l=u.transform,c=void 0===l?"":l,f=Zp(u,qp);t.styles(a),e.styles(f);var s=Xp(r,e,n),y=s.x,p=s.y;e.node().setPosition(y,p),ur(t,c)}(u,a,e,r,n)};if(!o.update)return l(),null;var c=u.node().animate([],o.update);return c?(c.onframe=function(){return l()},c.onfinish=function(){return l()}):l(),c}function Qp(t){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var th=["type","data","class","dataThreshold","crossSize","animate","title","showTitle","titleSpacing","truncRange","truncShape","showLine","lineExtension","lineArrow","lineArrowOffset","lineArrowSize","showTick","tickDirection","tickLength","tickFilter","tickFormatter","showLabel","labelAlign","labelDirection","labelSpacing","labelFilter","labelFormatter","labelTransforms","showGrid","gridFilter","gridLength"],eh=["startPos","endPos"],rh=["angleRange","radius","center"];function nh(t){return function(t){if(Array.isArray(t))return ah(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ih(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||ih(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ih(t,e){if(t){if("string"==typeof t)return ah(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ah(t,e):void 0}}function ah(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function uh(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function lh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==Qp(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qp(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Qp(i)?i:String(i)),n)}var o,i}function ch(t,e){return(ch=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yh(t);if(e){var o=yh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sh(this,r)}}function sh(t,e){if(e&&("object"===Qp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function yh(t){return(yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ph=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ch(t,e)}(i,t);var e,r,n,o=fh(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,ze({},ms,t))}return e=i,(r=[{key:"render",value:function(t,e,r){var n,o=ot(t),i=o.type,a=o.data,u=(o.class,o.dataThreshold),l=void 0===u?100:u,c=(o.crossSize,o.animate),f=(o.title,o.showTitle),s=(o.titleSpacing,o.truncRange),y=(o.truncShape,o.showLine),p=(o.lineExtension,o.lineArrow,o.lineArrowOffset,o.lineArrowSize,o.showTick),h=(o.tickDirection,o.tickLength,o.tickFilter,o.tickFormatter,o.showLabel),b=(o.labelAlign,o.labelDirection,o.labelSpacing,o.labelFilter,o.labelFormatter,o.labelTransforms,o.showGrid),d=(o.gridFilter,o.gridLength,uh(o,th)),v=oh(ht("linear"===i?(d.startPos,d.endPos,uh(d,eh)):(d.angleRange,d.radius,d.center,uh(d,rh)),["title","line","tick","label","grid"]),5),m=v[0],g=v[1],w=v[2],O=v[3],j=v[4],S=Je(a,l).filter((function(t){var e=t.value;return!(s&&e>s[0]&&e<s[1])})),P=(n=void 0===r?c:r)?"enter"in n||"update"in n||"exit"in n?n:{enter:n,update:n,exit:n}:{enter:!1,update:!1,exit:!1};yr(b,fe(e).maybeAppendByClassName(gs.gridGroup,"g"),(function(e){return Ey(e,S,t,j,P)}));var x=fe(e).maybeAppendByClassName(gs.mainGroup,"g"),k=yr(y,x.maybeAppendByClassName(gs.lineGroup,"g"),(function(e){return gy(e,t,g,P)}))||[],A=yr(p,x.maybeAppendByClassName(gs.tickGroup,"g"),(function(e){return function(t,e,r,n,o){var i=ty(e,r.tickFilter);return t.selectAll(gs.tick.class).data(i,(function(t){return t.id||t.label})).join((function(t){return t.append("g").attr("className",gs.tick.name).transition((function(t,e){return Ap.call(this,t,e,i,r,n,!1)}))}),(function(t){return t.transition((function(t,e){return this.removeChildren(),Ap.call(this,t,e,i,r,n,o.update)}))}),(function(t){return t.transition((function(){var t=this,e=ds(this,o.exit);return vs(e,(function(){return t.remove()})),e}))})).transitions()}(e,S,t,w,P)}))||[],E=yr(h,x.maybeAppendByClassName(gs.labelGroup,"g"),(function(e){return function(t,e,r,n,o){var i=ty(e,r.labelFilter).map((function(t,e,n){return ep({element:pp(t,e,n,r)},t)}));return t.selectAll(gs.label.class).data(i,(function(t,e){return"".concat(t.value,"-").concat(t.label)})).join((function(e){return e.append("g").attr("className",gs.label.name).call((function(e){dp(t,e,i,r,n,!1)}))}),(function(e){return e.each((function(){fe(this).node().removeChildren()})).call((function(e){dp(t,e,i,r,n,o.update)}))}),(function(t){return t.transition((function(){var t=this,e=ds(this,o.exit);return vs(e,(function(){fe(t).remove()})),e}))})).transitions()}(e,S,t,O,P)}))||[],_=yr(f,fe(e).maybeAppendByClassName(gs.titleGroup,"g"),(function(r){return Jp(r,fe(e),t,m,P)}));return[].concat(nh(k),nh(A),nh(E),[_]).filter((function(t){return!!t}))}}])&&lh(e.prototype,r),n&&lh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function hh(t){return(hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==hh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==hh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===hh(i)?i:String(i)),n)}var o,i}function dh(t,e,r){return e&&bh(t.prototype,e),r&&bh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var vh=dh((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function mh(t){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==mh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===mh(i)?i:String(i)),n)}var o,i}function wh(t,e,r){return e&&gh(t.prototype,e),r&&gh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Oh=wh((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function jh(t){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==jh(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==jh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===jh(i)?i:String(i)),n)}var o,i}function Ph(t,e,r){return e&&Sh(t.prototype,e),r&&Sh(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var xh=Ph((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})),kh=function(){};var Ah=function(t,e,r){var n;return function(){var o=this,i=arguments,a=function(){n=null,r||t.apply(o,i)},u=r&&!n;clearTimeout(n),n=setTimeout(a,e),u&&t.apply(o,i)}},Eh=["size"];function _h(t){return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Th(Object(r),!0).forEach((function(e){Uh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Th(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ch(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Rh(t){return function(t){if(Array.isArray(t))return Bh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Lh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ih(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Lh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lh(t,e){if(t){if("string"==typeof t)return Bh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bh(t,e):void 0}}function Bh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$h(n.key),n)}}function Nh(){return(Nh="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=zh(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function zh(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Wh(t)););return t}function Gh(t,e){return(Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wh(t);if(e){var o=Wh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hh(this,r)}}function Hh(t,e){if(e&&("object"===_h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vh(t)}function Vh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wh(t){return(Wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Uh(t,e,r){return(e=$h(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $h(t){var e=function(t,e){if("object"!==_h(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===_h(e)?e:String(e)}var qh,Zh,Yh,Kh={effect:"linear",duration:200,orient:"horizontal",initPage:0,loop:!1,buttonPath:(qh=0,Zh=0,Yh=6,[["M",qh-Yh,Zh-Yh],["L",qh+Yh,Zh],["L",qh-Yh,Zh+Yh],["Z"]]),buttonFill:"black",buttonSize:12,buttonCursor:"pointer",formatter:function(t,e){return"".concat(t,"/").concat(e)},pageNumFontSize:12,pageNumFill:"black",pageNumTextAlign:"start",pageNumTextBaseline:"middle",controllerPadding:5,controllerSpacing:5},Xh=Er({prevBtnGroup:"prev-btn-group",prevBtn:"prev-btn",nextBtnGroup:"next-btn-group",nextBtn:"next-btn",pageInfoGroup:"page-info-group",pageInfo:"page-info",playWindow:"play-window",contentGroup:"content-group",controller:"controller",clipPath:"clip-path"},"navigator"),Jh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gh(t,e)}(i,t);var e,r,n,o=Fh(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Uh(Vh(e=o.call(this,ze({},{style:Kh},t))),"finishedPromise",null),Uh(Vh(e),"resolveFinishedPromise",null),Uh(Vh(e),"playState","idle"),Uh(Vh(e),"contentGroup",e.appendChild(new b.Group({class:Xh.contentGroup.name}))),Uh(Vh(e),"playWindow",e.contentGroup.appendChild(new b.Group({class:Xh.playWindow.name}))),Uh(Vh(e),"innerCurrPage",e.defaultPage),Uh(Vh(e),"clipPath",void 0),Uh(Vh(e),"prevBtnGroup",void 0),Uh(Vh(e),"nextBtnGroup",void 0),Uh(Vh(e),"pageInfoGroup",void 0),e}return e=i,(r=[{key:"defaultPage",get:function(){var t=this.attributes.initPage;return pl(void 0===t?0:t,0,Math.max(this.pageViews.length-1,0))}},{key:"pageViews",get:function(){return this.playWindow.children}},{key:"controllerShape",get:function(){return this.totalPages>1?{width:55,height:0}:{width:0,height:0}}},{key:"pageShape",get:function(){var t=Ih(Wr(this.pageViews.map((function(t){var e=t.getBBox();return[e.width,e.height]}))).map((function(t){return Math.max.apply(Math,Rh(t))})),2),e=t[0],r=t[1],n=this.attributes,o=n.pageWidth,i=void 0===o?e:o,a=n.pageHeight;return{pageWidth:i,pageHeight:void 0===a?r:a}}},{key:"getContainer",value:function(){return this.playWindow}},{key:"totalPages",get:function(){return this.pageViews.length}},{key:"currPage",get:function(){return this.innerCurrPage}},{key:"finished",get:function(){var t,e=this;return this.finishedPromise||(this.finishedPromise=new Promise((function(t){e.resolveFinishedPromise=function(){e.finishedPromise=null,t(e.currPage)}}))),"idle"===this.playState&&(null===(t=this.resolveFinishedPromise)||void 0===t||t.call(this)),this.finishedPromise}},{key:"getBBox",value:function(){var t=Nh(Wh(i.prototype),"getBBox",this).call(this),e=t.x,r=t.y,n=this.controllerShape,o=this.pageShape,a=o.pageWidth,u=o.pageHeight;return new Dr(e,r,a+n.width,u)}},{key:"goTo",value:function(t){var e=this,r=this.attributes,n=r.duration,o=r.effect,i=this.currPage,a=this.playState,u=(this.finished,this.playWindow),l=this.pageViews;if("idle"!==a||t<0||l.length<=0||t>=l.length)return{finished:this.finished};l[i].setLocalPosition(0,0),this.prepareFollowingPage(t);var c={duration:n,easing:o,fill:"both"},f=Ih(this.getFollowingPageDiff(t),2),s=f[0],y=f[1];return this.playState="running",Promise.all([u.animate([{transform:"translate(0, 0)"},{transform:"translate(".concat(-s,", ").concat(-y,")")}],c)].map((function(t){return null==t?void 0:t.finished}))).then((function(){var r;e.innerCurrPage=t,e.playState="idle",e.setVisiblePages([t]),e.updatePageInfo(),null===(r=e.resolveFinishedPromise)||void 0===r||r.call(e)})),{finished:this.finished}}},{key:"prev",value:function(){var t=this.attributes.loop,e=this.pageViews.length,r=this.currPage;if(!t&&r<=0)return{finished:this.finished};var n=t?(r-1+e)%e:pl(r-1,0,e);return this.goTo(n)}},{key:"next",value:function(){var t=this.attributes.loop,e=this.pageViews.length,r=this.currPage;if(!t&&r>=e-1)return{finished:this.finished};var n=t?(r+1)%e:pl(r+1,0,e);return this.goTo(n)}},{key:"renderClipPath",value:function(t){var e=this.pageShape,r=e.pageWidth,n=e.pageHeight;this.clipPath=t.maybeAppendByClassName(Xh.clipPath,"rect").styles({width:r,height:n}),this.contentGroup.attr("clipPath",this.clipPath.node())}},{key:"setVisiblePages",value:function(t){this.playWindow.children.forEach((function(e,r){t.includes(r)?e.attr("visibility","visible"):e.attr("visibility","hidden")}))}},{key:"adjustControllerLayout",value:function(){var t=this.prevBtnGroup,e=this.nextBtnGroup,r=this.pageInfoGroup,n=this.attributes,o=n.orient,i=n.controllerPadding,a=r.getBBox(),u=a.width,l=(a.height,Ih("horizontal"===o?[-180,0]:[-90,90],2)),c=l[0],f=l[1];t.setLocalEulerAngles(c),e.setLocalEulerAngles(f);var s=t.getBBox(),y=s.width,p=s.height,h=e.getBBox(),b=h.width,d=h.height,v=Math.max(y,u,b),m="horizontal"===o?{offset:[[0,0],[y/2+i,0],[y+u+2*i,0]],textAlign:"start"}:{offset:[[v/2,-p-i],[v/2,0],[v/2,d+i]],textAlign:"center"},g=Ih(m.offset,3),w=Ih(g[0],2),O=w[0],j=w[1],S=Ih(g[1],2),P=S[0],x=S[1],k=Ih(g[2],2),A=k[0],E=k[1],_=m.textAlign,T=r.querySelector("text");T&&(T.style.textAlign=_),t.setLocalPosition(O,j),r.setLocalPosition(P,x),e.setLocalPosition(A,E)}},{key:"updatePageInfo",value:function(){var t,e=this.currPage,r=this.pageViews,n=this.attributes.formatter;r.length<2||(null===(t=this.pageInfoGroup.querySelector(Xh.pageInfo.class))||void 0===t||t.attr("text",n(e+1,r.length)),this.adjustControllerLayout())}},{key:"getFollowingPageDiff",value:function(t){var e=this.currPage;if(e===t)return[0,0];var r=this.attributes.orient,n=this.pageShape,o=n.pageWidth,i=n.pageHeight,a=t<e?-1:1;return"horizontal"===r?[a*o,0]:[0,a*i]}},{key:"prepareFollowingPage",value:function(t){var e=this.currPage,r=this.pageViews;if(this.setVisiblePages([t,e]),t!==e){var n=Ih(this.getFollowingPageDiff(t),2),o=n[0],i=n[1];r[t].setLocalPosition(o,i)}}},{key:"renderController",value:function(t){var e=this,r=this.attributes.controllerSpacing,n=this.pageShape,o=n.pageWidth,i=n.pageHeight,a=this.pageViews.length>=2,u=t.maybeAppendByClassName(Xh.controller,"g").style("visibility",a?"visible":"hidden");if(a){var l=Ih(ht(this.attributes,["button","pageNum"]),2),c=l[0],f=l[1],s=Ih(dt(c),2),y=s[0],p=y.size,h=Ch(y,Eh),b=s[1],d=u.maybeAppendByClassName(Xh.prevBtnGroup,"g").styles(b);this.prevBtnGroup=d.node();var v=d.maybeAppendByClassName(Xh.prevBtn,"path"),m=u.maybeAppendByClassName(Xh.nextBtnGroup,"g").styles(b);this.nextBtnGroup=m.node(),[v,m.maybeAppendByClassName(Xh.nextBtn,"path")].forEach((function(t){t.styles(Mh(Mh({},h),{},{transformOrigin:"center"})),Ur(t.node(),p,!0)}));var g=u.maybeAppendByClassName(Xh.pageInfoGroup,"g");this.pageInfoGroup=g.node(),g.maybeAppendByClassName(Xh.pageInfo,"text").styles(Mh(Mh({},ct),f)),this.updatePageInfo(),u.node().setLocalPosition(o+r,i/2),d.on("click",(function(){e.prev()})),m.on("click",(function(){e.next()}))}}},{key:"render",value:function(t,e){var r=fe(e);this.renderClipPath(r),this.renderController(r),this.setVisiblePages([this.defaultPage]),this.goTo(this.defaultPage)}},{key:"bindEvents",value:function(){var t=this,e=Ah((function(){return t.render(t.attributes,t)}),50);this.playWindow.addEventListener(b.ElementEvent.INSERTED,e),this.playWindow.addEventListener(b.ElementEvent.REMOVED,e)}}])&&Dh(e.prototype,r),n&&Dh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Qh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Un.registerSymbol("hiddenHandle",(function(t,e,r){var n=1.4*r;return[["M",t-r,e-n],["L",t+r,e-n],["L",t+r,e+n],["L",t-r,e+n],["Z"]]})),Un.registerSymbol("verticalHandle",(function(t,e,r){var n=1.4*r,o=r/2,i=r/6,a=t+.4*n;return[["M",t,e],["L",a,e+o],["L",t+n,e+o],["L",t+n,e-o],["L",a,e-o],["Z"],["M",a,e+i],["L",t+n-2,e+i],["M",a,e-i],["L",t+n-2,e-i]]})),Un.registerSymbol("horizontalHandle",(function(t,e,r){var n=1.4*r,o=r/2,i=r/6,a=e+.4*n;return[["M",t,e],["L",t-o,a],["L",t-o,e+n],["L",t+o,e+n],["L",t+o,a],["Z"],["M",t-i,a],["L",t-i,e+n-2],["M",t+i,a],["L",t+i,e+n-2]]}));function eb(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=Qh(t,2),i=o[0],a=o[1],u=Qh(e,2),l=u[0],c=u[1],f=Qh(r,2),s=f[0],y=f[1],p=l,h=c,b=h-p;if(p>h){var d=[h,p];p=d[0],h=d[1]}return b>a-i?[i,a]:p<i?s===i&&y===h?[i,h]:[i,b+i]:h>a?y===a&&s===p?[p,a]:[a-b,a]:[z(p,n),z(h,n)]}function rb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal",e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return"horizontal"===t?e:r}function nb(t){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ob(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ib(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ab(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ab(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ab(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ub(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hb(n.key),n)}}function lb(t,e){return(lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function cb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=yb(t);if(e){var o=yb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fb(this,r)}}function fb(t,e){if(e&&("object"===nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sb(t)}function sb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yb(t){return(yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pb(t,e,r){return(e=hb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hb(t){var e=function(t,e){if("object"!==nb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nb(e)?e:String(e)}var bb=Er({layout:"flex",markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label",valueGroup:"value-group",value:"value",backgroundGroup:"background-group",background:"background"},"legend-category-item"),db={span:[1,1],marker:function(){return new b.Circle({style:{r:6}})},markerSize:10,labelFill:"#646464",valueFill:"#646464",labelFontSize:12,valueFontSize:12,labelFontFamily:"sans-serif",valueFontFamily:"sans-serif",labelTextAlign:"start",valueTextAlign:"start",labelTextBaseline:"middle",valueTextBaseline:"middle"},vb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}(i,t);var e,r,n,o=cb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),pb(sb(e=o.call(this,ze({},{style:db},t))),"markerGroup",void 0),pb(sb(e),"labelGroup",void 0),pb(sb(e),"valueGroup",void 0),pb(sb(e),"background",void 0),e}return e=i,(r=[{key:"showValue",get:function(){var t=this.attributes.value;return!!t&&(P(t)||q(t)?""!==t:""!==t.attr("text"))}},{key:"actualSpace",get:function(){var t=this.labelGroup,e=this.valueGroup,r=this.attributes.markerSize,n=void 0===r?0:r,o=t.node().getBBox(),i=o.width,a=o.height,u=e.node().getBBox(),l=u.width,c=u.height;return{markerWidth:n,labelWidth:i,valueWidth:l,height:Math.max(n,a,c)}}},{key:"span",get:function(){var t=this.attributes;if(!("span"in t))return[1,1];var e=ib(Z(t.span),2),r=e[0],n=e[1],o=this.showValue?n:0,i=r+o;return[r/i,o/i]}},{key:"shape",get:function(){var t=this.attributes,e=t.markerSize,r=t.width,n=this.actualSpace,o=n.markerWidth,i=n.height,a=this.actualSpace,u=a.labelWidth,l=a.valueWidth,c=ib(this.spacing,2),f=c[0],s=c[1];if(r){var y=r-e-f-s,p=ib(this.span,2);u=p[0]*y,l=p[1]*y}return{width:o+u+l+f+s,height:i,markerWidth:o,labelWidth:u,valueWidth:l}}},{key:"spacing",get:function(){var t=this.attributes.spacing;if(!t)return[0,0];var e=ib(Z(t),2),r=e[0],n=e[1];return this.showValue?[r,n]:[r,0]}},{key:"layout",get:function(){var t=this.shape,e=t.markerWidth,r=t.labelWidth,n=t.valueWidth,o=t.width,i=t.height,a=ib(this.spacing,2),u=a[0];return{height:i,width:o,markerWidth:e,labelWidth:r,valueWidth:n,position:[e/2,e+u,e+r+u+a[1]]}}},{key:"renderMarker",value:function(t){var e=this,r=this.attributes,n=r.marker,o=r.markerSize,i=pt(this.attributes,"marker");this.markerGroup=t.maybeAppendByClassName(bb.markerGroup,"g"),yr(!!n,this.markerGroup,(function(){e.markerGroup.maybeAppendByClassName(bb.marker,n).styles(i),Ur(e.markerGroup.node(),o,!0)}))}},{key:"renderLabel",value:function(t){var e=this.attributes.label,r=pt(this.attributes,"label");this.labelGroup=t.maybeAppendByClassName(bb.labelGroup,"g"),this.labelGroup.maybeAppendByClassName(bb.label,(function(){return Xe(e)})).styles(r)}},{key:"renderValue",value:function(t){var e=this,r=this.attributes.value,n=pt(this.attributes,"value");this.valueGroup=t.maybeAppendByClassName(bb.valueGroup,"g"),yr(this.showValue,this.valueGroup,(function(){e.valueGroup.maybeAppendByClassName(bb.value,(function(){return Xe(r)})).styles(n)}))}},{key:"renderBackground",value:function(t){var e=this.shape,r=e.width,n=e.height,o=pt(this.attributes,"background");this.background=t.maybeAppendByClassName(bb.backgroundGroup,"g").style("zIndex",-1),this.background.maybeAppendByClassName(bb.background,"rect").styles(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ob(Object(r),!0).forEach((function(e){pb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({width:r,height:n},o))}},{key:"adjustLayout",value:function(){var t=this.layout,e=(t.markerWidth,t.labelWidth),r=t.valueWidth,n=(t.width,t.height),o=ib(t.position,3),i=o[0],a=o[1],u=o[2],l=n/2;this.markerGroup.styles({x:i,y:l}),this.labelGroup.styles({x:a,y:l}),Mr(this.labelGroup.select(bb.label.class),e),this.showValue&&(this.valueGroup.styles({x:u,y:l}),Mr(this.valueGroup.select(bb.value.class),r))}},{key:"render",value:function(t,e){var r=fe(e);this.renderMarker(r),this.renderLabel(r),this.renderValue(r),this.renderBackground(r),this.adjustLayout()}}])&&ub(e.prototype,r),n&&ub(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function mb(t){return(mb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gb(t){return function(t){if(Array.isArray(t))return jb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ob(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ob(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ob(t,e){if(t){if("string"==typeof t)return jb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jb(t,e):void 0}}function jb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sb(Object(r),!0).forEach((function(e){Mb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cb(n.key),n)}}function kb(t,e){return(kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ab(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Tb(t);if(e){var o=Tb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Eb(this,r)}}function Eb(t,e){if(e&&("object"===mb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _b(t)}function _b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tb(t){return(Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mb(t,e,r){return(e=Cb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cb(t){var e=function(t,e){if("object"!==mb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==mb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===mb(e)?e:String(e)}var Rb=Er({page:"item-page",navigator:"navigator",item:"item"},"items"),Ib={data:[],gridRow:1/0,gridCol:void 0,padding:0,width:1e3,height:100,rowPadding:0,colPadding:0,layout:"flex",orient:"horizontal",click:kh,mouseenter:kh,mouseleave:kh},Lb=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t?e(t):r},Bb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}(i,t);var e,r,n,o=Ab(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Mb(_b(e=o.call(this,ze({},{style:Ib},t))),"navigator",void 0),Mb(_b(e),"navigatorShape",[0,0]),e}return e=i,(r=[{key:"pageViews",get:function(){return this.navigator.getContainer()}},{key:"grid",get:function(){var t=this.attributes,e=t.gridRow,r=t.gridCol,n=t.data;if(!e&&!r)throw new Error("gridRow and gridCol can not be set null at the same time");return e&&r?[e,r]:e?[e,n.length]:[n.length,r]}},{key:"renderData",get:function(){var t=this.attributes,e=t.data,r=t.layout,n=pt(this.attributes,"item");return e.map((function(t,o){var i=t.id,a=void 0===i?o:i,u=t.label,l=t.value;return{id:"".concat(a),index:o,style:Pb({layout:r,label:u,value:l},Object.fromEntries(Object.entries(n).map((function(r){var n=wb(r,2);return[n[0],sr(n[1],[t,o,e])]}))))}}))}},{key:"getGridLayout",value:function(){var t=this,e=this.attributes,r=e.orient,n=e.width,o=e.rowPadding,i=e.colPadding,a=wb(this.navigatorShape,1)[0],u=wb(this.grid,2),l=u[0],c=u[1],f=c*l,s=0;return this.pageViews.children.map((function(e,u){var y=Math.floor(u/f),p=u%f,h=t.ifHorizontal(c,l),b=[Math.floor(p/h),p%h];"vertical"===r&&b.reverse();var d=b[0],v=b[1],m=(n-a-(c-1)*i)/c,g=e.getBBox().height,w=0,O=0;return"horizontal"===r?(w=s,O=d*(g+o),s=v===c-1?0:s+m+i):(w=v*(m+i),O=s,s=d===l-1?0:s+g+o),{page:y,index:u,row:d,col:v,pageIndex:p,width:m,height:g,x:w,y:O}}))}},{key:"getFlexLayout",value:function(){var t=this.attributes,e=t.width,r=t.height,n=t.rowPadding,o=t.colPadding,i=wb(this.navigatorShape,1)[0],a=wb(this.grid,2),u=a[0],l=a[1],c=e-i,f=r,s=0,y=0,p=0,h=0,b=0,d=0;return this.pageViews.children.map((function(t,e){var r=t.getBBox(),i=r.width,a=r.height,v=0===b?0:o,m=b+v+i;if(m<=c&&Lb(p,(function(t){return t<l}))){var g=[b+v,d,m];return b=g[2],{width:i,height:a,x:g[0],y:g[1],page:s,index:e,pageIndex:y++,row:h,col:p++}}var w=[h+1,0,0,d+a+n];if(h=w[0],p=w[1],b=w[2],(d=w[3])+n+a<=f&&Lb(h,(function(t){return t<u}))){var O=[b,d,i];return b=O[2],{width:i,height:a,x:O[0],y:O[1],page:s,index:e,pageIndex:y++,row:h,col:p++}}var j=[0,0,i,0,s+1,0,0,0];return b=j[2],d=j[3],y=j[5],p=j[7],{width:i,height:a,x:j[0],y:j[1],page:s=j[4],index:e,pageIndex:y++,row:h=j[6],col:p++}}))}},{key:"itemsLayout",get:function(){this.navigatorShape=[0,0];var t="grid"===this.attributes.layout?this.getGridLayout:this.getFlexLayout,e=t.call(this);return e.slice(-1)[0].page>0?(this.navigatorShape=[55,0],t.call(this)):e}},{key:"ifHorizontal",value:function(t,e){return rb(this.attributes.orient,t,e)}},{key:"flattenPage",value:function(t){t.querySelectorAll(Rb.item.class).forEach((function(e){t.appendChild(e)})),t.querySelectorAll(Rb.page.class).forEach((function(e){t.removeChild(e).destroy()}))}},{key:"renderItems",value:function(t){var e=this.attributes,r=e.click,n=e.mouseenter,o=e.mouseleave;this.flattenPage(t);var i=this.dispatchCustomEvent.bind(this);fe(t).selectAll(Rb.item.class).data(this.renderData,(function(t){return t.id})).join((function(t){return t.append((function(t){var e=t.style;return new vb({style:e})})).attr("className",Rb.item.name).on("click",(function(){null==r||r(this),i("itemClick",{item:this})})).on("mouseenter",(function(){null==n||n(this),i("itemMouseenter",{item:this})})).on("mouseleave",(function(){null==o||o(this),i("itemMouseleave",{item:this})}))}),(function(t){return t.each((function(t){var e=t.style;this.update(e)}))}),(function(t){return t.remove()}))}},{key:"relayoutNavigator",value:function(){var t,e=this.attributes,r=e.layout,n=e.width,o=(null===(t=this.pageViews.children[0])||void 0===t?void 0:t.getBBox().height)||0,i=wb(this.navigatorShape,2),a=i[0],u=i[1];this.navigator.update(Pb({},"grid"===r?{pageWidth:n-a,pageHeight:o-u}:{}))}},{key:"adjustLayout",value:function(){var t=this,e=Object.entries(_r(this.itemsLayout,"page")).map((function(t){var e=wb(t,2);return{page:e[0],layouts:e[1]}})),r=gb(this.navigator.getContainer().children);e.forEach((function(e){var n=e.layouts,o=t.pageViews.appendChild(new b.Group({className:Rb.page.name}));n.forEach((function(t){var e,n,i,a,u=t.x,l=t.y,c=t.index,f=t.width,s=t.height,y=r[c];o.appendChild(y),n=t,i=y,(a=P(e="__layout__")?e.split("."):e).forEach((function(t,e){e<a.length-1?(k(i[t])||(i[t]=q(a[e+1])?[]:{}),i=i[t]):i[t]=n})),y.update({x:u,y:l,width:f,height:s})}))})),this.relayoutNavigator()}},{key:"renderNavigator",value:function(t){var e=this.attributes.orient,r=Pb(Pb({},pt(this.attributes,"nav")),{},{orient:e});return this.navigator=t.maybeAppendByClassName(Rb.navigator,(function(){return new Jh({})})).update(r).node(),this.navigator}},{key:"getBBox",value:function(){return this.navigator.getBBox()}},{key:"render",value:function(t,e){var r=this.attributes.data;if(r&&0!==r.length){var n=this.renderNavigator(fe(e));this.renderItems(n.getContainer()),this.adjustLayout()}}},{key:"dispatchCustomEvent",value:function(t,e){var r=new b.CustomEvent(t,{detail:e});this.dispatchEvent(r)}}])&&xb(e.prototype,r),n&&xb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn),Db=["text"];function Nb(t){return(Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fb(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Hb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xb(n.key),n)}}function Vb(t,e){return(Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qb(t);if(e){var o=qb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ub(this,r)}}function Ub(t,e){if(e&&("object"===Nb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $b(t)}function $b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qb(t){return(qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zb(Object(r),!0).forEach((function(e){Kb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kb(t,e,r){return(e=Xb(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xb(t){var e=function(t,e){if("object"!==Nb(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Nb(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nb(e)?e:String(e)}var Jb=Er({markerGroup:"marker-group",marker:"marker",labelGroup:"label-group",label:"label"},"handle"),Qb=Yb(Yb({},bt(ct,"label")),{},{markerSize:25,markerStroke:"#c5c5c5",markerFill:"#fff",markerLineWidth:1,labelFontSize:12,labelFill:"#c5c5c5",labelText:"",orient:"vertical",spacing:0,showLabel:!0,formatter:function(t){return t.toString()}}),td=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}(i,t);var e,r,n,o=Wb(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Kb($b(e=o.call(this,ze({},{style:Qb},t))),"marker",void 0),e}return e=i,(r=[{key:"render",value:function(t,e){var r=fe(e).maybeAppendByClassName(Jb.markerGroup,"g");this.renderMarker(r);var n=fe(e).maybeAppendByClassName(Jb.labelGroup,"g");this.renderLabel(n)}},{key:"attributeChangedCallback",value:function(){this.render(this.attributes,this)}},{key:"renderMarker",value:function(t){var e=this,r=this.attributes,n=r.orient,o=r.markerSymbol,i=void 0===o?rb(n,"horizontalHandle","verticalHandle"):o;yr(!!i,t,(function(t){var r=pt(e.attributes,"marker"),n=Yb({symbol:i},r);e.marker=t.maybeAppendByClassName(Jb.marker,(function(){return new Un({})})).update(n)}))}},{key:"renderLabel",value:function(t){var e=this,r=this.attributes,n=r.orient,o=r.spacing,i=void 0===o?0:o,a=r.showLabel,u=r.formatter;yr(a,t,(function(t){var r,o=pt(e.attributes,"label"),a=o.text,l=Fb(o,Db),c=(null===(r=t.select(Jb.marker.class))||void 0===r?void 0:r.node().getBBox())||{},f=c.width,s=void 0===f?0:f,y=c.height,p=zb(rb(n,[0,(void 0===y?0:y)+i,"center","top"],[s+i,0,"start","middle"]),4),h=p[0],b=p[1],d=p[2],v=p[3];t.maybeAppendByClassName(Jb.label,"text").styles(Yb(Yb({},l),{},{x:h,y:b,text:u(a).toString(),textAlign:d,textBaseline:v}))}))}}])&&Hb(e.prototype,r),n&&Hb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn),ed={style:{padding:0,orient:"horizontal",backgroundFill:"transparent",titleText:"",showTitle:!0,titleSpacing:4,titlePosition:"top-left",titleFill:"#2C3542",titleFontWeight:"bold",titleFontFamily:"sans-serif",titleFontSize:12}},rd=p({},ed,{style:{type:"category",items:[],maxCols:void 0,maxRows:void 0,spacing:[8,2],itemBackground:{padding:0,style:{fill:"transparent",active:{cursor:"pointer"}}},reverse:!1}}),nd=p({},ed,bt(Qb,"handle"),{style:{type:"continuous",color:["#d0e3fa","#acc7f6","#8daaf2","#6d8eea","#4d73cd","#325bb1","#5a3e75","#8c3c79","#e23455","#e7655b"],slidable:!0,showHandle:!0,showLabel:!0,showIndicator:!0,labelSpacing:5,labelAlign:"value",labelDirection:"positive",indicatorLabelFill:"white",indicatorLabelFontSize:12,indicatorBackgroundFill:"#262626"}}),od=Er({title:"title",titleGroup:"title-group",items:"items",itemsGroup:"items-group",contentGroup:"content-group",ribbonGroup:"ribbon-group",ribbon:"ribbon",handlesGroup:"handles-group",handle:"handle",startHandle:"start-handle",endHandle:"end-handle",labelGroup:"label-group",label:"label",indicator:"indicator"},"legend");function id(t){return(id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ad(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ud(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ad(Object(r),!0).forEach((function(e){dd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ad(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ld(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return cd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vd(n.key),n)}}function sd(t,e){return(sd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=bd(t);if(e){var o=bd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pd(this,r)}}function pd(t,e){if(e&&("object"===id(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hd(t)}function hd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bd(t){return(bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dd(t,e,r){return(e=vd(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vd(t){var e=function(t,e){if("object"!==id(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==id(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===id(e)?e:String(e)}var md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sd(t,e)}(i,t);var e,r,n,o=yd(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),dd(hd(e=o.call(this,ze({},rd,t))),"titleGroup",void 0),dd(hd(e),"title",void 0),dd(hd(e),"itemsGroup",void 0),dd(hd(e),"items",void 0),e}return e=i,(r=[{key:"renderTitle",value:function(t,e,r){var n=this.attributes,o=n.showTitle,i=n.titleText,a=ld(dt(pt(this.attributes,"title")),2),u=a[0],l=a[1];this.titleGroup=t.maybeAppendByClassName(od.titleGroup,"g").styles(l);var c=ud(ud({width:e,height:r},u),{},{text:o?i:""});this.title=this.titleGroup.maybeAppendByClassName(od.title,(function(){return new $p({style:c})})).update(c)}},{key:"renderItems",value:function(t,e){var r=e.x,n=e.y,o=e.width,i=e.height,a=ld(ht(this.attributes,["title"]),2),u=ld(dt(a[1]),2),l=u[0],c=u[1],f=ud(ud({},l),{},{width:o,height:i});this.itemsGroup=t.maybeAppendByClassName(od.itemsGroup,"g").styles(ud({x:r,y:n},c)),this.items=this.itemsGroup.maybeAppendByClassName(od.items,(function(){return new Bb({style:{data:[]}})})),this.items.node().update(f)}},{key:"adjustLayout",value:function(){if(this.attributes.showTitle){var t=this.title.node().getAvailableSpace(),e=t.x,r=t.y;this.itemsGroup.node().setLocalPosition(e,r)}}},{key:"availableSpace",get:function(){var t=this.attributes,e=t.showTitle,r=t.width,n=t.height;return e?this.title.node().getAvailableSpace():new Dr(0,0,r,n)}},{key:"getBBox",value:function(){return function(t,e){var r=t.attributes,n=r.position,o=r.spacing,i=r.inset,a=t.getBBox(),u=e.getBBox(),l=Wp(n),c=Gp(Z(t.attributes.text?o:0),4),f=c[0],s=c[1],y=c[2],p=c[3],h=Gp(Z(i),4),b=h[0],d=h[1],v=h[2],m=p+s,g=f+y,w=h[3]+d,O=b+v;if("l"===l[0])return new Dr(a.x,a.y,u.width+a.width+m+w,Math.max(u.height+O,a.height));if("t"===l[0])return new Dr(a.x,a.y,Math.max(u.width+w,a.width),u.height+a.height+g+O);var j=e.attributes.width||u.width,S=e.attributes.height||u.height;return new Dr(u.x,u.y,j+a.width+m+w,S+a.height+g+O)}(this.title.node(),this.items.node())}},{key:"render",value:function(t,e){var r=t.width,n=t.height,o=fe(e);this.renderTitle(o,r,n),this.renderItems(o,this.availableSpace),this.adjustLayout()}}])&&fd(e.prototype,r),n&&fd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn),gd={formatter:function(t){return t},padding:[2,4],position:"right",labelFill:"#fff",labelFontSize:12,labelTextBaseline:"middle",backgroundZIndex:-1,backgroundFill:"#262626",backgroundLineCap:"round",backgroundLineWidth:1,backgroundStroke:"#333"};function wd(t){return(wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Od(t){return function(t){if(Array.isArray(t))return Pd(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Sd(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Sd(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(t,e){if(t){if("string"==typeof t)return Pd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pd(t,e):void 0}}function Pd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xd(Object(r),!0).forEach((function(e){Rd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ad(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Id(n.key),n)}}function Ed(t,e){return(Ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cd(t);if(e){var o=Cd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Td(this,r)}}function Td(t,e){if(e&&("object"===wd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Md(t)}function Md(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cd(t){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rd(t,e,r){return(e=Id(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Id(t){var e=function(t,e){if("object"!==wd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==wd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===wd(e)?e:String(e)}var Ld=Er({background:"background",labelGroup:"label-group",label:"label"},"indicator"),Bd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ed(t,e)}(i,t);var e,r,n,o=_d(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Rd(Md(e=o.call(this,ze({},{style:kd({visibility:"hidden"},gd)},t))),"group",void 0),Rd(Md(e),"background",void 0),Rd(Md(e),"label",void 0),Rd(Md(e),"point",[0,0]),e.group=e.appendChild(new b.Group({})),e.isMutationObserved=!0,e}return e=i,(r=[{key:"renderBackground",value:function(){if(this.label){var t=this.style,e=t.position,r=jd(Z(t.padding),4),n=r[0],o=r[1],i=r[2],a=r[3],u=this.label.node().getLocalBounds(),l=u.min,c=u.max,f=[[l[0]-a,l[1]-n],[c[0]+o,c[1]+i]],s=this.getPath(e,f),y=pt(this.attributes,"background");this.background=fe(this.group).maybeAppendByClassName(Ld.background,"path").styles(kd(kd({},y),{},{path:s})),this.group.appendChild(this.label.node())}}},{key:"renderLabel",value:function(){var t=this.attributes,e=t.value,r=t.formatter,n=jd(dt(pt(this.attributes,"label")),2),o=n[0],i=n[1];this.label=fe(this.group).maybeAppendByClassName(Ld.labelGroup,"g").styles(i),e&&this.label.maybeAppendByClassName(Ld.label,(function(){return Xe(r(e))})).style("text",r(e).toString()).selectAll("text").styles(kd(kd({},ct),o))}},{key:"adjustLayout",value:function(){var t=jd(this.point,2),e=t[0],r=t[1];this.group.attr("x",-e).attr("y",-r)}},{key:"getPath",value:function(t,e){var r=this,n=jd(e,2),o=jd(n[0],2),i=o[0],a=o[1],u=jd(n[1],2),l=u[0],c=u[1],f={top:[[i,a],[l,a]],right:[[l,a],[l,c]],bottom:[[l,c],[i,c]],left:[[i,c],[i,a]]},s={top:"bottom",right:"left",bottom:"top",left:"right"},y=Object.entries(f).map((function(e){var n=jd(e,2),o=n[0],i=n[1];return o===s[t]?r.createCorner(i):[["M"].concat(Od(i[0])),["L"].concat(Od(i[1]))]}));return y.push([["Z"]]),y.flat().filter((function(t,e,r){return 0===e||"M"!==t[0]}))}},{key:"createCorner",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=.8,n=je.apply(void 0,Od(t)),o=jd(t,2),i=jd(o[0],2),a=i[0],u=i[1],l=jd(o[1],2),c=l[0],f=l[1],s=n?[c-a,[a,c]]:[f-u,[u,f]],y=jd(s,2),p=y[0],h=jd(y[1],2),b=h[0],d=h[1],v=p/2,m=p/Math.abs(p),g=e*m,w=g/2,O=g*Math.sqrt(3)/2*r,j=b,S=b+v-w,P=b+v,x=b+v+w,k=d;return n?(this.point=[P,u-O],[["M",j,u],["L",S,u],["L",P,u-O],["L",x,u],["L",k,u]]):(this.point=[a+O,P],[["M",a,j],["L",a,S],["L",a+O,P],["L",a,x],["L",a,k]])}},{key:"bindEvents",value:function(){this.label.on(b.ElementEvent.BOUNDS_CHANGED,this.renderBackground)}},{key:"render",value:function(){this.renderLabel(),this.renderBackground(),this.adjustLayout()}}])&&Ad(e.prototype,r),n&&Ad(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Dd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Nd(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nd(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zd(t,e){var r=Dd(function(t,e){for(var r=1;r<t.length;r+=1){var n=t[r-1],o=t[r];if(e>=n&&e<=o)return[n,o]}return[e,e]}(t,e),2),n=r[0],o=r[1];return{tick:e>(n+o)/2?o:n,range:[n,o]}}function Gd(t){return(Gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fd(Object(r),!0).forEach((function(e){Vd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vd(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Gd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Gd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gd(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ud(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ud(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ud(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $d=Er({trackGroup:"background-group",track:"background",selectionGroup:"ribbon-group",selection:"ribbon",clipPath:"clip-path"},"ribbon");function qd(t){var e=t.orient,r=t.size,n=t.len;return rb(e,[n,r],[r,n])}function Zd(t){var e=t.type,r=Wd(qd(t),2),n=r[0],o=r[1];return"size"===e?[["M",0,o],["L",0+n,0],["L",0+n,o],["Z"]]:[["M",0,o],["L",0,0],["L",0+n,0],["L",0+n,o],["Z"]]}function Yd(t){return Zd(t)}function Kd(t){var e,r=t.orient,n=t.color,o=t.block,i=t.partition;if(j(n)){e=new Array(20).fill(0).map((function(t,e,r){return n(e/(r.length-1))}))}else e=n;var a=e.length,u=e.map((function(t){return Object(b.parseColor)(t).toString()}));return a?1===a?u[0]:o?function(t,e,r){var n=Array.from(e),o=t.length;return new Array(o).fill(0).reduce((function(e,r,i){var a=n[i%n.length];return e+" ".concat(t[i],":").concat(a).concat(i<o-1?" ".concat(t[i+1],":").concat(a):"")}),"l(".concat("horizontal"===r?"0":"270",")"))}(i,u,r):u.reduce((function(t,e,r){return t+" ".concat(r/(a-1),":").concat(e)}),"l(".concat(rb(r,"0","270"),")")):""}function Xd(t){var e=t.orient,r=t.range;if(!r)return[];var n=Wd(qd(t),2),o=n[0],i=n[1],a=Wd(r,2),u=a[0],l=a[1],c=rb(e,u*o,0),f=rb(e,0,u*i),s=rb(e,l*o,o),y=rb(e,i,l*i);return[["M",c,f],["L",c,y],["L",s,y],["L",s,f],["Z"]]}var Jd=xr({render:function(t,e){var r=Wd(ht(t,["selection","track"]),2),n=r[0],o=r[1];!function(t,e,r){t.maybeAppendByClassName($d.track,"path").styles(Hd({path:Zd(e)},r))}(fe(e).maybeAppendByClassName($d.trackGroup,"g"),t,o),function(t,e,r){var n=Kd(e),o=t.maybeAppendByClassName($d.selection,"path").styles(Hd({path:Yd(e),fill:n},r)),i=o.maybeAppendByClassName($d.clipPath,"path").styles({path:Xd(e)}).node();o.style("clip-path",i)}(fe(e).maybeAppendByClassName($d.selectionGroup,"g"),t,n)}},Hd({},{type:"color",orient:"horizontal",size:30,range:[0,1],len:200,block:!1,partition:[],color:["#fff","#000"],trackFill:"#e5e5e5"}));function Qd(t){return(Qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var tv=["formatter"],ev=["formatter","filtrate","filter","align","labelDirection","tickLength","showTick"];function rv(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function nv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ov(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?nv(Object(r),!0).forEach((function(e){yv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function iv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||bv(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function av(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pv(n.key),n)}}function uv(t,e){return(uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=sv(t);if(e){var o=sv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cv(this,r)}}function cv(t,e){if(e&&("object"===Qd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fv(t)}function fv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sv(t){return(sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yv(t,e,r){return(e=pv(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pv(t){var e=function(t,e){if("object"!==Qd(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Qd(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qd(e)?e:String(e)}function hv(t){return function(t){if(Array.isArray(t))return dv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||bv(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bv(t,e){if(t){if("string"==typeof t)return dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dv(t,e):void 0}}function dv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vv=S((function(t){return{min:Math.min.apply(Math,hv(t.map((function(t){return t.value})))),max:Math.max.apply(Math,hv(t.map((function(t){return t.value}))))}}),(function(t){return t.map((function(t){return t.id}))})),mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}(i,t);var e,r,n,o=lv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),yv(fv(e=o.call(this,ze({},nd,t))),"eventToOffsetScale",new tu({})),yv(fv(e),"innerRibbonScale",new tu({})),yv(fv(e),"title",void 0),yv(fv(e),"label",void 0),yv(fv(e),"ribbon",void 0),yv(fv(e),"indicator",void 0),yv(fv(e),"handlesGroup",void 0),yv(fv(e),"startHandle",void 0),yv(fv(e),"endHandle",void 0),yv(fv(e),"cacheLabelBBox",null),yv(fv(e),"cacheHandleBBox",null),yv(fv(e),"target",void 0),yv(fv(e),"prevValue",void 0),yv(fv(e),"onHovering",(function(t){var r=e.attributes,n=r.data,o=r.block;t.stopPropagation();var i=e.getValueByCanvasPoint(t);if(o){var a=zd(n.map((function(t){return t.value})),i).range;e.showIndicator((a[0]+a[1])/2,"".concat(a[0],"-").concat(a[1])),e.dispatchIndicated(i,a)}else{var u=e.getTickValue(i);e.showIndicator(u),e.dispatchIndicated(u)}})),yv(fv(e),"onDragStart",(function(t){return function(r){r.stopPropagation(),e.attributes.slidable&&(e.target=t,e.prevValue=e.getTickValue(e.getValueByCanvasPoint(r)),document.addEventListener("mousemove",e.onDragging),document.addEventListener("touchmove",e.onDragging),document.addEventListener("mouseleave",e.onDragEnd),document.addEventListener("mouseup",e.onDragEnd),document.addEventListener("mouseup",e.onDragEnd),document.addEventListener("touchend",e.onDragEnd))}})),yv(fv(e),"onDragging",(function(t){var r=fv(e).target;e.updateMouse();var n=iv(e.selection,2),o=n[0],i=n[1],a=e.getTickValue(e.getValueByCanvasPoint(t)),u=a-e.prevValue;"start"===r?o!==a&&e.updateSelection(a,i):"end"===r?i!==a&&e.updateSelection(o,a):"ribbon"===r&&0!==u&&(e.prevValue=a,e.updateSelection(u,u,!0))})),yv(fv(e),"onDragEnd",(function(){e.style.cursor="default",document.removeEventListener("mousemove",e.onDragging),document.removeEventListener("touchmove",e.onDragging),document.removeEventListener("mouseup",e.onDragEnd),document.removeEventListener("touchend",e.onDragEnd)})),e}return e=i,(r=[{key:"handleOffsetRatio",get:function(){return this.ifHorizontal(.7,.9)}},{key:"getBBox",value:function(){var t=this.attributes,e=t.width,r=t.height;return new Dr(0,0,e,r)}},{key:"render",value:function(t,e){var r=this;this.renderTitle(fe(e));var n=this.title.node().getAvailableSpace(),o=n.x,i=n.y,a=t.showLabel,u=fe(e).maybeAppendByClassName(od.contentGroup,"g").styles({x:o,y:i});yr(!!a,u.maybeAppendByClassName(od.labelGroup,"g").styles({zIndex:1}),(function(t){r.renderLabel(t)}));var l=u.maybeAppendByClassName(od.ribbonGroup,"g");this.handlesGroup=u.maybeAppendByClassName(od.handlesGroup,"g").styles({zIndex:2}),this.renderHandles(),this.renderRibbon(l),this.renderIndicator(u),this.adjustLabel(),this.adjustHandles()}},{key:"range",get:function(){var t=this.attributes.data;return vv(t)}},{key:"ribbonScale",get:function(){var t=this.range,e=t.min,r=t.max;return this.innerRibbonScale.update({domain:[e,r],range:[0,1]}),this.innerRibbonScale}},{key:"ribbonRange",get:function(){var t=iv(this.selection,2),e=t[0],r=t[1],n=this.ribbonScale;return[n.map(e),n.map(r)]}},{key:"selection",get:function(){var t=this.range,e=t.min,r=t.max,n=this.attributes.defaultValue,o=iv(void 0===n?[e,r]:n,2);return[o[0],o[1]]}},{key:"ifHorizontal",value:function(t,e){return rb(this.style.orient,"function"==typeof t?t():t,"function"==typeof e?e():e)}},{key:"renderTitle",value:function(t){var e=this.attributes,r=e.showTitle,n=e.titleText,o=void 0===n?"":n,i=ov(ov({width:e.width,height:e.height},pt(this.attributes,"title")),{},{text:r?o:""});this.title=t.maybeAppendByClassName(od.title,(function(){return new $p({style:i})})).update(i)}},{key:"labelFixedSpacing",get:function(){return this.attributes.labelShowTick?5:0}},{key:"labelPosition",get:function(){var t=this.attributes,e=t.orient,r=t.labelDirection;return{vertical:{positive:"right",negative:"left"},horizontal:{positive:"bottom",negative:"top"}}[e][r]}},{key:"labelBBox",get:function(){var t;if(!this.attributes.showLabel)return new Dr(0,0,0,0);if(this.cacheLabelBBox)return this.cacheLabelBBox;var e=(null===(t=this.label.querySelector(gs.labelGroup.class))||void 0===t?void 0:t.children.slice(-1)[0]).getBBox(),r=e.width,n=e.height;return this.cacheLabelBBox=new Dr(0,0,r,n),this.cacheLabelBBox}},{key:"labelShape",get:function(){var t=this.attributes,e=t.showLabel,r=t.labelSpacing,n=void 0===r?0:r;if(!e)return{width:0,height:0,size:0,len:0};var o=this.labelBBox,i=o.width,a=o.height;return{width:i,height:a,size:this.ifHorizontal(a,i)+n+this.labelFixedSpacing,len:this.ifHorizontal(i,a)}}},{key:"ribbonBBox",get:function(){var t=this.attributes.showHandle,e=this.title.node().getAvailableSpace(),r=e.width,n=e.height,o=this.labelShape,i=o.size,a=o.len,u=iv(this.ifHorizontal([n,r],[r,n]),2),l=u[0],c=u[1],f=t?this.handleShape:{size:0,len:0},s=f.size,y=f.len,p=this.handleOffsetRatio,h=0,b=this.labelPosition;h=["bottom","right"].includes(b)?Math.min(l-i,(l-s)/p):l*(1-p)>s?Math.max(l-i,0):Math.max((l-i-s)/p,0);var d=Math.max(y,a),v=c-d,m=iv(this.ifHorizontal([v,h],[h,v]),2),g=m[0],w=m[1],O=["top","left"].includes(b)?i:0,j=iv(this.ifHorizontal([d/2,O],[O,d/2]),2),S=j[0],P=j[1];return new Dr(S,P,g,w)}},{key:"ribbonShape",get:function(){var t=this.ribbonBBox,e=t.width,r=t.height;return this.ifHorizontal({size:r,len:e},{size:e,len:r})}},{key:"renderRibbon",value:function(t){var e=this.attributes,r=e.type,n=e.orient,o=e.color,i=e.block,a=e.data,u=pt(this.attributes,"ribbon"),l=this.range,c=l.min,f=l.max,s=this.ribbonBBox,y=s.x,p=s.y,h=this.ribbonShape,b=h.len,d=h.size;this.ribbon=t.maybeAppendByClassName(od.ribbon,(function(){return new Jd({})})).update(ov({x:y,y:p,len:b,size:d,type:r,orient:n,color:o,block:i,partition:a.map((function(t){return(t.value-c)/(f-c)})),range:this.ribbonRange},u))}},{key:"getHandleClassName",value:function(t){return"".concat(od.prefix("".concat(t,"-handle")))}},{key:"renderHandles",value:function(){var t=this,e=this.attributes,r=e.showHandle,n=e.orient,o=pt(this.attributes,"handle"),i=(o.formatter,rv(o,tv)),a=iv(this.selection,2),u=a[0],l=a[1],c=ov({orient:n},i),f=this;this.handlesGroup.selectAll(od.handle.class).data(r?[{value:u,type:"start"},{value:l,type:"end"}]:[],(function(t){return t.type})).join((function(e){return e.append((function(){return new td({})})).attr("className",(function(e){return"".concat(od.handle," ").concat(t.getHandleClassName(e.type))})).styles(c).style("labelText",(function(t){return t.value})).each((function(t){var e=fe(this);"start"===t.type?f.startHandle=e:f.endHandle=e}))}),(function(t){return t.styles(c).style("labelText",(function(t){return t.value}))}),(function(t){return t.remove()}))}},{key:"adjustHandles",value:function(){var t=iv(this.selection,2),e=t[0],r=t[1];this.setHandlePosition("start",e),this.setHandlePosition("end",r)}},{key:"handleBBox",get:function(){if(this.cacheHandleBBox)return this.cacheHandleBBox;if(!this.attributes.showHandle)return new Dr(0,0,0,0);var t=this.startHandle.node().getBBox(),e=t.width,r=t.height,n=this.endHandle.node().getBBox(),o=n.width,i=n.height,a=[Math.max(e,o),Math.max(r,i)],u=a[0],l=a[1];return this.cacheHandleBBox=new Dr(0,0,u,l),this.cacheHandleBBox}},{key:"handleShape",get:function(){var t=this.handleBBox,e=t.width,r=t.height,n=iv(this.ifHorizontal([r,e],[e,r]),2);return{width:e,height:r,size:n[0],len:n[1]}}},{key:"setHandlePosition",value:function(t,e){var r=this.attributes.handleFormatter,n=this.ribbonBBox,o=n.x,i=n.y,a=this.ribbonShape.size,u=this.getOffset(e),l=iv(this.ifHorizontal([o+u,i+a*this.handleOffsetRatio],[o+a*this.handleOffsetRatio,i+u]),2),c=l[0],f=l[1],s=this.handlesGroup.select(".".concat(this.getHandleClassName(t))).node();null==s||s.attr("formatter",r),null==s||s.setLocalPosition(c,f)}},{key:"renderIndicator",value:function(t){var e=pt(this.attributes,"indicator");this.indicator=t.maybeAppendByClassName(od.indicator,(function(){return new Bd({style:e})})).update(e)}},{key:"labelData",get:function(){var t=this;return this.attributes.data.reduce((function(e,r,n,o){var i,a,u=null!==(i=null==r?void 0:r.id)&&void 0!==i?i:n.toString();if(e.push(ov(ov({},r),{},{id:u,index:n,type:"value",label:null!==(a=null==r?void 0:r.label)&&void 0!==a?a:r.value.toString(),value:t.ribbonScale.map(r.value)})),n<o.length-1){var l=o[n+1],c=[r.value,l.value],f=c[0],s=c[1],y=(f+s)/2;e.push(ov(ov({},r),{},{id:u,index:n,type:"range",range:[f,s],label:[f,s].join("~"),value:t.ribbonScale.map(y)}))}return e}),[])}},{key:"labelStyle",get:function(){var t="center",e="middle",r=this.labelPosition;return"top"===r?e="bottom":"bottom"===r?e="top":"left"===r?t="end":"right"===r&&(t="start"),{labelTextAlign:t,labelTextBaseline:e}}},{key:"renderLabel",value:function(t){var e=pt(this.attributes,"label"),r=e.formatter,n=e.filtrate,o=(e.filter,e.align),i=e.labelDirection,a=(e.tickLength,e.showTick),u=void 0!==a&&a,l=iv(ht(rv(e,ev),["tick"]),2),c=l[0],f=l[1],s=ov(ov(ov({type:"linear",startPos:[0,0],endPos:[0,0],data:this.labelData,showLine:!1,showGrid:!1,showTick:u,tickDirection:i,labelTransform:"rotate(0)"},this.labelStyle),Object.fromEntries(Object.entries(c).map((function(t){var e=iv(t,2),r=e[0],n=e[1];return["tick".concat(Tr(r)),n]})))),Object.fromEntries(Object.entries(f).map((function(t){var e=iv(t,2),r=e[0],n=e[1];return["label".concat(Tr(r)),n]})))),y={tickFilter:function(t,e,r){return"value"===(null==t?void 0:t.type)&&(!n||n(t,t.index,r.filter((function(t){return"value"!==t.type}))))},labelFilter:function(t,e,r){return(null==t?void 0:t.type)===o&&(!n||n(t,t.index,r.filter((function(t){return t.type===o}))))},labelFormatter:r},p=ov(ov({},s),y);this.label=t.maybeAppendByClassName(od.label,(function(){return new ph({style:p})})).node(),this.label.update(p,!1)}},{key:"labelAxisCfg",get:function(){var t=this.attributes,e=t.labelDirection,r=t.labelShowTick,n=t.labelSpacing,o=this.ribbonShape.size,i=this.labelPosition,a=this.labelFixedSpacing,u=0,l=0,c=0,f=o+n;return r?(c=f,l=a,"positive"===e?"right"===i?(u=f,c=f):"bottom"===i&&(u=c):"negative"===e&&("top"===i||"left"===i)&&(u=o)):"positive"===e?"right"===i?l=f:"bottom"===i&&(u=o+a,l=n):"negative"===e&&("left"===i||"top"===i)&&(l=n),{offset:u,spacing:l,tickLength:c}}},{key:"adjustLabel",value:function(){if(this.attributes.showLabel){var t=this.ribbonBBox,e=t.x,r=t.y,n=t.width,o=t.height,i=this.labelAxisCfg,a=i.offset,u=i.spacing,l=i.tickLength,c=iv(this.ifHorizontal([[e,r+a],[e+n,r+a]],[[e+a,r+o],[e+a,r]]),2),f=c[0],s=c[1];this.label.update({startPos:f,endPos:s,tickLength:l,labelSpacing:u},!1)}}},{key:"bindEvents",value:function(){var t,e,r=this,n=new Map;n.set("ribbon",this.ribbon),n.set("start",this.startHandle),n.set("end",this.endHandle),n.forEach((function(t,e){null==t||t.on("mousedown",r.onDragStart(e)),null==t||t.on("touchstart",r.onDragStart(e))})),null===(t=this.startHandle)||void 0===t||t.on("mouseover",(function(){return r.updateMouse()})),null===(e=this.endHandle)||void 0===e||e.on("mouseover",(function(){return r.updateMouse()})),this.ribbon.on("mousemove",this.onHovering),this.addEventListener("mouseout",this.hideIndicator)}},{key:"showIndicator",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(t),n=this.attributes.showIndicator;if(n&&"number"==typeof t){var o=this.range,i=o.min,a=o.max,u=this.ribbonBBox,l=u.x,c=u.y,f=pl(t,i,a),s=this.getOffset(f),y=this.ifHorizontal([s+l,c],[l,s+c]);this.indicator.update({visibility:"visible",position:this.ifHorizontal("top","left"),value:r}),(e=this.indicator.node()).setLocalPosition.apply(e,hv(y))}else this.hideIndicator()}},{key:"hideIndicator",value:function(){var t;null===(t=this.indicator)||void 0===t||t.style("visibility","hidden")}},{key:"updateMouse",value:function(){this.style.slidable&&(this.style.cursor="grabbing")}},{key:"setSelection",value:function(t,e){this.updateSelection(t,e)}},{key:"updateSelection",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=iv(this.selection,2),o=n[0],i=n[1],a=t,u=e;r&&(a+=o,u+=i);var l=this.range,c=l.min,f=l.max,s=eb([c,f],[a,u],this.selection),y=iv(s,2);a=y[0],u=y[1],this.update({defaultValue:[a,u]}),this.dispatchSelection()}},{key:"step",get:function(){var t=this.attributes.step,e=void 0===t?1:t,r=this.range,n=r.min,o=r.max;return io(e)?z(.01*(o-n),0):e}},{key:"getTickValue",value:function(t){var e=this.attributes,r=e.data,n=e.block,o=this.range.min;return n?zd(r.map((function(t){return t.value})),t).tick:function(t,e,r){return r+Math.round((t-r)/e)*e}(t,this.step,o)}},{key:"getValueByCanvasPoint",value:function(t){var e=this.range,r=e.min,n=e.max,o=this.ribbon.node().getPosition(),i=iv(o,2),a=i[0],u=i[1],l=this.ifHorizontal(a,u),c=this.ifHorizontal.apply(this,hv(vt(t))),f=c-l,s=pl(this.getOffset(f,!0),r,n);return s}},{key:"getOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.range,n=r.min,o=r.max,i=this.ribbonShape.len,a=this.eventToOffsetScale;return a.update({domain:[n,o],range:[0,i]}),e?a.invert(t):a.map(t)}},{key:"dispatchSelection",value:function(){var t=new b.CustomEvent("valuechange",{detail:{value:this.selection}});this.dispatchEvent(t)}},{key:"dispatchIndicated",value:function(t,e){var r=new b.CustomEvent("indicate",{detail:{value:t,range:e}});this.dispatchEvent(r)}}])&&av(e.prototype,r),n&&av(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);wi([Ze(100)],mv.prototype,"dispatchSelection",null),wi([Ze(100)],mv.prototype,"dispatchIndicated",null);var gv,wv,Ov,jv,Sv,Pv=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,(function(t,r){return"\\"===t.charAt(0)?t.slice(1):void 0===e[r]?"":e[r]})):t},xv=function(t){return t instanceof Element||t instanceof HTMLDocument};function kv(t){gv||(gv=document.createElement("table"),wv=document.createElement("tr"),Ov=/^\s*<(\w+|!)[^>]*>/,jv={tr:document.createElement("tbody"),tbody:gv,thead:gv,tfoot:gv,td:wv,th:wv,"*":document.createElement("div")});var e=Ov.test(t)&&RegExp.$1;e&&e in jv||(e="*");var r=jv[e];t="string"==typeof t?t.replace(/(^\s*)|(\s*$)/g,""):t,r.innerHTML=""+t;var n=r.childNodes[0];return n&&r.contains(n)&&r.removeChild(n),n}function Av(t){return(Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ev(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ev(Object(r),!0).forEach((function(e){Tv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Tv(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Av(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Av(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Av(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mv="tooltip",Cv="tooltip-title",Rv="tooltip-list",Iv="tooltip-list-item",Lv="tooltip-list-item-name",Bv="tooltip-list-item-marker",Dv="tooltip-list-item-name-label",Nv="tooltip-list-item-value",zv="tooltip-crosshair-x",Gv="tooltip-crosshair-y",Fv={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"},Hv=(Tv(Sv={},".".concat(Mv),{position:"absolute",visibility:"visible","z-index":8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(255, 255, 255, 0.96)","box-shadow":"0 6px 12px 0 rgba(0, 0, 0, 0.12)","border-radius":"4px",color:"rgba(0, 0, 0, 0.65)","font-size":"12px","line-height":"20px",padding:"12px","min-width":"120px","max-width":"360px","font-family":"Roboto-Regular"}),Tv(Sv,".".concat(Cv),{color:"rgba(0, 0, 0, 0.45)"}),Tv(Sv,".".concat(Rv),{margin:"0px","list-style-type":"none",padding:"0px"}),Tv(Sv,".".concat(Iv),{"list-style-type":"none","margin-top":"12px",display:"flex","line-height":"1em","align-items":"center","justify-content":"space-between","white-space":"nowrap"}),Tv(Sv,".".concat(Bv),{width:"8px",height:"8px","border-radius":"50%",display:"inline-block","margin-right":"4px"}),Tv(Sv,".".concat(Lv),{display:"flex","align-items":"center","max-width":"216px"}),Tv(Sv,".".concat(Dv),_v({flex:1},Fv)),Tv(Sv,".".concat(Nv),_v({display:"inline-block",float:"right",flex:1,"text-align":"right","min-width":"28px","margin-left":"30px",color:"rgba(0, 0, 0, 0.85)"},Fv)),Tv(Sv,".".concat(zv),{position:"absolute",width:"1px","background-color":"rgba(0, 0, 0, 0.25)"}),Tv(Sv,".".concat(Gv),{position:"absolute",height:"1px","background-color":"rgba(0, 0, 0, 0.25)"}),Sv),Vv=["name","value","color","index"];function Wv(t){return(Wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $v(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function qv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Zv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rm(n.key),n)}}function Kv(t,e){return(Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Xv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=tm(t);if(e){var o=tm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jv(this,r)}}function Jv(t,e){if(e&&("object"===Wv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qv(t)}function Qv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tm(t){return(tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function em(t,e,r){return(e=rm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rm(t){var e=function(t,e){if("object"!==Wv(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Wv(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Wv(e)?e:String(e)}var nm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}(i,t);var e,r,n,o=Xv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),em(Qv(e=o.call(this,p({},i.defaultOptions,t))),"element",void 0),em(Qv(e),"visibility","visible"),e.initShape(),e.render(e.attributes,Qv(e)),e}return e=i,(r=[{key:"HTMLTooltipElement",get:function(){return this.element}},{key:"getContainer",value:function(){return this.element}},{key:"position",set:function(t){var e=qv(t,2),r=e[0],n=e[1];this.attr({x:r,y:n}),this.updatePosition()}},{key:"elementSize",get:function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}},{key:"items",get:function(){return this.attributes.items.map((function(t,e){var r=t.name,n=void 0===r?"":r,o=t.value,i=t.color,a=void 0===i?"black":i,u=t.index;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Uv(Object(r),!0).forEach((function(e){em(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({name:n,value:o,color:a,index:null!=u?u:e},$v(t,Vv))}))}},{key:"HTMLTooltipItemsElements",get:function(){var t=this.attributes.template,e=[];return this.items.forEach((function(r){e.push(kv(Pv(t.item,r)))})),e}},{key:"customContent",get:function(){var t=this.attributes.customContent;return P(t)?xe(t):xv(t)?t:void 0}},{key:"render",value:function(t,e){this.renderHTMLTooltipElement(),this.updatePosition()}},{key:"update",value:function(t){this.attr(p({},this.attributes,t)),this.render(this.attributes,this)}},{key:"clear",value:function(){this.element.innerHTML=""}},{key:"destroy",value:function(){var t,e;null===(t=this.element)||void 0===t||t.remove(),null===(e=this.customContent)||void 0===e||e.remove()}},{key:"show",value:function(){this.visibility="visible",this.element.style.visibility="visible"}},{key:"hide",value:function(){this.visibility="hidden",this.element.style.visibility="hidden"}},{key:"initShape",value:function(){var t=this.attributes.template;this.element=kv(t.container),this.id&&this.element.setAttribute("id",this.id)}},{key:"renderHTMLTooltipElement",value:function(){var t=this.attributes,e=t.title,r=t.enterable,n=this.element,o=this.customContent;if(this.element.style.pointerEvents=r?"auto":"none",this.clear(),o)n.appendChild(o);else{var i,a,u=this.attributes.template;e?(n.innerHTML=u.title,n.getElementsByClassName(Cv)[0].innerHTML=e):null===(i=n.getElementsByClassName(Cv))||void 0===i||null===(a=i[0])||void 0===a||a.remove();var l=this.HTMLTooltipItemsElements,c=document.createElement("ul");c.className=Rv,l.forEach((function(t){c.appendChild(t)})),this.element.appendChild(c)}yt(n,this.attributes.style),this.element.style.visibility=this.visibility}},{key:"getRelativeOffsetFromCursor",value:function(t){var e=this.attributes,r=e.position,n=e.offset,o=(t||r).split("-"),i={left:[-1,0],right:[1,0],top:[0,-1],bottom:[0,1]},a=this.elementSize,u=a.width,l=a.height,c=[-u/2,-l/2];return o.forEach((function(t){var e=qv(c,2),r=e[0],o=e[1],a=qv(i[t],2),f=a[0],s=a[1];c=[r+(u/2+n[0])*f,o+(l/2+n[1])*s]})),c}},{key:"setOffsetPosition",value:function(t){var e=qv(t,2),r=e[0],n=e[1],o=this.attributes,i=o.x,a=void 0===i?0:i,u=o.y,l=void 0===u?0:u,c=o.container,f=c.x,s=c.y;this.element.style.left="".concat(a+f+r,"px"),this.element.style.top="".concat(l+s+n,"px")}},{key:"updatePosition",value:function(){this.setOffsetPosition(this.autoPosition(this.getRelativeOffsetFromCursor()))}},{key:"autoPosition",value:function(t){var e=qv(t,2),r=e[0],n=e[1],o=this.attributes,i=o.x,a=o.y,u=o.autoPosition,l=o.bounding;if(!u)return[r,n];var c=this.element,f=c.offsetWidth,s=c.offsetHeight,y=i+r,p=a+n,h=this.attributes.position,b={left:"right",right:"left",top:"bottom",bottom:"top"},d=l.x,v=l.y,m={left:y<d,right:y+f>d+l.width,top:p<v,bottom:p+s>v+l.height},g=[];h.split("-").forEach((function(t){m[t]?g.push(b[t]):g.push(t)}));var w=g.join("-");return this.getRelativeOffsetFromCursor(w)}}])&&Yv(e.prototype,r),n&&Yv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);em(nm,"tag","tooltip"),em(nm,"defaultOptions",{style:{x:0,y:0,visibility:"visible",title:"",position:"bottom-right",offset:[5,5],follow:!0,enterable:!1,autoPosition:!0,items:[],container:{x:0,y:0},bounding:{x:0,y:0,width:0,height:0},template:{container:'<div class="'.concat(Mv,'"></div>'),title:'<div class="'.concat(Cv,'"></div>'),item:'<li class="'.concat(Iv,'" data-index={index}>\n        <span class="').concat(Lv,'">\n          <span class="').concat(Bv,'" style="background:{color}"></span>\n          <span class="').concat(Dv,'" title="{name}">{name}</span>\n        </span>\n        <span class="').concat(Nv,'" title="{value}">{value}</span>\n      </li>')},style:Hv}}),wi([Ze(100)],nm.prototype,"updatePosition",null);var om={default:{sizeStyle:{width:44,height:22,radius:11},tagStyle:{textStyle:{fontSize:12,lineHeight:16,fill:"#fff"},padding:0},markerStyle:{size:11}},small:{sizeStyle:{width:28,height:16,radius:8},tagStyle:{textStyle:{fontSize:10,lineHeight:14,fill:"#fff"},padding:0},markerStyle:{size:8}},mini:{sizeStyle:{width:20,height:14,radius:7},tagStyle:{textStyle:{fontSize:7,lineHeight:10,fill:"#fff"},padding:0},markerStyle:{size:7}}};function im(t){return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function am(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function um(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?am(Object(r),!0).forEach((function(e){hm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):am(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bm(n.key),n)}}function cm(t,e){return(cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function fm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pm(t);if(e){var o=pm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sm(this,r)}}function sm(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ym(t)}function ym(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pm(t){return(pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hm(t,e,r){return(e=bm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bm(t){var e=function(t,e){if("object"!==im(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==im(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===im(e)?e:String(e)}function dm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Number(t.style.height)-2*e;return{x:r?Number(t.style.width)+Number(t.style.x)-e-n:Number(t.style.x)+e,y:Number(t.style.y)+e,width:n,height:n,radius:n/2}}var vm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cm(t,e)}(i,t);var e,r,n,o=fm(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),hm(ym(e=o.call(this,p({},i.defaultOptions,t))),"checked",void 0),e}return e=i,(r=[{key:"render",value:function(t,e){var r=this,n=t.size,o=void 0===n?"default":n,i=t.spacing,a=t.disabled,u=t.checked,l=t.unCheckedChildren,c=t.checkedChildren,f=fe(e).maybeAppendByClassName("switch-content","g").node(),s=f.getLocalBounds(),y=X(om,o,om.default),h=y.sizeStyle,b=y.tagStyle,d=a?"no-drop":"pointer",v=u?"#1890FF":"#00000040",m=h,g=u?c:l;(c||l)&&fe(f).maybeAppendByClassName("switch-tag",(function(){return new oo({})})).call((function(t){var e=t.node();e.update(p({cursor:d,backgroundStyle:null,text:!1,marker:!1},b,g));var r=null==e?void 0:e.getLocalBounds(),n=r.max,o=r.min,i=n[0]-o[0]+h.radius,a=n[1]-o[1],l=Math.max(i+h.height+2,h.width);m=um(um({},h),{},{width:l}),e.update(function(t,e){var r=e.width,n=e.height,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return{x:i?Number(t.x)+o:Number(t.width)+Number(t.x)-r,y:Number(t.y)+(Number(t.height)-n)/2}}({x:s.min[0],y:s.min[1],width:l,height:m.height},{width:i,height:a},m.radius,u))}));var w=fe(f).maybeAppendByClassName("switch-background","rect").styles(um({zIndex:(f.style.zIndex||0)-1,x:s.min[0],y:s.min[1],fill:v,cursor:d,fillOpacity:a?.4:1},m)).node(),O=fe(f).maybeAppendByClassName("switch-background-stroke","rect").styles(um({zIndex:(f.style.zIndex||0)-2,x:s.min[0],y:s.min[1],stroke:v,lineWidth:0},m)).node();fe(f).maybeAppendByClassName("switch-handle","rect").styles({fill:"#fff",cursor:d}).call((function(t){var e,n,o=t.node(),a=dm(w,i,u),l=dm(w,i,!u);o.attr("x")&&!bl(a,l)&&r.checked!==u?(o.attr(l),null===(e=o.getAnimations()[0])||void 0===e||e.cancel(),null===(n=O.getAnimations()[0])||void 0===n||n.cancel(),o.animate([{x:l.x},{x:a.x}],{duration:120,fill:"both"}),O.animate([{lineWidth:0,strokeOpacity:.5},{lineWidth:14,strokeOpacity:0}],{duration:400,easing:"ease-on"})):o.attr(a)})),this.checked=!!u}}])&&lm(e.prototype,r),n&&lm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);hm(vm,"tag","switch"),hm(vm,"defaultOptions",{style:{x:0,y:0,spacing:2,checked:!0,disabled:!1}});var mm={tagText:"",lineStroke:"#416180",lineStrokeOpacity:.45,lineLineWidth:1,lineLineDash:[5,5]},gm=ze({},mm,{type:"line",tagPosition:"start",tagAlign:"center",tagVerticalAlign:"bottom"}),wm=ze({},mm,{type:"circle",defaultRadius:0}),Om=ze({},mm,{type:"polygon",defaultRadius:0,startAngle:0}),jm=["position"];function Sm(t){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pm(Object(r),!0).forEach((function(e){Lm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function km(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Am(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Em(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Em(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Em(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bm(n.key),n)}}function Tm(t,e){return(Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Mm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Im(t);if(e){var o=Im(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Cm(this,r)}}function Cm(t,e){if(e&&("object"===Sm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rm(t)}function Rm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Im(t){return(Im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lm(t,e,r){return(e=Bm(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bm(t){var e=function(t,e){if("object"!==Sm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sm(e)?e:String(e)}var Dm=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tm(t,e)}(i,t);var e,r,n,o=Mm(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Lm(Rm(e=o.call(this,p({},i.defaultOptions,t))),"pointer",void 0),Lm(Rm(e),"shapesGroup",void 0),Lm(Rm(e),"tagShape",void 0),Lm(Rm(e),"crosshairShape",void 0),e}return e=i,(r=[{key:"localPointer",get:function(){var t=Am(this.getPosition(),2),e=t[0],r=t[1],n=Am(this.pointer,2);return[n[0]-e,n[1]-r]}},{key:"tagCfg",get:function(){var t=pt(this.attributes,"tag");return t.position,km(t,jm)}},{key:"crosshairCfg",get:function(){return xm(xm({},pt(this.attributes,"line")),{},{path:this.crosshairPath})}},{key:"render",value:function(t,e){var r=this,n=fe(e).maybeAppendByClassName(".crosshair-group","g").node();this.shapesGroup=n,this.tagShape=fe(n).maybeAppend(".crosshair-tag",(function(){return new oo({className:"crosshair-tag",style:r.tagCfg})})).node(),this.crosshairShape=fe(n).maybeAppendByClassName(".crosshair-path","path").node().attr(this.crosshairCfg),this.adjustLayout()}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.attr(p({},this.attributes,t)),this.render(this.attributes,this)}},{key:"setPointer",value:function(t){this.pointer=t}}])&&_m(e.prototype,r),n&&_m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Nm(t){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gm(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ym(n.key),n)}}function Hm(){return(Hm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Vm(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Vm(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qm(t)););return t}function Wm(t,e){return(Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Um(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qm(t);if(e){var o=qm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $m(this,r)}}function $m(t,e){if(e&&("object"===Nm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qm(t){return(qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zm(t,e,r){return(e=Ym(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ym(t){var e=function(t,e){if("object"!==Nm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Nm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nm(e)?e:String(e)}Lm(Dm,"tag","crosshair-base"),Lm(Dm,"defaultOptions",{style:mm});var Km=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wm(t,e)}(i,t);var e,r,n,o=Um(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,ze({},i.defaultOptions,t))}return e=i,(r=[{key:"crosshairPath",get:function(){var t=this.attributes,e=zm(t.startPos,2),r=e[0],n=e[1],o=zm(t.endPos,2);return[["M",0,0],["L",o[0]-r,o[1]-n],["Z"]]}},{key:"localPointer",get:function(){if(!this.pointer)return this.attributes.startPos;var t=zm(this.getPosition(),2),e=t[0],r=t[1],n=zm(this.pointer,2);return[n[0]-e,n[1]-r]}},{key:"isVertical",get:function(){var t=this.attributes,e=zm(t.startPos,2),r=e[0],n=e[1],o=zm(t.endPos,2),i=o[0],a=o[1];return r===i&&n!==a}},{key:"tagShapeSpace",get:function(){var t=me(this.tagShape);return{width:t.width,height:t.height}}},{key:"update",value:function(t){Hm(qm(i.prototype),"update",this).call(this,t)}},{key:"setPointer",value:function(t){Hm(qm(i.prototype),"setPointer",this).call(this,t),this.adjustPosition()}},{key:"setText",value:function(t){this.tagShape.update({text:t}),this.adjustTag()}},{key:"adjustLayout",value:function(){this.adjustPosition(),this.adjustTag()}},{key:"adjustPosition",value:function(){var t=zm(this.localPointer,2),e=t[0],r=t[1],n=zm(this.attributes.startPos,2),o=n[0],i=n[1],a=this.getOrientVal([o,r],[e,i]);this.shapesGroup.setLocalPosition(a)}},{key:"adjustTag",value:function(){var t=this.attributes,e=t.tagText,r=t.tagPosition,n=zm(t.startPos,2),o=n[0],i=n[1],a=zm(t.endPos,2),u=a[0],l=a[1];if(e&&""!==e){this.tagShape.show();var c=this.tagShapeSpace,f=c.width,s=c.height,y=zm(this.getOrientVal({start:[-f/2,s/2],end:[u-o+f/2,s/2]},{start:[0,0],end:[0,l-i+s]})[r],2),p=y[0],h=y[1];this.tagShape.setLocalPosition(p,h)}else this.tagShape.hide()}},{key:"getOrientVal",value:function(t,e){return this.isVertical?e:t}}])&&Fm(e.prototype,r),n&&Fm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Dm);function Xm(t){return(Xm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qm(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lg(n.key),n)}}function eg(){return(eg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=rg(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function rg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ag(t)););return t}function ng(t,e){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function og(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ag(t);if(e){var o=ag(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ig(this,r)}}function ig(t,e){if(e&&("object"===Xm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ag(t){return(ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ug(t,e,r){return(e=lg(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lg(t){var e=function(t,e){if("object"!==Xm(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Xm(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Xm(e)?e:String(e)}Zm(Km,"tag","line-crosshair"),Zm(Km,"defaultOptions",{style:gm}),wi([Ze(20)],Km.prototype,"setPointer",null);var cg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ng(t,e)}(i,t);var e,r,n,o=og(i);function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,ze({},i.defaultOptions,t))}return e=i,(r=[{key:"crosshairPath",get:function(){return this.createCirclePath()}},{key:"update",value:function(t){eg(ag(i.prototype),"update",this).call(this,t)}},{key:"setPointer",value:function(t){var e=Jm(t,2),r=e[0],n=e[1];eg(ag(i.prototype),"setPointer",this).call(this,[r,n]);var o=Jm(this.localPointer,2),a=o[0],u=o[1],l=Jm(this.attributes.center,2),c=l[0],f=l[1],s=this.createCirclePath(Math.pow(Math.pow(a-c,2)+Math.pow(u-f,2),.5));this.crosshairShape.attr({path:s})}},{key:"adjustLayout",value:function(){this.tagShape.hide()}},{key:"createCirclePath",value:function(t){var e=this.attributes,r=Jm(e.center,2),n=r[0],o=r[1],i=e.defaultRadius;return An(n,o,t||i)}}])&&tg(e.prototype,r),n&&tg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(Dm);function fg(t){return(fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return yg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Og(n.key),n)}}function hg(){return(hg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=bg(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function bg(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gg(t)););return t}function dg(t,e){return(dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function vg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=gg(t);if(e){var o=gg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mg(this,r)}}function mg(t,e){if(e&&("object"===fg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gg(t){return(gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wg(t,e,r){return(e=Og(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Og(t){var e=function(t,e){if("object"!==fg(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==fg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===fg(e)?e:String(e)}ug(cg,"tag","circle-crosshair"),ug(cg,"defaultOptions",{style:wm}),wi([Ze(20)],cg.prototype,"setPointer",null);var jg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dg(t,e)}(a,t);var e,r,n,i=vg(a);function a(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i.call(this,ze({},a.defaultOptions,t))}return e=a,(r=[{key:"crosshairPath",get:function(){return this.createPolygonPath()}},{key:"update",value:function(t){hg(gg(a.prototype),"update",this).call(this,t)}},{key:"points",get:function(){for(var t=this.attributes,e=t.startAngle,r=t.sides,n=2*Math.PI/r,i=[1,0],a=[],u=0;u<r;u+=1)a.push(o.rotate([0,0],i,[0,0],e/180*Math.PI+n*u));return a}},{key:"setPointer",value:function(t){var e=sg(t,2),r=e[0],n=e[1];hg(gg(a.prototype),"setPointer",this).call(this,[r,n]);var o=sg(this.localPointer,2),i=o[0],u=o[1],l=this.attributes.center,c=sg(this.intersection([i,u]),2),f=c[0],s=c[1];if(f&&s){var y=qe(l,[i,u])/qe(l,[f,s]),p=this.createPolygonPath(y);this.crosshairShape.attr({path:p})}}},{key:"adjustLayout",value:function(){this.tagShape.hide()}},{key:"createPolygonPath",value:function(t){var e=this.attributes,r=e.defaultRadius,n=sg(e.center,2),i=n[0],a=n[1],u=this.points.map((function(e,n){var u=sg(e,2),l=u[0],c=u[1],f=sg(o.scale([0,0],[l,c],t||r),2),s=f[0],y=f[1];return[0===n?"M":"L",i+s,a+y]}));return u.push(["Z"]),u}},{key:"intersection",value:function(t){for(var e,r,n=sg(t,2),o=n[0],i=n[1],a=this.points,u=sg(this.attributes.center,2),l=u[0],c=u[1],f=1;f<=a.length;f+=1){var s=sg(a[f-1],2),y=s[0],p=s[1],h=sg(a[f%a.length],2),b=We([o,i],[l,c],[y+l,p+c],[h[0]+l,h[1]+c]);if(0!==b.length){var d=sg(b,2);e=d[0],r=d[1]}}return[e,r]}}])&&pg(e.prototype,r),n&&pg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(Dm);function Sg(t){return(Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pg(Object(r),!0).forEach((function(e){Rg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function kg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ag(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ag(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ag(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Eg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ig(n.key),n)}}function _g(t,e){return(_g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Tg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Cg(t);if(e){var o=Cg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Mg(this,r)}}function Mg(t,e){if(e&&("object"===Sg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cg(t){return(Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rg(t,e,r){return(e=Ig(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ig(t){var e=function(t,e){if("object"!==Sg(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Sg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Sg(e)?e:String(e)}wg(jg,"tag","polygon-crosshair"),wg(jg,"defaultOptions",{style:Om}),wi([Ze(20)],jg.prototype,"setPointer",null);var Lg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_g(t,e)}(i,t);var e,r,n,o=Tg(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this,ze({},i.defaultOptions,t))).update({}),e}return e=i,(r=[{key:"decorationType",get:function(){var t=this.attributes.type;return t&&"none"!==t&&l(t)?t.map((function(t){return l(t)?t:[t,"solid"]})):"none"}},{key:"doubleSpacing",get:function(){return 2*this.attributes.style.lineWidth}},{key:"hangingRate",get:function(){return this.attributes.hangingRate}},{key:"dashedCfg",get:function(){var t=this.attributes.style.lineWidth;return{lineDash:[2*t,t]}}},{key:"dottedCfg",get:function(){var t=this.attributes.style.lineWidth;return{lineDash:[t,t]}}},{key:"solidCfg",get:function(){return{lineDash:[0,0]}}},{key:"decorationCfg",get:function(){var t=this,e=this.attributes.style,r=this.decorationType;return"none"===r?[]:r.map((function(r){var n=kg(r,2),o=n[0],i=n[1];if("wavy"===i)return xg({path:t.getWavyPath(o)},e);if("double"===i)return xg({path:t.getDoubleLinePath(o)},e);var a={solid:t.solidCfg,dashed:t.dashedCfg,dotted:t.dottedCfg};return xg(xg({path:t.getLinePath(o)},e),a[i])}))}},{key:"update",value:function(t){var e=this;this.attr(ze({},this.attributes,t)),this.clear(),this.decorationCfg.forEach((function(t){e.appendChild(new b.Path({style:t}))}))}},{key:"clear",value:function(){this.removeChildren()}},{key:"getLinePos",value:function(t){var e=kg(this.hangingRate,3),r=e[0],n=e[1],o=e[2],i=this.attributes,a=i.height,u=i.fontSize,l=0,c=0;return"overline"===t?(l=0,c=a*r-u/2):"line-through"===t?(l=0,c=a*n):(l=0,c=a*o+u/2),[l,c]}},{key:"getLinePath",value:function(t){var e=this.attributes.width,r=kg(this.getLinePos(t),2),n=r[0],o=r[1];return[["M",n,o],["L",n+e,o]]}},{key:"getDoubleLinePath",value:function(t){var e=this.doubleSpacing,r=this.attributes.width,n=kg(this.getLinePos(t),2),o=n[0],i=n[1],a=0,u=0;return"line-through"===t&&(a=-.5,u=.5),"underline"===t?(a=0,u=1):"overline"===t&&(a=1,u=0),[["M",o,i+e*a],["L",o+r,i+e*a],["M",o,i+e*u],["L",o+r,i+e*u]]}},{key:"getWavyPath",value:function(t){return[]}}])&&Eg(e.prototype,r),n&&Eg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.DisplayObject);function Bg(t){return(Bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ng(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dg(Object(r),!0).forEach((function(e){Ug(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$g(n.key),n)}}function Gg(t,e){return(Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Wg(t);if(e){var o=Wg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hg(this,r)}}function Hg(t,e){if(e&&("object"===Bg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vg(t)}function Vg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wg(t){return(Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ug(t,e,r){return(e=$g(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $g(t){var e=function(t,e){if("object"!==Bg(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Bg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Bg(e)?e:String(e)}Rg(Lg,"tag","decoration"),Rg(Lg,"defaultOptions",{style:{width:0,height:0,type:"none",hangingRate:[.5,.55,.5],style:{lineWidth:1,stroke:"#000"}}});var qg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gg(t,e)}(i,t);var e,r,n,o=Fg(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ug(Vg(e=o.call(this,ze({},i.defaultOptions,t))),"textShape",void 0),Ug(Vg(e),"decorationGroup",void 0),Ug(Vg(e),"decorationShape",void 0),Ug(Vg(e),"backgroundShape",void 0),Ug(Vg(e),"clipRect",void 0),e.init(),e}return e=i,(r=[{key:"textWidth",get:function(){var t=this;return cl(this.renderText.split("\n").map((function(e){return I(e,t.font)})))||0}},{key:"textHeight",get:function(){return me(this.textShape).height}},{key:"width",get:function(){var t=this.attributes.width;return"auto"===t||void 0===t||0===t?this.textWidth:t}},{key:"height",get:function(){var t=this.attributes.height;return q(t)&&0!==t?t:me(this.textShape).height}},{key:"lineHeight",get:function(){var t=this.attributes,e=t.lineHeight,r=t.fontSize;return e&&0!==e?e:r}},{key:"capitalizeWord",get:function(){return this.attributes.text.split("\n").map((function(t){return t.split(" ").map((function(t){return N(t,"capitalize")})).join(" ")})).join("\n")}},{key:"text",get:function(){var t=this.attributes,e=t.transform,r=t.text;return"capitalize"===e?this.capitalizeWord:N(r,e)}},{key:"ellipsisText",get:function(){var t=this,e=this.text,r=this.attributes,n=r.width,o=r.overflow,i="ellipsis"===o?"...":o;return e.split("\n").map((function(e){return L(e,q(n)?n:1/0,t.font,i)})).join("\n")}},{key:"renderText",get:function(){var t=this.attributes.width,e=this.attributes.overflow;return e&&!["none","clip","wrap"].includes(e)&&q(t)?this.ellipsisText:this.text}},{key:"verticalAlign",get:function(){return this.attributes.verticalAlign}},{key:"font",get:function(){return xo(this.attributes,["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","letterSpacing","leading"])}},{key:"fontColor",get:function(){return this.attributes.fontColor}},{key:"wordWrap",get:function(){return"wrap"===this.attributes.overflow}},{key:"wordWrapWidth",get:function(){var t=this.width;return this.wordWrap?t:1/0}},{key:"textCfg",get:function(){var t=this.renderText,e=this.lineHeight,r=this.wordWrap,n=this.wordWrapWidth,o=this.fontColor;return Ng(Ng(Ng({},ct),this.font),{},{fill:o,wordWrap:r,lineHeight:e,wordWrapWidth:n,text:t,textAlign:"start",textBaseline:"middle"})}},{key:"backgroundCfg",get:function(){return Ng({x:0,y:0,width:this.width,height:this.height},this.attributes.backgroundStyle)}},{key:"decorationLineWidth",get:function(){var t=this.attributes.fontSize;return Math.floor(2*Math.log10(t))}},{key:"decorationCfg",get:function(){var t=this.attributes,e=t.decoration,r=t.fontSize,n=this.decorationLineWidth,o=this.fontColor;return this.textShape.getLineBoundingRects().map((function(t){return ze({},{fontSize:r,style:{stroke:o,lineWidth:n}},e,t)}))}},{key:"clipRectCfg",get:function(){var t=this.height;return{width:this.attributes.width,height:t}}},{key:"init",value:function(){this.initShape(),this.update({})}},{key:"update",value:function(t){this.attr(ze({},this.attributes,t)),this.render()}},{key:"render",value:function(){var t=this;this.clear(),this.backgroundShape.attr(this.backgroundCfg),this.textShape.attr(this.textCfg),this.layout(),this.decorationGroup.removeChildren(),this.decorationCfg.forEach((function(e){t.decorationGroup.appendChild(new Lg({style:e}))}))}},{key:"clear",value:function(){var t;this.backgroundShape.style.clipPath=null,null===(t=this.clipRect)||void 0===t||t.destroy()}},{key:"initShape",value:function(){this.backgroundShape=new b.Rect({name:"background",style:{width:0,height:0}}),this.decorationGroup=new b.Group({name:"decoration-group"}),this.textShape=new b.Text({name:"text",style:this.textCfg}),this.textShape.appendChild(this.decorationGroup),this.backgroundShape.appendChild(this.textShape),this.appendChild(this.backgroundShape)}},{key:"overflow",value:function(){var t=this.wordWrap,e=this.attributes,r=e.width,n=e.overflow;n&&"none"!==n&&!t&&q(r)&&"clip"===n&&(this.clipRect=new b.Rect({name:"clip-rect",style:this.clipRectCfg}),this.backgroundShape.style.clipPath=this.clipRect,this.backgroundShape.appendChild(this.clipRect))}},{key:"adjustTextAlign",value:function(){var t=this.textWidth,e=this.attributes,r=e.width,n=e.textAlign;if(q(r)){var o=0;o="start"===n?0:"center"===n?(this.width-t)/2:this.width-t,this.textShape.attr({x:o})}}},{key:"adjustVerticalAlign",value:function(){var t=this.verticalAlign,e=this.textHeight,r=0;r="top"===t?e/2:"middle"===t?this.height/2:this.height-e/2,this.textShape.attr({y:r})}},{key:"layout",value:function(){this.adjustTextAlign(),this.adjustVerticalAlign(),this.overflow()}}])&&zg(e.prototype,r),n&&zg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Zg(t,e){for(var r in e)e.hasOwnProperty(r)&&"constructor"!==r&&void 0!==e[r]&&(t[r]=e[r])}function Yg(t,e,r,n){return e&&Zg(t,e),r&&Zg(t,r),n&&Zg(t,n),t}function Kg(t){return(Kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xg(Object(r),!0).forEach((function(e){Qg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qg(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Kg(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Kg(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Kg(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ug(qg,"tag","paragraph"),Ug(qg,"defaultOptions",{style:{text:"",fontColor:"#000",fontFamily:"sans-serif",fontSize:12,fontWeight:"normal",fontVariant:"normal",letterSpacing:0,leading:0,fontStyle:"normal",decoration:{type:"none",style:{}},overflow:"none",backgroundStyle:{},transform:"none",tooltip:!1,tooltipWait:300}});var tw=Jg(Jg({},ct),{},{fill:"rgba(0,0,0,0.45)",fontSize:10,textAlign:"start",textBaseline:"middle",overflow:"clip"}),ew={default:{width:12,height:12,radius:2,stroke:"#dadada",lineWidth:1,fill:"#ffffff",cursor:"pointer"},selected:{width:12,height:12,radius:2,stroke:"#3471F9",lineWidth:1,fill:"#3471F9",cursor:"pointer"}},rw={path:[["M",3,6],["L","5","8.5"],["L","8.5","4"]],lineWidth:1,cursor:"pointer"};function nw(t){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ow(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function iw(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ow(Object(r),!0).forEach((function(e){yw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function aw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pw(n.key),n)}}function uw(t,e){return(uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function lw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=sw(t);if(e){var o=sw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cw(this,r)}}function cw(t,e){if(e&&("object"===nw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fw(t)}function fw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sw(t){return(sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yw(t,e,r){return(e=pw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pw(t){var e=function(t,e){if("object"!==nw(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==nw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===nw(e)?e:String(e)}var hw,bw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}(i,t);var e,r,n,o=lw(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),yw(fw(e=o.call(this,p({},i.defaultOptions,t))),"checkboxBoxShape",void 0),yw(fw(e),"checked",void 0),e}return e=i,(r=[{key:"render",value:function(t,e){var r=t.label,n=t.boxStyle,o=t.checkedStyle,i=t.checked,a=t.spacing;this.checked=!!i;var u=se(e,".checkbox-content","g").attr("className","checkbox-content").node(),l=Yg({},this.checked?ew.selected:ew.default,n),c=Yg({},rw,o);this.checkboxBoxShape=se(u,".checkbox-box","rect").styles(iw({className:"checkbox-box",zIndex:(u.style.zIndex||0)-1},l)).node(),se(this.checkboxBoxShape,".checkbox-checked","path").styles(iw({className:"checkbox-box-checked",stroke:"#fff"},c));var f=function(t,e){var r=t.getLocalBounds();return{x:r.halfExtents[0]?r.max[0]+(e||0):t.style.x,y:r.halfExtents[1]?(r.min[1]+r.max[1])/2:t.style.y}}(this.checkboxBoxShape,Number(a)),s=f.x,y=f.y;se(u,".checkbox-label","text").styles(iw({className:"checkbox-label",x:s,y:y},r))}}])&&aw(e.prototype,r),n&&aw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function dw(t){return(dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vw(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==dw(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==dw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===dw(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}yw(bw,"tag","checkbox"),yw(bw,"defaultOptions",{style:{x:0,y:0,label:iw({text:""},tw),spacing:4,checked:!1}});var mw="gui-poptip",gw="gui-poptip-arrow",ww="gui-poptip-text",Ow=(vw(hw={},".".concat(mw),{visibility:"visible",position:"absolute","background-color":"rgba(0, 0, 0)","box-shadow":"0px 0px 10px #aeaeae","border-radius":"3px",color:"#fff",opacity:.8,"font-size":"12px",padding:"4px 6px",display:"flex","justify-content":"center","align-items":"center","z-index":8,transition:"visibility 50ms"}),vw(hw,".".concat(ww),{"text-align":"center"}),vw(hw,".".concat(mw,"[data-position='top']"),{transform:"translate(-50%, -100%)"}),vw(hw,".".concat(mw,"[data-position='left']"),{transform:"translate(-100%, -50%)"}),vw(hw,".".concat(mw,"[data-position='right']"),{transform:"translate(0, -50%)"}),vw(hw,".".concat(mw,"[data-position='bottom']"),{transform:"translate(-50%, 0)"}),vw(hw,".".concat(mw,"[data-position='top-left']"),{transform:"translate(0,-100%)"}),vw(hw,".".concat(mw,"[data-position='top-right']"),{transform:"translate(-100%,-100%)"}),vw(hw,".".concat(mw,"[data-position='left-top']"),{transform:"translate(-100%, 0)"}),vw(hw,".".concat(mw,"[data-position='left-bottom']"),{transform:"translate(-100%, -100%)"}),vw(hw,".".concat(mw,"[data-position='right-top']"),{transform:"translate(0, 0)"}),vw(hw,".".concat(mw,"[data-position='right-bottom']"),{transform:"translate(0, -100%)"}),vw(hw,".".concat(mw,"[data-position='bottom-left']"),{transform:"translate(0, 0)"}),vw(hw,".".concat(mw,"[data-position='bottom-right']"),{transform:"translate(-100%, 0)"}),vw(hw,".".concat(gw),{width:"4px",height:"4px",transform:"rotate(45deg)","background-color":"rgba(0, 0, 0)",position:"absolute","z-index":-1}),vw(hw,".".concat(mw,"[data-position='top']"),{transform:"translate(-50%, calc(-100% - 5px))"}),vw(hw,"[data-position='top'] .".concat(gw),{bottom:"-2px"}),vw(hw,".".concat(mw,"[data-position='left']"),{transform:"translate(calc(-100% - 5px), -50%)"}),vw(hw,"[data-position='left'] .".concat(gw),{right:"-2px"}),vw(hw,".".concat(mw,"[data-position='right']"),{transform:"translate(5px, -50%)"}),vw(hw,"[data-position='right'] .".concat(gw),{left:"-2px"}),vw(hw,".".concat(mw,"[data-position='bottom']"),{transform:"translate(-50%, 5px)"}),vw(hw,"[data-position='bottom'] .".concat(gw),{top:"-2px"}),vw(hw,".".concat(mw,"[data-position='top-left']"),{transform:"translate(0, calc(-100% - 5px))"}),vw(hw,"[data-position='top-left'] .".concat(gw),{left:"10px",bottom:"-2px"}),vw(hw,".".concat(mw,"[data-position='top-right']"),{transform:"translate(-100%, calc(-100% - 5px))"}),vw(hw,"[data-position='top-right'] .".concat(gw),{right:"10px",bottom:"-2px"}),vw(hw,".".concat(mw,"[data-position='left-top']"),{transform:"translate(calc(-100% - 5px), 0)"}),vw(hw,"[data-position='left-top'] .".concat(gw),{right:"-2px",top:"8px"}),vw(hw,".".concat(mw,"[data-position='left-bottom']"),{transform:"translate(calc(-100% - 5px), -100%)"}),vw(hw,"[data-position='left-bottom'] .".concat(gw),{right:"-2px",bottom:"8px"}),vw(hw,".".concat(mw,"[data-position='right-top']"),{transform:"translate(5px, 0)"}),vw(hw,"[data-position='right-top'] .".concat(gw),{left:"-2px",top:"8px"}),vw(hw,".".concat(mw,"[data-position='right-bottom']"),{transform:"translate(5px, -100%)"}),vw(hw,"[data-position='right-bottom'] .".concat(gw),{left:"-2px",bottom:"8px"}),vw(hw,".".concat(mw,"[data-position='bottom-left']"),{transform:"translate(0, 5px)"}),vw(hw,"[data-position='bottom-left'] .".concat(gw),{top:"-2px",left:"8px"}),vw(hw,".".concat(mw,"[data-position='bottom-right']"),{transform:"translate(-100%, 5px)"}),vw(hw,"[data-position='bottom-right'] .".concat(gw),{top:"-2px",right:"8px"}),hw);function jw(t){var e=t&&document.getElementById(t);return e||((e=document.createElement("div")).setAttribute("id",t),document.body.appendChild(e)),e}function Sw(t){var e,r;return(e=jw,function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r||(r=e.apply(void 0,n)),r})(t)}var Pw=["html","target"];function xw(t){return(xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kw(t){return function(t){if(Array.isArray(t))return _w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ew(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||Ew(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(t,e){if(t){if("string"==typeof t)return _w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_w(t,e):void 0}}function _w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tw(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}function Mw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nw(n.key),n)}}function Cw(t,e){return(Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Bw(t);if(e){var o=Bw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Iw(this,r)}}function Iw(t,e){if(e&&("object"===xw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lw(t)}function Lw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bw(t){return(Bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dw(t,e,r){return(e=Nw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nw(t){var e=function(t,e){if("object"!==xw(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==xw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===xw(e)?e:String(e)}var zw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cw(t,e)}(i,t);var e,r,n,o=Rw(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Dw(Lw(e=o.call(this,p({style:{id:"gui-poptip"}},i.defaultOptions,t))),"container",void 0),Dw(Lw(e),"visibility","visible"),Dw(Lw(e),"map",new Map),Dw(Lw(e),"domStyles",""),e.initShape(),e.render(e.attributes,Lw(e)),e}return e=i,(r=[{key:"visible",get:function(){return"visible"===this.visibility}},{key:"render",value:function(t,e){this.visibility=this.style.visibility,this.updatePoptipElement()}},{key:"update",value:function(t){this.attr(p({},this.style,t)),this.render(this.attributes,this)}},{key:"bind",value:function(t,e){var r=this;if(t){var n=this.style.text,o=function(o){var i=t,a=r.style,u=n;if(e){var l="function"==typeof e?e.call(null,o):e,c=l.html,f=l.target,s=Tw(l,Pw);a=Yg({},r.style,s),(f||!1===f)&&(i=f),"string"==typeof c&&(u=c)}var y=a,p=y.position,h=y.arrowPointAtCenter,b=y.follow,d=y.offset;if(i){var v=Aw(function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(i)return[t,e];var a=r.getBoundingClientRect(),u=a.x,l=a.y,c=a.width,f=a.height;switch(n){case"top":return o?[u+c/2,l]:[t,l];case"left":return o?[u,l+f/2]:[u,e];case"bottom":return o?[u+c/2,l+f]:[t,l+f];case"right":return o?[u+c,l+f/2]:[u+c,e];case"top-right":case"right-top":return[u+c,l];case"left-bottom":case"bottom-left":return[u,l+f];case"right-bottom":case"bottom-right":return[u+c,l+f];case"top-left":case"left-top":default:return[u,l]}}(o.clientX,o.clientY,i,p,h,b),2),m=v[0],g=v[1];r.showTip(m,g,{text:u,position:p,offset:d})}else r.hideTip()},i=function(){r.hideTip()};t.addEventListener("mousemove",o),t.addEventListener("mouseleave",i),this.map.set(t,[o,i])}}},{key:"unbind",value:function(t){if(this.map.has(t)){var e=Aw(this.map.get(t)||[],2),r=e[0],n=e[1];r&&t.removeEventListener("mousemove",r),n&&t.removeEventListener("mouseleave",n),this.map.delete(t)}}},{key:"clear",value:function(){this.container.innerHTML=""}},{key:"destroy",value:function(){var t,e=this;kw(this.map.keys()).forEach((function(t){return e.unbind(t)})),null===(t=this.container)||void 0===t||t.remove()}},{key:"showTip",value:function(t,e,r){var n=X(r,"text");if((!n||"string"==typeof n)&&(this.applyStyles(),t&&e&&r)){var o=r.offset,i=r.position;if(i&&this.container.setAttribute("data-position",i),this.setOffsetPosition(t,e,o),"string"==typeof n){var a=this.container.querySelector(".".concat(ww));a&&(a.innerHTML=n)}this.visibility="visible",this.container.style.visibility="visible"}}},{key:"hideTip",value:function(){this.visibility="hidden",this.container.style.visibility="hidden"}},{key:"getContainer",value:function(){return this.container}},{key:"getClassName",value:function(){var t=this.style.containerClassName;return"".concat(mw).concat(t?" ".concat(t):"")}},{key:"initShape",value:function(){var t=this,e=this.style.id;this.container=Sw(e),this.container.setAttribute("class",this.getClassName()),this.container.addEventListener("mousemove",(function(){return t.showTip()})),this.container.addEventListener("mouseleave",(function(){return t.hideTip()}))}},{key:"updatePoptipElement",value:function(){var t=this.container;this.clear();var e=this.style,r=e.id,n=e.template,o=e.text;this.container.setAttribute("id",r),this.container.setAttribute("class",this.getClassName());var i='<span class="'.concat(gw,'"></span>');t.innerHTML=i,P(n)?t.innerHTML+=n:n&&xv(n)&&t.appendChild(n),o&&(t.getElementsByClassName(ww)[0].textContent=o),this.applyStyles(),this.container.style.visibility=this.visibility}},{key:"applyStyles",value:function(){var t=ze({},Ow,this.style.domStyles),e=Object.entries(t).reduce((function(t,e){var r=Aw(e,2),n=r[0],o=r[1],i=Object.entries(o).reduce((function(t,e){var r=Aw(e,2),n=r[0],o=r[1];return"".concat(t).concat(n,": ").concat(o,";")}),"");return"".concat(t).concat(n,"{").concat(i,"}")}),"");if(this.domStyles!==e){this.domStyles=e;var r=this.container.querySelector("style");r&&this.container.removeChild(r),(r=document.createElement("style")).innerHTML=e,this.container.appendChild(r)}}},{key:"setOffsetPosition",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.style.offset,n=Aw(r,2),o=n[0],i=void 0===o?0:o,a=n[1],u=void 0===a?0:a;this.container.style.left="".concat(t+i,"px"),this.container.style.top="".concat(e+u,"px")}}])&&Mw(e.prototype,r),n&&Mw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(kn);function Gw(t){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);l=!0);}catch(t){c=!0,o=t}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hw(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hw(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jw(n.key),n)}}function Ww(t,e){return(Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Uw(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Kw(t);if(e){var o=Kw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $w(this,r)}}function $w(t,e){if(e&&("object"===Gw(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qw(t)}function qw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zw(){return(Zw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=Yw(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Yw(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kw(t)););return t}function Kw(t){return(Kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xw(t,e,r){return(e=Jw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jw(t){var e=function(t,e){if("object"!==Gw(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Gw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Gw(e)?e:String(e)}Dw(zw,"tag","poptip"),Dw(zw,"defaultOptions",{style:{x:0,y:0,width:0,height:0,target:null,visibility:"hidden",text:"",position:"top",follow:!1,offset:[0,0],domStyles:Ow,template:'<div class="'.concat(ww,'"></div>')}});var Qw=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}(i,t);var e,r,n,o=Uw(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Xw(qw(e=o.call(this,t)),"layoutEvents",[b.ElementEvent.BOUNDS_CHANGED,b.ElementEvent.INSERTED,b.ElementEvent.REMOVED]),Xw(qw(e),"$margin",Z(0)),Xw(qw(e),"$padding",Z(0));var r=t.style||{},n=r.margin,a=void 0===n?0:n,u=r.padding,l=void 0===u?0:u;return e.margin=a,e.padding=l,e.isMutationObserved=!0,e.bindEvents(),e}return e=i,(r=[{key:"margin",get:function(){return this.$margin},set:function(t){this.$margin=Z(t)}},{key:"padding",get:function(){return this.$padding},set:function(t){this.$padding=Z(t)}},{key:"getBBox",value:function(){var t=this.attributes,e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.width,a=t.height,u=Fw(this.$margin,4),l=u[0],c=u[1],f=u[2],s=u[3];return new Dr(r-s,o-l,i+s+c,a+l+f)}},{key:"appendChild",value:function(t,e){return t.isMutationObserved=!0,Zw(Kw(i.prototype),"appendChild",this).call(this,t,e),t}},{key:"getAvailableSpace",value:function(){var t=this.attributes,e=t.width,r=t.height,n=Fw(this.$padding,4),o=n[0],i=n[1],a=n[2],u=n[3],l=Fw(this.$margin,4),c=l[0],f=l[3];return new Dr(u+f,o+c,e-u-i,r-o-a)}},{key:"layout",value:function(){if(this.attributes.display&&this.isConnected&&!this.children.some((function(t){return!t.isConnected})))try{var t=Vr(this.getAvailableSpace(),this.children.map((function(t){return t.getBBox()})),this.attributes);this.children.forEach((function(e,r){var n=t[r],o=n.x,i=n.y;e.attr({x:o,y:i})}))}catch(t){}}},{key:"bindEvents",value:function(){var t=this;this.layoutEvents.forEach((function(e){t.addEventListener(e,(function(e){e.target.isMutationObserved=!0,t.layout()}))}))}},{key:"destroy",value:function(){this.removeAllEventListeners()}},{key:"attributeChangedCallback",value:function(t,e,r){"margin"===t?this.margin=e:"padding"===t&&(this.padding=e),this.layout()}}])&&Vw(e.prototype,r),n&&Vw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.Group)}])}));